function zN(s,i){for(var l=0;l<i.length;l++){const u=i[l];if(typeof u!="string"&&!Array.isArray(u)){for(const f in u)if(f!=="default"&&!(f in s)){const p=Object.getOwnPropertyDescriptor(u,f);p&&Object.defineProperty(s,f,p.get?p:{enumerable:!0,get:()=>u[f]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function l(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(f){if(f.ep)return;f.ep=!0;const p=l(f);fetch(f.href,p)}})();var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var pf={exports:{}},Lo={};var Ip;function UN(){if(Ip)return Lo;Ip=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(u,f,p){var g=null;if(p!==void 0&&(g=""+p),f.key!==void 0&&(g=""+f.key),"key"in f){p={};for(var v in f)v!=="key"&&(p[v]=f[v])}else p=f;return f=p.ref,{$$typeof:s,type:u,key:g,ref:f!==void 0?f:null,props:p}}return Lo.Fragment=i,Lo.jsx=l,Lo.jsxs=l,Lo}var Lp;function VN(){return Lp||(Lp=1,pf.exports=UN()),pf.exports}var t=VN(),gf={exports:{}},At={};var Pp;function HN(){if(Pp)return At;Pp=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),T=Symbol.iterator;function R(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,$={};function P(U,G,ie){this.props=U,this.context=G,this.refs=$,this.updater=ie||B}P.prototype.isReactComponent={},P.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=P.prototype;function L(U,G,ie){this.props=U,this.context=G,this.refs=$,this.updater=ie||B}var W=L.prototype=new O;W.constructor=L,D(W,P.prototype),W.isPureReactComponent=!0;var de=Array.isArray;function ae(){}var X={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function q(U,G,ie){var be=ie.ref;return{$$typeof:s,type:U,key:G,ref:be!==void 0?be:null,props:ie}}function Y(U,G){return q(U.type,G,U.props)}function Ce(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function he(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return G[ie]})}var oe=/\/+/g;function ge(U,G){return typeof U=="object"&&U!==null&&U.key!=null?he(""+U.key):G.toString(36)}function Z(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ae,ae):(U.status="pending",U.then(function(G){U.status==="pending"&&(U.status="fulfilled",U.value=G)},function(G){U.status==="pending"&&(U.status="rejected",U.reason=G)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function re(U,G,ie,be,V){var te=typeof U;(te==="undefined"||te==="boolean")&&(U=null);var se=!1;if(U===null)se=!0;else switch(te){case"bigint":case"string":case"number":se=!0;break;case"object":switch(U.$$typeof){case s:case i:se=!0;break;case A:return se=U._init,re(se(U._payload),G,ie,be,V)}}if(se)return V=V(U),se=be===""?"."+ge(U,0):be,de(V)?(ie="",se!=null&&(ie=se.replace(oe,"$&/")+"/"),re(V,G,ie,"",function(Me){return Me})):V!=null&&(Ce(V)&&(V=Y(V,ie+(V.key==null||U&&U.key===V.key?"":(""+V.key).replace(oe,"$&/")+"/")+se)),G.push(V)),1;se=0;var xe=be===""?".":be+":";if(de(U))for(var we=0;we<U.length;we++)be=U[we],te=xe+ge(be,we),se+=re(be,G,ie,te,V);else if(we=R(U),typeof we=="function")for(U=we.call(U),we=0;!(be=U.next()).done;)be=be.value,te=xe+ge(be,we++),se+=re(be,G,ie,te,V);else if(te==="object"){if(typeof U.then=="function")return re(Z(U),G,ie,be,V);throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return se}function J(U,G,ie){if(U==null)return U;var be=[],V=0;return re(U,be,"","",function(te){return G.call(ie,te,V++)}),be}function ke(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var ne=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ee={map:J,forEach:function(U,G,ie){J(U,function(){G.apply(this,arguments)},ie)},count:function(U){var G=0;return J(U,function(){G++}),G},toArray:function(U){return J(U,function(G){return G})||[]},only:function(U){if(!Ce(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return At.Activity=j,At.Children=ee,At.Component=P,At.Fragment=l,At.Profiler=f,At.PureComponent=L,At.StrictMode=u,At.Suspense=S,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,At.__COMPILER_RUNTIME={__proto__:null,c:function(U){return X.H.useMemoCache(U)}},At.cache=function(U){return function(){return U.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(U,G,ie){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var be=D({},U.props),V=U.key;if(G!=null)for(te in G.key!==void 0&&(V=""+G.key),G)!ue.call(G,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&G.ref===void 0||(be[te]=G[te]);var te=arguments.length-2;if(te===1)be.children=ie;else if(1<te){for(var se=Array(te),xe=0;xe<te;xe++)se[xe]=arguments[xe+2];be.children=se}return q(U.type,V,be)},At.createContext=function(U){return U={$$typeof:g,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:p,_context:U},U},At.createElement=function(U,G,ie){var be,V={},te=null;if(G!=null)for(be in G.key!==void 0&&(te=""+G.key),G)ue.call(G,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(V[be]=G[be]);var se=arguments.length-2;if(se===1)V.children=ie;else if(1<se){for(var xe=Array(se),we=0;we<se;we++)xe[we]=arguments[we+2];V.children=xe}if(U&&U.defaultProps)for(be in se=U.defaultProps,se)V[be]===void 0&&(V[be]=se[be]);return q(U,te,V)},At.createRef=function(){return{current:null}},At.forwardRef=function(U){return{$$typeof:v,render:U}},At.isValidElement=Ce,At.lazy=function(U){return{$$typeof:A,_payload:{_status:-1,_result:U},_init:ke}},At.memo=function(U,G){return{$$typeof:w,type:U,compare:G===void 0?null:G}},At.startTransition=function(U){var G=X.T,ie={};X.T=ie;try{var be=U(),V=X.S;V!==null&&V(ie,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(ae,ne)}catch(te){ne(te)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),X.T=G}},At.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},At.use=function(U){return X.H.use(U)},At.useActionState=function(U,G,ie){return X.H.useActionState(U,G,ie)},At.useCallback=function(U,G){return X.H.useCallback(U,G)},At.useContext=function(U){return X.H.useContext(U)},At.useDebugValue=function(){},At.useDeferredValue=function(U,G){return X.H.useDeferredValue(U,G)},At.useEffect=function(U,G){return X.H.useEffect(U,G)},At.useEffectEvent=function(U){return X.H.useEffectEvent(U)},At.useId=function(){return X.H.useId()},At.useImperativeHandle=function(U,G,ie){return X.H.useImperativeHandle(U,G,ie)},At.useInsertionEffect=function(U,G){return X.H.useInsertionEffect(U,G)},At.useLayoutEffect=function(U,G){return X.H.useLayoutEffect(U,G)},At.useMemo=function(U,G){return X.H.useMemo(U,G)},At.useOptimistic=function(U,G){return X.H.useOptimistic(U,G)},At.useReducer=function(U,G,ie){return X.H.useReducer(U,G,ie)},At.useRef=function(U){return X.H.useRef(U)},At.useState=function(U){return X.H.useState(U)},At.useSyncExternalStore=function(U,G,ie){return X.H.useSyncExternalStore(U,G,ie)},At.useTransition=function(){return X.H.useTransition()},At.version="19.2.3",At}var $p;function ud(){return $p||($p=1,gf.exports=HN()),gf.exports}var _=ud();const Ze=cd(_);var bf={exports:{}},Po={},yf={exports:{}},wf={};var zp;function GN(){return zp||(zp=1,(function(s){function i(re,J){var ke=re.length;re.push(J);e:for(;0<ke;){var ne=ke-1>>>1,ee=re[ne];if(0<f(ee,J))re[ne]=J,re[ke]=ee,ke=ne;else break e}}function l(re){return re.length===0?null:re[0]}function u(re){if(re.length===0)return null;var J=re[0],ke=re.pop();if(ke!==J){re[0]=ke;e:for(var ne=0,ee=re.length,U=ee>>>1;ne<U;){var G=2*(ne+1)-1,ie=re[G],be=G+1,V=re[be];if(0>f(ie,ke))be<ee&&0>f(V,ie)?(re[ne]=V,re[be]=ke,ne=be):(re[ne]=ie,re[G]=ke,ne=G);else if(be<ee&&0>f(V,ke))re[ne]=V,re[be]=ke,ne=be;else break e}}return J}function f(re,J){var ke=re.sortIndex-J.sortIndex;return ke!==0?ke:re.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var g=Date,v=g.now();s.unstable_now=function(){return g.now()-v}}var S=[],w=[],A=1,j=null,T=3,R=!1,B=!1,D=!1,$=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function W(re){for(var J=l(w);J!==null;){if(J.callback===null)u(w);else if(J.startTime<=re)u(w),J.sortIndex=J.expirationTime,i(S,J);else break;J=l(w)}}function de(re){if(D=!1,W(re),!B)if(l(S)!==null)B=!0,ae||(ae=!0,he());else{var J=l(w);J!==null&&Z(de,J.startTime-re)}}var ae=!1,X=-1,ue=5,q=-1;function Y(){return $?!0:!(s.unstable_now()-q<ue)}function Ce(){if($=!1,ae){var re=s.unstable_now();q=re;var J=!0;try{e:{B=!1,D&&(D=!1,O(X),X=-1),R=!0;var ke=T;try{t:{for(W(re),j=l(S);j!==null&&!(j.expirationTime>re&&Y());){var ne=j.callback;if(typeof ne=="function"){j.callback=null,T=j.priorityLevel;var ee=ne(j.expirationTime<=re);if(re=s.unstable_now(),typeof ee=="function"){j.callback=ee,W(re),J=!0;break t}j===l(S)&&u(S),W(re)}else u(S);j=l(S)}if(j!==null)J=!0;else{var U=l(w);U!==null&&Z(de,U.startTime-re),J=!1}}break e}finally{j=null,T=ke,R=!1}J=void 0}}finally{J?he():ae=!1}}}var he;if(typeof L=="function")he=function(){L(Ce)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ge=oe.port2;oe.port1.onmessage=Ce,he=function(){ge.postMessage(null)}}else he=function(){P(Ce,0)};function Z(re,J){X=P(function(){re(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(re){re.callback=null},s.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<re?Math.floor(1e3/re):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(re){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var ke=T;T=J;try{return re()}finally{T=ke}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(re,J){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ke=T;T=re;try{return J()}finally{T=ke}},s.unstable_scheduleCallback=function(re,J,ke){var ne=s.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?ne+ke:ne):ke=ne,re){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ke+ee,re={id:A++,callback:J,priorityLevel:re,startTime:ke,expirationTime:ee,sortIndex:-1},ke>ne?(re.sortIndex=ke,i(w,re),l(S)===null&&re===l(w)&&(D?(O(X),X=-1):D=!0,Z(de,ke-ne))):(re.sortIndex=ee,i(S,re),B||R||(B=!0,ae||(ae=!0,he()))),re},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(re){var J=T;return function(){var ke=T;T=J;try{return re.apply(this,arguments)}finally{T=ke}}}})(wf)),wf}var Up;function qN(){return Up||(Up=1,yf.exports=GN()),yf.exports}var vf={exports:{}},_s={};var Vp;function XN(){if(Vp)return _s;Vp=1;var s=ud();function i(S){var w="https://react.dev/errors/"+S;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)w+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+S+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},f=Symbol.for("react.portal");function p(S,w,A){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:j==null?null:""+j,children:S,containerInfo:w,implementation:A}}var g=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(S,w){if(S==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return _s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,_s.createPortal=function(S,w){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(i(299));return p(S,w,null,A)},_s.flushSync=function(S){var w=g.T,A=u.p;try{if(g.T=null,u.p=2,S)return S()}finally{g.T=w,u.p=A,u.d.f()}},_s.preconnect=function(S,w){typeof S=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,u.d.C(S,w))},_s.prefetchDNS=function(S){typeof S=="string"&&u.d.D(S)},_s.preinit=function(S,w){if(typeof S=="string"&&w&&typeof w.as=="string"){var A=w.as,j=v(A,w.crossOrigin),T=typeof w.integrity=="string"?w.integrity:void 0,R=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;A==="style"?u.d.S(S,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:j,integrity:T,fetchPriority:R}):A==="script"&&u.d.X(S,{crossOrigin:j,integrity:T,fetchPriority:R,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},_s.preinitModule=function(S,w){if(typeof S=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var A=v(w.as,w.crossOrigin);u.d.M(S,{crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&u.d.M(S)},_s.preload=function(S,w){if(typeof S=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var A=w.as,j=v(A,w.crossOrigin);u.d.L(S,A,{crossOrigin:j,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},_s.preloadModule=function(S,w){if(typeof S=="string")if(w){var A=v(w.as,w.crossOrigin);u.d.m(S,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:A,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else u.d.m(S)},_s.requestFormReset=function(S){u.d.r(S)},_s.unstable_batchedUpdates=function(S,w){return S(w)},_s.useFormState=function(S,w,A){return g.H.useFormState(S,w,A)},_s.useFormStatus=function(){return g.H.useHostTransitionStatus()},_s.version="19.2.3",_s}var Hp;function YN(){if(Hp)return vf.exports;Hp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),vf.exports=XN(),vf.exports}var Gp;function WN(){if(Gp)return Po;Gp=1;var s=qN(),i=ud(),l=YN();function u(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var a=e,c=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(c=a.return),e=a.return;while(e)}return a.tag===3?c:null}function g(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function v(e){if(e.tag===31){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function S(e){if(p(e)!==e)throw Error(u(188))}function w(e){var a=e.alternate;if(!a){if(a=p(e),a===null)throw Error(u(188));return a!==e?null:e}for(var c=e,m=a;;){var y=c.return;if(y===null)break;var C=y.alternate;if(C===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===C.child){for(C=y.child;C;){if(C===c)return S(y),e;if(C===m)return S(y),a;C=C.sibling}throw Error(u(188))}if(c.return!==m.return)c=y,m=C;else{for(var F=!1,H=y.child;H;){if(H===c){F=!0,c=y,m=C;break}if(H===m){F=!0,m=y,c=C;break}H=H.sibling}if(!F){for(H=C.child;H;){if(H===c){F=!0,c=C,m=y;break}if(H===m){F=!0,m=C,c=y;break}H=H.sibling}if(!F)throw Error(u(189))}}if(c.alternate!==m)throw Error(u(190))}if(c.tag!==3)throw Error(u(188));return c.stateNode.current===c?e:a}function A(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=A(e),a!==null)return a;e=e.sibling}return null}var j=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),L=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=Ce&&e[Ce]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case P:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case ae:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case L:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case W:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return a=e.displayName||null,a!==null?a:ge(e.type)||"Memo";case ue:a=e._payload,e=e._init;try{return ge(e(a))}catch{}}return null}var Z=Array.isArray,re=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},ne=[],ee=-1;function U(e){return{current:e}}function G(e){0>ee||(e.current=ne[ee],ne[ee]=null,ee--)}function ie(e,a){ee++,ne[ee]=e.current,e.current=a}var be=U(null),V=U(null),te=U(null),se=U(null);function xe(e,a){switch(ie(te,a),ie(V,e),ie(be,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?rp(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=rp(a),e=lp(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(be),ie(be,e)}function we(){G(be),G(V),G(te)}function Me(e){e.memoizedState!==null&&ie(se,e);var a=be.current,c=lp(a,e.type);a!==c&&(ie(V,e),ie(be,c))}function Ve(e){V.current===e&&(G(be),G(V)),se.current===e&&(G(se),Bo._currentValue=ke)}var Re,pe;function Ue(e){if(Re===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Re=a&&a[1]||"",pe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+e+pe}var Se=!1;function Ge(e,a){if(!e||Se)return"";Se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(a){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(De){var Te=De}Reflect.construct(e,[],$e)}else{try{$e.call()}catch(De){Te=De}e.call($e.prototype)}}else{try{throw Error()}catch(De){Te=De}($e=e())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(De){if(De&&Te&&typeof De.stack=="string")return[De.stack,Te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=m.DetermineComponentFrameRoot(),F=C[0],H=C[1];if(F&&H){var le=F.split(`
`),Ee=H.split(`
`);for(y=m=0;m<le.length&&!le[m].includes("DetermineComponentFrameRoot");)m++;for(;y<Ee.length&&!Ee[y].includes("DetermineComponentFrameRoot");)y++;if(m===le.length||y===Ee.length)for(m=le.length-1,y=Ee.length-1;1<=m&&0<=y&&le[m]!==Ee[y];)y--;for(;1<=m&&0<=y;m--,y--)if(le[m]!==Ee[y]){if(m!==1||y!==1)do if(m--,y--,0>y||le[m]!==Ee[y]){var Le=`
`+le[m].replace(" at new "," at ");return e.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",e.displayName)),Le}while(1<=m&&0<=y);break}}}finally{Se=!1,Error.prepareStackTrace=c}return(c=e?e.displayName||e.name:"")?Ue(c):""}function Je(e,a){switch(e.tag){case 26:case 27:case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return e.child!==a&&a!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return Ge(e.type,!1);case 11:return Ge(e.type.render,!1);case 1:return Ge(e.type,!0);case 31:return Ue("Activity");default:return""}}function et(e){try{var a="",c=null;do a+=Je(e,c),c=e,e=e.return;while(e);return a}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ot=Object.prototype.hasOwnProperty,cn=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,ls=s.unstable_shouldYield,Fs=s.unstable_requestPaint,Fe=s.unstable_now,ut=s.unstable_getCurrentPriorityLevel,Ae=s.unstable_ImmediatePriority,nt=s.unstable_UserBlockingPriority,rt=s.unstable_NormalPriority,gt=s.unstable_LowPriority,Mn=s.unstable_IdlePriority,Es=s.log,Ea=s.unstable_setDisableYieldValue,Bt=null,Xe=null;function qt(e){if(typeof Es=="function"&&Ea(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Bt,e)}catch{}}var Ct=Math.clz32?Math.clz32:Kt,un=Math.log,Ht=Math.LN2;function Kt(e){return e>>>=0,e===0?32:31-(un(e)/Ht|0)|0}var Yt=256,bt=262144,Ie=4194304;function ft(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Dt(e,a,c){var m=e.pendingLanes;if(m===0)return 0;var y=0,C=e.suspendedLanes,F=e.pingedLanes;e=e.warmLanes;var H=m&134217727;return H!==0?(m=H&~C,m!==0?y=ft(m):(F&=H,F!==0?y=ft(F):c||(c=H&~e,c!==0&&(y=ft(c))))):(H=m&~C,H!==0?y=ft(H):F!==0?y=ft(F):c||(c=m&~e,c!==0&&(y=ft(c)))),y===0?0:a!==0&&a!==y&&(a&C)===0&&(C=y&-y,c=a&-a,C>=c||C===32&&(c&4194048)!==0)?a:y}function yt(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function As(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var e=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),e}function xs(e){for(var a=[],c=0;31>c;c++)a.push(e);return a}function ps(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zn(e,a,c,m,y,C){var F=e.pendingLanes;e.pendingLanes=c,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=c,e.entangledLanes&=c,e.errorRecoveryDisabledLanes&=c,e.shellSuspendCounter=0;var H=e.entanglements,le=e.expirationTimes,Ee=e.hiddenUpdates;for(c=F&~c;0<c;){var Le=31-Ct(c),$e=1<<Le;H[Le]=0,le[Le]=-1;var Te=Ee[Le];if(Te!==null)for(Ee[Le]=null,Le=0;Le<Te.length;Le++){var De=Te[Le];De!==null&&(De.lane&=-536870913)}c&=~$e}m!==0&&Yr(e,m,0),C!==0&&y===0&&e.tag!==0&&(e.suspendedLanes|=C&~(F&~a))}function Yr(e,a,c){e.pendingLanes|=a,e.suspendedLanes&=~a;var m=31-Ct(a);e.entangledLanes|=a,e.entanglements[m]=e.entanglements[m]|1073741824|c&261930}function Ks(e,a){var c=e.entangledLanes|=a;for(e=e.entanglements;c;){var m=31-Ct(c),y=1<<m;y&a|e[m]&a&&(e[m]|=a),c&=~y}}function si(e,a){var c=a&-a;return c=(c&42)!==0?1:Qn(c),(c&(e.suspendedLanes|a))!==0?0:c}function Qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wt(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:kp(e.type))}function Ye(e,a){var c=J.p;try{return J.p=e,a()}finally{J.p=c}}var mn=Math.random().toString(36).slice(2),an="__reactFiber$"+mn,en="__reactProps$"+mn,_e="__reactContainer$"+mn,$t="__reactEvents$"+mn,In="__reactListeners$"+mn,Fn="__reactHandles$"+mn,Aa="__reactResources$"+mn,ai="__reactMarker$"+mn;function os(e){delete e[an],delete e[en],delete e[$t],delete e[In],delete e[Fn]}function xn(e){var a=e[an];if(a)return a;for(var c=e.parentNode;c;){if(a=c[_e]||c[an]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(e=mp(e);e!==null;){if(c=e[an])return c;e=mp(e)}return a}e=c,c=e.parentNode}return null}function tn(e){if(e=e[an]||e[_e]){var a=e.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return e}return null}function Oi(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(u(33))}function Rs(e){var a=e[Aa];return a||(a=e[Aa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function $n(e){e[ai]=!0}var ze=new Set,pc={};function rn(e,a){Qs(e,a),Qs(e+"Capture",a)}function Qs(e,a){for(pc[e]=a,e=0;e<a.length;e++)ze.add(a[e])}var vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wt={},Xt={};function It(e){return ot.call(Xt,e)?!0:ot.call(Wt,e)?!1:vd.test(e)?Xt[e]=!0:(Wt[e]=!0,!1)}function Bi(e,a,c){if(It(a))if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var m=a.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+c)}}function Di(e,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+c)}}function Js(e,a,c,m){if(m===null)e.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(c);return}e.setAttributeNS(a,c,""+m)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _a(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Nd(e,a,c){var m=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);if(!e.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,C=m.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return y.call(this)},set:function(F){c=""+F,C.call(this,F)}}),Object.defineProperty(e,a,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(F){c=""+F},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function jn(e){if(!e._valueTracker){var a=_a(e)?"checked":"value";e._valueTracker=Nd(e,a,""+e[a])}}function Ta(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var c=a.getValue(),m="";return e&&(m=_a(e)?e.checked?"true":"false":e.value),e=m,e!==c?(a.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mi=/[\n"\\]/g;function Mt(e){return e.replace(Mi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jn(e,a,c,m,y,C,F,H){e.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?e.type=F:e.removeAttribute("type"),a!=null?F==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+Zt(a)):e.value!==""+Zt(a)&&(e.value=""+Zt(a)):F!=="submit"&&F!=="reset"||e.removeAttribute("value"),a!=null?K(e,F,Zt(a)):c!=null?K(e,F,Zt(c)):m!=null&&e.removeAttribute("value"),y==null&&C!=null&&(e.defaultChecked=!!C),y!=null&&(e.checked=y&&typeof y!="function"&&typeof y!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?e.name=""+Zt(H):e.removeAttribute("name")}function Ne(e,a,c,m,y,C,F,H){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.type=C),a!=null||c!=null){if(!(C!=="submit"&&C!=="reset"||a!=null)){jn(e);return}c=c!=null?""+Zt(c):"",a=a!=null?""+Zt(a):c,H||a===e.value||(e.value=a),e.defaultValue=a}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,e.checked=H?e.checked:!!m,e.defaultChecked=!!m,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(e.name=F),jn(e)}function K(e,a,c){a==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+c||(e.defaultValue=""+c)}function lt(e,a,c,m){if(e=e.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<e.length;c++)y=a.hasOwnProperty("$"+e[c].value),e[c].selected!==y&&(e[c].selected=y),y&&m&&(e[c].defaultSelected=!0)}else{for(c=""+Zt(c),a=null,y=0;y<e.length;y++){if(e[y].value===c){e[y].selected=!0,m&&(e[y].defaultSelected=!0);return}a!==null||e[y].disabled||(a=e[y])}a!==null&&(a.selected=!0)}}function Xn(e,a,c){if(a!=null&&(a=""+Zt(a),a!==e.value&&(e.value=a),c==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=c!=null?""+Zt(c):""}function Os(e,a,c,m){if(a==null){if(m!=null){if(c!=null)throw Error(u(92));if(Z(m)){if(1<m.length)throw Error(u(93));m=m[0]}c=m}c==null&&(c=""),a=c}c=Zt(a),e.defaultValue=c,m=e.textContent,m===c&&m!==""&&m!==null&&(e.value=m),jn(e)}function Ii(e,a){if(a){var c=e.firstChild;if(c&&c===e.lastChild&&c.nodeType===3){c.nodeValue=a;return}}e.textContent=a}var Wl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bs(e,a,c){var m=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":m?e.setProperty(a,c):typeof c!="number"||c===0||Wl.has(a)?a==="float"?e.cssFloat=c:e[a]=(""+c).trim():e[a]=c+"px"}function dt(e,a,c){if(a!=null&&typeof a!="object")throw Error(u(62));if(e=e.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||a!=null&&a.hasOwnProperty(m)||(m.indexOf("--")===0?e.setProperty(m,""):m==="float"?e.cssFloat="":e[m]="");for(var y in a)m=a[y],a.hasOwnProperty(y)&&c[y]!==m&&Bs(e,y,m)}else for(var C in a)a.hasOwnProperty(C)&&Bs(e,C,a[C])}function yn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(e){return Cd.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ps(){}var yr=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var En=null,ua=null;function ka(e){var a=tn(e);if(a&&(e=a.stateNode)){var c=e[en]||null;e:switch(e=a.stateNode,a.type){case"input":if(Jn(e,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=e;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Mt(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var m=c[a];if(m!==e&&m.form===e.form){var y=m[en]||null;if(!y)throw Error(u(90));Jn(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)m=c[a],m.form===e.form&&Ta(m)}break e;case"textarea":Xn(e,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&lt(e,!!c.multiple,a,!1)}}}var mt=!1;function bc(e,a,c){if(mt)return e(a,c);mt=!0;try{var m=e(a);return m}finally{if(mt=!1,(En!==null||ua!==null)&&(cu(),En&&(a=En,e=ua,ua=En=null,ka(a),e)))for(a=0;a<e.length;a++)ka(e[a])}}function St(e,a){var c=e.stateNode;if(c===null)return null;var m=c[en]||null;if(m===null)return null;c=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(e=e.type,m=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!m;break e;default:e=!1}if(e)return null;if(c&&typeof c!="function")throw Error(u(231,a,typeof c));return c}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=!1;if(wn)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{Zl=!1}var Fa=null,Ra=null,Kr=null;function Pi(){if(Kr)return Kr;var e,a=Ra,c=a.length,m,y="value"in Fa?Fa.value:Fa.textContent,C=y.length;for(e=0;e<c&&a[e]===y[e];e++);var F=c-e;for(m=1;m<=F&&a[c-m]===y[C-m];m++);return Kr=y.slice(e,1<m?1-m:void 0)}function Ua(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Va(){return!0}function Ql(){return!1}function es(e){function a(c,m,y,C,F){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=C,this.target=F,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(c=e[H],this[H]=c?c(C):C[H]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Va:Ql,this.isPropagationStopped=Ql,this}return j(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),a}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=es(ea),$i=j({},ea,{view:0,detail:0}),yc=es($i),Zr,Jl,wr,Qr=j({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(Zr=e.screenX-wr.screenX,Jl=e.screenY-wr.screenY):Jl=Zr=0,wr=e),Zr)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),nn=es(Qr),wc=j({},Qr,{dataTransfer:0}),Jr=es(wc),Ha=j({},$i,{relatedTarget:0}),eo=es(Ha),Be=j({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Tt=es(Be),us=j({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),el=es(us),vc=j({},ea,{data:0}),Nc=es(vc),Sd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},to={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yn(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=to[e])?!!a[e]:!1}function vr(){return Yn}var Rn=j({},$i,{key:function(e){if(e.key){var a=Sd[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tl=es(Rn),ri=j({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ln=es(ri),xt=j({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Ed=es(xt),vn=j({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),li=es(vn),zi=j({},Qr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ad=es(zi),da=j({},ea,{newState:0,oldState:0}),no=es(da),Cc=[9,13,27,32],Nr=wn&&"CompositionEvent"in window,Ui=null;wn&&"documentMode"in document&&(Ui=document.documentMode);var Sc=wn&&"TextEvent"in window&&!Ui,jc=wn&&(!Nr||Ui&&8<Ui&&11>=Ui),oi=" ",nl=!1;function Ec(e,a){switch(e){case"keyup":return Cc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function Ga(e,a){switch(e){case"compositionend":return Vi(a);case"keypress":return a.which!==32?null:(nl=!0,oi);case"textInput":return e=a.data,e===oi&&nl?null:e;default:return null}}function sl(e,a){if(Hi)return e==="compositionend"||!Nr&&Ec(e,a)?(e=Pi(),Kr=Ra=Fa=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return jc&&a.locale!=="ko"?null:a.data;default:return null}}var $s={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function so(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!$s[e.type]:a==="textarea"}function ta(e,a,c,m){En?ua?ua.push(m):ua=[m]:En=m,a=pu(a,"onChange"),0<a.length&&(c=new cs("onChange","change",null,c,m),e.push({event:c,listeners:a}))}var Cr=null,ci=null;function _d(e){ep(e,0)}function Sr(e){var a=Oi(e);if(Ta(a))return e}function na(e,a){if(e==="change")return a}var Ac=!1;if(wn){var jr;if(wn){var ui="oninput"in document;if(!ui){var zt=document.createElement("div");zt.setAttribute("oninput","return;"),ui=typeof zt.oninput=="function"}jr=ui}else jr=!1;Ac=jr&&(!document.documentMode||9<document.documentMode)}function Er(){Cr&&(Cr.detachEvent("onpropertychange",M),ci=Cr=null)}function M(e){if(e.propertyName==="value"&&Sr(ci)){var a=[];ta(a,ci,e,Kl(e)),bc(_d,a)}}function n(e,a,c){e==="focusin"?(Er(),Cr=a,ci=c,Cr.attachEvent("onpropertychange",M)):e==="focusout"&&Er()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sr(ci)}function o(e,a){if(e==="click")return Sr(a)}function d(e,a){if(e==="input"||e==="change")return Sr(a)}function h(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var x=typeof Object.is=="function"?Object.is:h;function b(e,a){if(x(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var c=Object.keys(e),m=Object.keys(a);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!ot.call(a,y)||!x(e[y],a[y]))return!1}return!0}function N(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E(e,a){var c=N(e);e=0;for(var m;c;){if(c.nodeType===3){if(m=e+c.textContent.length,e<=a&&m>=a)return{node:c,offset:a-e};e=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=N(c)}}function k(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?k(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function I(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=Wr(e.document);a instanceof e.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)e=a.contentWindow;else break;a=Wr(e.document)}return a}function z(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var Q=wn&&"documentMode"in document&&11>=document.documentMode,ce=null,fe=null,ve=null,Oe=!1;function Ke(e,a,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Oe||ce==null||ce!==Wr(m)||(m=ce,"selectionStart"in m&&z(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ve&&b(ve,m)||(ve=m,m=pu(fe,"onSelect"),0<m.length&&(a=new cs("onSelect","select",null,a,c),e.push({event:a,listeners:m}),a.target=ce)))}function We(e,a){var c={};return c[e.toLowerCase()]=a.toLowerCase(),c["Webkit"+e]="webkit"+a,c["Moz"+e]="moz"+a,c}var He={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionrun:We("Transition","TransitionRun"),transitionstart:We("Transition","TransitionStart"),transitioncancel:We("Transition","TransitionCancel"),transitionend:We("Transition","TransitionEnd")},Rt={},Et={};wn&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);function zn(e){if(Rt[e])return Rt[e];if(!He[e])return e;var a=He[e],c;for(c in a)if(a.hasOwnProperty(c)&&c in Et)return Rt[e]=a[c];return e}var zs=zn("animationend"),gs=zn("animationiteration"),on=zn("animationstart"),ds=zn("transitionrun"),Ds=zn("transitionstart"),Gi=zn("transitioncancel"),di=zn("transitionend"),_c=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function Oa(e,a){_c.set(e,a),rn(a,[e])}var Tc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ha=[],al=0,Td=0;function kc(){for(var e=al,a=Td=al=0;a<e;){var c=ha[a];ha[a++]=null;var m=ha[a];ha[a++]=null;var y=ha[a];ha[a++]=null;var C=ha[a];if(ha[a++]=null,m!==null&&y!==null){var F=m.pending;F===null?y.next=y:(y.next=F.next,F.next=y),m.pending=y}C!==0&&Dm(c,y,C)}}function Fc(e,a,c,m){ha[al++]=e,ha[al++]=a,ha[al++]=c,ha[al++]=m,Td|=m,e.lanes|=m,e=e.alternate,e!==null&&(e.lanes|=m)}function kd(e,a,c,m){return Fc(e,a,c,m),Rc(e)}function Ar(e,a){return Fc(e,null,null,a),Rc(e)}function Dm(e,a,c){e.lanes|=c;var m=e.alternate;m!==null&&(m.lanes|=c);for(var y=!1,C=e.return;C!==null;)C.childLanes|=c,m=C.alternate,m!==null&&(m.childLanes|=c),C.tag===22&&(e=C.stateNode,e===null||e._visibility&1||(y=!0)),e=C,C=C.return;return e.tag===3?(C=e.stateNode,y&&a!==null&&(y=31-Ct(c),e=C.hiddenUpdates,m=e[y],m===null?e[y]=[a]:m.push(a),a.lane=c|536870912),C):null}function Rc(e){if(50<Ao)throw Ao=0,Ph=null,Error(u(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var il={};function Sv(e,a,c,m){this.tag=e,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(e,a,c,m){return new Sv(e,a,c,m)}function Fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hi(e,a){var c=e.alternate;return c===null?(c=sa(e.tag,a,e.key,e.mode),c.elementType=e.elementType,c.type=e.type,c.stateNode=e.stateNode,c.alternate=e,e.alternate=c):(c.pendingProps=a,c.type=e.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=e.flags&65011712,c.childLanes=e.childLanes,c.lanes=e.lanes,c.child=e.child,c.memoizedProps=e.memoizedProps,c.memoizedState=e.memoizedState,c.updateQueue=e.updateQueue,a=e.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=e.sibling,c.index=e.index,c.ref=e.ref,c.refCleanup=e.refCleanup,c}function Mm(e,a){e.flags&=65011714;var c=e.alternate;return c===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=c.childLanes,e.lanes=c.lanes,e.child=c.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=c.memoizedProps,e.memoizedState=c.memoizedState,e.updateQueue=c.updateQueue,e.type=c.type,a=c.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Oc(e,a,c,m,y,C){var F=0;if(m=e,typeof e=="function")Fd(e)&&(F=1);else if(typeof e=="string")F=TN(e,c,be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=sa(31,c,a,y),e.elementType=q,e.lanes=C,e;case D:return _r(c.children,y,C,a);case $:F=8,y|=24;break;case P:return e=sa(12,c,a,y|2),e.elementType=P,e.lanes=C,e;case de:return e=sa(13,c,a,y),e.elementType=de,e.lanes=C,e;case ae:return e=sa(19,c,a,y),e.elementType=ae,e.lanes=C,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:F=10;break e;case O:F=9;break e;case W:F=11;break e;case X:F=14;break e;case ue:F=16,m=null;break e}F=29,c=Error(u(130,e===null?"null":typeof e,"")),m=null}return a=sa(F,c,a,y),a.elementType=e,a.type=m,a.lanes=C,a}function _r(e,a,c,m){return e=sa(7,e,m,a),e.lanes=c,e}function Rd(e,a,c){return e=sa(6,e,null,a),e.lanes=c,e}function Im(e){var a=sa(18,null,null,0);return a.stateNode=e,a}function Od(e,a,c){return a=sa(4,e.children!==null?e.children:[],e.key,a),a.lanes=c,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var Lm=new WeakMap;function fa(e,a){if(typeof e=="object"&&e!==null){var c=Lm.get(e);return c!==void 0?c:(a={value:e,source:a,stack:et(a)},Lm.set(e,a),a)}return{value:e,source:a,stack:et(a)}}var rl=[],ll=0,Bc=null,io=0,ma=[],xa=0,qi=null,qa=1,Xa="";function fi(e,a){rl[ll++]=io,rl[ll++]=Bc,Bc=e,io=a}function Pm(e,a,c){ma[xa++]=qa,ma[xa++]=Xa,ma[xa++]=qi,qi=e;var m=qa;e=Xa;var y=32-Ct(m)-1;m&=~(1<<y),c+=1;var C=32-Ct(a)+y;if(30<C){var F=y-y%5;C=(m&(1<<F)-1).toString(32),m>>=F,y-=F,qa=1<<32-Ct(a)+y|c<<y|m,Xa=C+e}else qa=1<<C|c<<y|m,Xa=e}function Bd(e){e.return!==null&&(fi(e,1),Pm(e,1,0))}function Dd(e){for(;e===Bc;)Bc=rl[--ll],rl[ll]=null,io=rl[--ll],rl[ll]=null;for(;e===qi;)qi=ma[--xa],ma[xa]=null,Xa=ma[--xa],ma[xa]=null,qa=ma[--xa],ma[xa]=null}function $m(e,a){ma[xa++]=qa,ma[xa++]=Xa,ma[xa++]=qi,qa=a.id,Xa=a.overflow,qi=e}var bs=null,An=null,Gt=!1,Xi=null,pa=!1,Md=Error(u(519));function Yi(e){var a=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ro(fa(a,e)),Md}function zm(e){var a=e.stateNode,c=e.type,m=e.memoizedProps;switch(a[an]=e,a[en]=m,c){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(c=0;c<To.length;c++)Pt(To[c],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),Ne(a,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),Os(a,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||m.suppressHydrationWarning===!0||ap(a.textContent,c)?(m.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),m.onScroll!=null&&Pt("scroll",a),m.onScrollEnd!=null&&Pt("scrollend",a),m.onClick!=null&&(a.onclick=Ps),a=!0):a=!1,a||Yi(e,!0)}function Um(e){for(bs=e.return;bs;)switch(bs.tag){case 5:case 31:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:bs=bs.return}}function ol(e){if(e!==bs)return!1;if(!Gt)return Um(e),Gt=!0,!1;var a=e.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=e.type,c=!(c!=="form"&&c!=="button")||ef(e.type,e.memoizedProps)),c=!c),c&&An&&Yi(e),Um(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));An=fp(e)}else if(a===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));An=fp(e)}else a===27?(a=An,or(e.type)?(e=rf,rf=null,An=e):An=a):An=bs?ba(e.stateNode.nextSibling):null;return!0}function Tr(){An=bs=null,Gt=!1}function Id(){var e=Xi;return e!==null&&(Gs===null?Gs=e:Gs.push.apply(Gs,e),Xi=null),e}function ro(e){Xi===null?Xi=[e]:Xi.push(e)}var Ld=U(null),kr=null,mi=null;function Wi(e,a,c){ie(Ld,a._currentValue),a._currentValue=c}function xi(e){e._currentValue=Ld.current,G(Ld)}function Pd(e,a,c){for(;e!==null;){var m=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),e===c)break;e=e.return}}function $d(e,a,c,m){var y=e.child;for(y!==null&&(y.return=e);y!==null;){var C=y.dependencies;if(C!==null){var F=y.child;C=C.firstContext;e:for(;C!==null;){var H=C;C=y;for(var le=0;le<a.length;le++)if(H.context===a[le]){C.lanes|=c,H=C.alternate,H!==null&&(H.lanes|=c),Pd(C.return,c,e),m||(F=null);break e}C=H.next}}else if(y.tag===18){if(F=y.return,F===null)throw Error(u(341));F.lanes|=c,C=F.alternate,C!==null&&(C.lanes|=c),Pd(F,c,e),F=null}else F=y.child;if(F!==null)F.return=y;else for(F=y;F!==null;){if(F===e){F=null;break}if(y=F.sibling,y!==null){y.return=F.return,F=y;break}F=F.return}y=F}}function cl(e,a,c,m){e=null;for(var y=a,C=!1;y!==null;){if(!C){if((y.flags&524288)!==0)C=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var F=y.alternate;if(F===null)throw Error(u(387));if(F=F.memoizedProps,F!==null){var H=y.type;x(y.pendingProps.value,F.value)||(e!==null?e.push(H):e=[H])}}else if(y===se.current){if(F=y.alternate,F===null)throw Error(u(387));F.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(e!==null?e.push(Bo):e=[Bo])}y=y.return}e!==null&&$d(a,e,c,m),a.flags|=262144}function Dc(e){for(e=e.firstContext;e!==null;){if(!x(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){kr=e,mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ys(e){return Vm(kr,e)}function Mc(e,a){return kr===null&&Fr(e),Vm(e,a)}function Vm(e,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},mi===null){if(e===null)throw Error(u(308));mi=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else mi=mi.next=a;return c}var jv=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(c,m){e.push(m)}};this.abort=function(){a.aborted=!0,e.forEach(function(c){return c()})}},Ev=s.unstable_scheduleCallback,Av=s.unstable_NormalPriority,ts={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zd(){return{controller:new jv,data:new Map,refCount:0}}function lo(e){e.refCount--,e.refCount===0&&Ev(Av,function(){e.controller.abort()})}var oo=null,Ud=0,ul=0,dl=null;function _v(e,a){if(oo===null){var c=oo=[];Ud=0,ul=Gh(),dl={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Ud++,a.then(Hm,Hm),a}function Hm(){if(--Ud===0&&oo!==null){dl!==null&&(dl.status="fulfilled");var e=oo;oo=null,ul=0,dl=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function Tv(e,a){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return e.then(function(){m.status="fulfilled",m.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var Gm=re.S;re.S=function(e,a){_x=Fe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&_v(e,a),Gm!==null&&Gm(e,a)};var Rr=U(null);function Vd(){var e=Rr.current;return e!==null?e:Nn.pooledCache}function Ic(e,a){a===null?ie(Rr,Rr.current):ie(Rr,a.pool)}function qm(){var e=Vd();return e===null?null:{parent:ts._currentValue,pool:e}}var hl=Error(u(460)),Hd=Error(u(474)),Lc=Error(u(542)),Pc={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ym(e,a,c){switch(c=e[c],c===void 0?e.push(a):c!==a&&(a.then(Ps,Ps),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Km(e),e;default:if(typeof a.status=="string")a.then(Ps,Ps);else{if(e=Nn,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=a,e.status="pending",e.then(function(m){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=m}},function(m){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Km(e),e}throw Br=a,hl}}function Or(e){try{var a=e._init;return a(e._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Br=c,hl):c}}var Br=null;function Wm(){if(Br===null)throw Error(u(459));var e=Br;return Br=null,e}function Km(e){if(e===hl||e===Lc)throw Error(u(483))}var fl=null,co=0;function $c(e){var a=co;return co+=1,fl===null&&(fl=[]),Ym(fl,e,a)}function uo(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function zc(e,a){throw a.$$typeof===T?Error(u(525)):(e=Object.prototype.toString.call(a),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function Zm(e){function a(ye,me){if(e){var je=ye.deletions;je===null?(ye.deletions=[me],ye.flags|=16):je.push(me)}}function c(ye,me){if(!e)return null;for(;me!==null;)a(ye,me),me=me.sibling;return null}function m(ye){for(var me=new Map;ye!==null;)ye.key!==null?me.set(ye.key,ye):me.set(ye.index,ye),ye=ye.sibling;return me}function y(ye,me){return ye=hi(ye,me),ye.index=0,ye.sibling=null,ye}function C(ye,me,je){return ye.index=je,e?(je=ye.alternate,je!==null?(je=je.index,je<me?(ye.flags|=67108866,me):je):(ye.flags|=67108866,me)):(ye.flags|=1048576,me)}function F(ye){return e&&ye.alternate===null&&(ye.flags|=67108866),ye}function H(ye,me,je,Pe){return me===null||me.tag!==6?(me=Rd(je,ye.mode,Pe),me.return=ye,me):(me=y(me,je),me.return=ye,me)}function le(ye,me,je,Pe){var ht=je.type;return ht===D?Le(ye,me,je.props.children,Pe,je.key):me!==null&&(me.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ue&&Or(ht)===me.type)?(me=y(me,je.props),uo(me,je),me.return=ye,me):(me=Oc(je.type,je.key,je.props,null,ye.mode,Pe),uo(me,je),me.return=ye,me)}function Ee(ye,me,je,Pe){return me===null||me.tag!==4||me.stateNode.containerInfo!==je.containerInfo||me.stateNode.implementation!==je.implementation?(me=Od(je,ye.mode,Pe),me.return=ye,me):(me=y(me,je.children||[]),me.return=ye,me)}function Le(ye,me,je,Pe,ht){return me===null||me.tag!==7?(me=_r(je,ye.mode,Pe,ht),me.return=ye,me):(me=y(me,je),me.return=ye,me)}function $e(ye,me,je){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Rd(""+me,ye.mode,je),me.return=ye,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case R:return je=Oc(me.type,me.key,me.props,null,ye.mode,je),uo(je,me),je.return=ye,je;case B:return me=Od(me,ye.mode,je),me.return=ye,me;case ue:return me=Or(me),$e(ye,me,je)}if(Z(me)||he(me))return me=_r(me,ye.mode,je,null),me.return=ye,me;if(typeof me.then=="function")return $e(ye,$c(me),je);if(me.$$typeof===L)return $e(ye,Mc(ye,me),je);zc(ye,me)}return null}function Te(ye,me,je,Pe){var ht=me!==null?me.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ht!==null?null:H(ye,me,""+je,Pe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case R:return je.key===ht?le(ye,me,je,Pe):null;case B:return je.key===ht?Ee(ye,me,je,Pe):null;case ue:return je=Or(je),Te(ye,me,je,Pe)}if(Z(je)||he(je))return ht!==null?null:Le(ye,me,je,Pe,null);if(typeof je.then=="function")return Te(ye,me,$c(je),Pe);if(je.$$typeof===L)return Te(ye,me,Mc(ye,je),Pe);zc(ye,je)}return null}function De(ye,me,je,Pe,ht){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return ye=ye.get(je)||null,H(me,ye,""+Pe,ht);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case R:return ye=ye.get(Pe.key===null?je:Pe.key)||null,le(me,ye,Pe,ht);case B:return ye=ye.get(Pe.key===null?je:Pe.key)||null,Ee(me,ye,Pe,ht);case ue:return Pe=Or(Pe),De(ye,me,je,Pe,ht)}if(Z(Pe)||he(Pe))return ye=ye.get(je)||null,Le(me,ye,Pe,ht,null);if(typeof Pe.then=="function")return De(ye,me,je,$c(Pe),ht);if(Pe.$$typeof===L)return De(ye,me,je,Mc(me,Pe),ht);zc(me,Pe)}return null}function it(ye,me,je,Pe){for(var ht=null,Qt=null,ct=me,kt=me=0,Vt=null;ct!==null&&kt<je.length;kt++){ct.index>kt?(Vt=ct,ct=null):Vt=ct.sibling;var Jt=Te(ye,ct,je[kt],Pe);if(Jt===null){ct===null&&(ct=Vt);break}e&&ct&&Jt.alternate===null&&a(ye,ct),me=C(Jt,me,kt),Qt===null?ht=Jt:Qt.sibling=Jt,Qt=Jt,ct=Vt}if(kt===je.length)return c(ye,ct),Gt&&fi(ye,kt),ht;if(ct===null){for(;kt<je.length;kt++)ct=$e(ye,je[kt],Pe),ct!==null&&(me=C(ct,me,kt),Qt===null?ht=ct:Qt.sibling=ct,Qt=ct);return Gt&&fi(ye,kt),ht}for(ct=m(ct);kt<je.length;kt++)Vt=De(ct,ye,kt,je[kt],Pe),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?kt:Vt.key),me=C(Vt,me,kt),Qt===null?ht=Vt:Qt.sibling=Vt,Qt=Vt);return e&&ct.forEach(function(fr){return a(ye,fr)}),Gt&&fi(ye,kt),ht}function vt(ye,me,je,Pe){if(je==null)throw Error(u(151));for(var ht=null,Qt=null,ct=me,kt=me=0,Vt=null,Jt=je.next();ct!==null&&!Jt.done;kt++,Jt=je.next()){ct.index>kt?(Vt=ct,ct=null):Vt=ct.sibling;var fr=Te(ye,ct,Jt.value,Pe);if(fr===null){ct===null&&(ct=Vt);break}e&&ct&&fr.alternate===null&&a(ye,ct),me=C(fr,me,kt),Qt===null?ht=fr:Qt.sibling=fr,Qt=fr,ct=Vt}if(Jt.done)return c(ye,ct),Gt&&fi(ye,kt),ht;if(ct===null){for(;!Jt.done;kt++,Jt=je.next())Jt=$e(ye,Jt.value,Pe),Jt!==null&&(me=C(Jt,me,kt),Qt===null?ht=Jt:Qt.sibling=Jt,Qt=Jt);return Gt&&fi(ye,kt),ht}for(ct=m(ct);!Jt.done;kt++,Jt=je.next())Jt=De(ct,ye,kt,Jt.value,Pe),Jt!==null&&(e&&Jt.alternate!==null&&ct.delete(Jt.key===null?kt:Jt.key),me=C(Jt,me,kt),Qt===null?ht=Jt:Qt.sibling=Jt,Qt=Jt);return e&&ct.forEach(function($N){return a(ye,$N)}),Gt&&fi(ye,kt),ht}function bn(ye,me,je,Pe){if(typeof je=="object"&&je!==null&&je.type===D&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case R:e:{for(var ht=je.key;me!==null;){if(me.key===ht){if(ht=je.type,ht===D){if(me.tag===7){c(ye,me.sibling),Pe=y(me,je.props.children),Pe.return=ye,ye=Pe;break e}}else if(me.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ue&&Or(ht)===me.type){c(ye,me.sibling),Pe=y(me,je.props),uo(Pe,je),Pe.return=ye,ye=Pe;break e}c(ye,me);break}else a(ye,me);me=me.sibling}je.type===D?(Pe=_r(je.props.children,ye.mode,Pe,je.key),Pe.return=ye,ye=Pe):(Pe=Oc(je.type,je.key,je.props,null,ye.mode,Pe),uo(Pe,je),Pe.return=ye,ye=Pe)}return F(ye);case B:e:{for(ht=je.key;me!==null;){if(me.key===ht)if(me.tag===4&&me.stateNode.containerInfo===je.containerInfo&&me.stateNode.implementation===je.implementation){c(ye,me.sibling),Pe=y(me,je.children||[]),Pe.return=ye,ye=Pe;break e}else{c(ye,me);break}else a(ye,me);me=me.sibling}Pe=Od(je,ye.mode,Pe),Pe.return=ye,ye=Pe}return F(ye);case ue:return je=Or(je),bn(ye,me,je,Pe)}if(Z(je))return it(ye,me,je,Pe);if(he(je)){if(ht=he(je),typeof ht!="function")throw Error(u(150));return je=ht.call(je),vt(ye,me,je,Pe)}if(typeof je.then=="function")return bn(ye,me,$c(je),Pe);if(je.$$typeof===L)return bn(ye,me,Mc(ye,je),Pe);zc(ye,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,me!==null&&me.tag===6?(c(ye,me.sibling),Pe=y(me,je),Pe.return=ye,ye=Pe):(c(ye,me),Pe=Rd(je,ye.mode,Pe),Pe.return=ye,ye=Pe),F(ye)):c(ye,me)}return function(ye,me,je,Pe){try{co=0;var ht=bn(ye,me,je,Pe);return fl=null,ht}catch(ct){if(ct===hl||ct===Lc)throw ct;var Qt=sa(29,ct,null,ye.mode);return Qt.lanes=Pe,Qt.return=ye,Qt}}}var Dr=Zm(!0),Qm=Zm(!1),Ki=!1;function Gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(e,a,c){var m=e.updateQueue;if(m===null)return null;if(m=m.shared,(sn&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,a=Rc(e),Dm(e,null,c),a}return Fc(e,m,a,c),Rc(e)}function ho(e,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var m=a.lanes;m&=e.pendingLanes,c|=m,a.lanes=c,Ks(e,c)}}function Xd(e,a){var c=e.updateQueue,m=e.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,C=null;if(c=c.firstBaseUpdate,c!==null){do{var F={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};C===null?y=C=F:C=C.next=F,c=c.next}while(c!==null);C===null?y=C=a:C=C.next=a}else y=C=a;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:C,shared:m.shared,callbacks:m.callbacks},e.updateQueue=c;return}e=c.lastBaseUpdate,e===null?c.firstBaseUpdate=a:e.next=a,c.lastBaseUpdate=a}var Yd=!1;function fo(){if(Yd){var e=dl;if(e!==null)throw e}}function mo(e,a,c,m){Yd=!1;var y=e.updateQueue;Ki=!1;var C=y.firstBaseUpdate,F=y.lastBaseUpdate,H=y.shared.pending;if(H!==null){y.shared.pending=null;var le=H,Ee=le.next;le.next=null,F===null?C=Ee:F.next=Ee,F=le;var Le=e.alternate;Le!==null&&(Le=Le.updateQueue,H=Le.lastBaseUpdate,H!==F&&(H===null?Le.firstBaseUpdate=Ee:H.next=Ee,Le.lastBaseUpdate=le))}if(C!==null){var $e=y.baseState;F=0,Le=Ee=le=null,H=C;do{var Te=H.lane&-536870913,De=Te!==H.lane;if(De?(Ut&Te)===Te:(m&Te)===Te){Te!==0&&Te===ul&&(Yd=!0),Le!==null&&(Le=Le.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var it=e,vt=H;Te=a;var bn=c;switch(vt.tag){case 1:if(it=vt.payload,typeof it=="function"){$e=it.call(bn,$e,Te);break e}$e=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=vt.payload,Te=typeof it=="function"?it.call(bn,$e,Te):it,Te==null)break e;$e=j({},$e,Te);break e;case 2:Ki=!0}}Te=H.callback,Te!==null&&(e.flags|=64,De&&(e.flags|=8192),De=y.callbacks,De===null?y.callbacks=[Te]:De.push(Te))}else De={lane:Te,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Le===null?(Ee=Le=De,le=$e):Le=Le.next=De,F|=Te;if(H=H.next,H===null){if(H=y.shared.pending,H===null)break;De=H,H=De.next,De.next=null,y.lastBaseUpdate=De,y.shared.pending=null}}while(!0);Le===null&&(le=$e),y.baseState=le,y.firstBaseUpdate=Ee,y.lastBaseUpdate=Le,C===null&&(y.shared.lanes=0),sr|=F,e.lanes=F,e.memoizedState=$e}}function Jm(e,a){if(typeof e!="function")throw Error(u(191,e));e.call(a)}function e1(e,a){var c=e.callbacks;if(c!==null)for(e.callbacks=null,e=0;e<c.length;e++)Jm(c[e],a)}var ml=U(null),Uc=U(0);function t1(e,a){e=Si,ie(Uc,e),ie(ml,a),Si=e|a.baseLanes}function Wd(){ie(Uc,Si),ie(ml,ml.current)}function Kd(){Si=Uc.current,G(ml),G(Uc)}var aa=U(null),ga=null;function Ji(e){var a=e.alternate;ie(Wn,Wn.current&1),ie(aa,e),ga===null&&(a===null||ml.current!==null||a.memoizedState!==null)&&(ga=e)}function Zd(e){ie(Wn,Wn.current),ie(aa,e),ga===null&&(ga=e)}function n1(e){e.tag===22?(ie(Wn,Wn.current),ie(aa,e),ga===null&&(ga=e)):er()}function er(){ie(Wn,Wn.current),ie(aa,aa.current)}function ia(e){G(aa),ga===e&&(ga=null),G(Wn)}var Wn=U(0);function Vc(e){for(var a=e;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||sf(c)||af(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pi=0,_t=null,pn=null,ns=null,Hc=!1,xl=!1,Mr=!1,Gc=0,xo=0,pl=null,kv=0;function Un(){throw Error(u(321))}function Qd(e,a){if(a===null)return!1;for(var c=0;c<a.length&&c<e.length;c++)if(!x(e[c],a[c]))return!1;return!0}function Jd(e,a,c,m,y,C){return pi=C,_t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,re.H=e===null||e.memoizedState===null?P1:mh,Mr=!1,C=c(m,y),Mr=!1,xl&&(C=a1(a,c,m,y)),s1(e),C}function s1(e){re.H=bo;var a=pn!==null&&pn.next!==null;if(pi=0,ns=pn=_t=null,Hc=!1,xo=0,pl=null,a)throw Error(u(300));e===null||ss||(e=e.dependencies,e!==null&&Dc(e)&&(ss=!0))}function a1(e,a,c,m){_t=e;var y=0;do{if(xl&&(pl=null),xo=0,xl=!1,25<=y)throw Error(u(301));if(y+=1,ns=pn=null,e.updateQueue!=null){var C=e.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}re.H=$1,C=a(c,m)}while(xl);return C}function Fv(){var e=re.H,a=e.useState()[0];return a=typeof a.then=="function"?po(a):a,e=e.useState()[0],(pn!==null?pn.memoizedState:null)!==e&&(_t.flags|=1024),a}function eh(){var e=Gc!==0;return Gc=0,e}function th(e,a,c){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~c}function nh(e){if(Hc){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}Hc=!1}pi=0,ns=pn=_t=null,xl=!1,xo=Gc=0,pl=null}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?_t.memoizedState=ns=e:ns=ns.next=e,ns}function Kn(){if(pn===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=pn.next;var a=ns===null?_t.memoizedState:ns.next;if(a!==null)ns=a,pn=e;else{if(e===null)throw _t.alternate===null?Error(u(467)):Error(u(310));pn=e,e={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},ns===null?_t.memoizedState=ns=e:ns=ns.next=e}return ns}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function po(e){var a=xo;return xo+=1,pl===null&&(pl=[]),e=Ym(pl,e,a),a=_t,(ns===null?a.memoizedState:ns.next)===null&&(a=a.alternate,re.H=a===null||a.memoizedState===null?P1:mh),e}function Xc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return po(e);if(e.$$typeof===L)return ys(e)}throw Error(u(438,String(e)))}function sh(e){var a=null,c=_t.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var m=_t.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(a={data:m.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=qc(),_t.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(e),m=0;m<e;m++)c[m]=Y;return a.index++,c}function gi(e,a){return typeof a=="function"?a(e):a}function Yc(e){var a=Kn();return ah(a,pn,e)}function ah(e,a,c){var m=e.queue;if(m===null)throw Error(u(311));m.lastRenderedReducer=c;var y=e.baseQueue,C=m.pending;if(C!==null){if(y!==null){var F=y.next;y.next=C.next,C.next=F}a.baseQueue=y=C,m.pending=null}if(C=e.baseState,y===null)e.memoizedState=C;else{a=y.next;var H=F=null,le=null,Ee=a,Le=!1;do{var $e=Ee.lane&-536870913;if($e!==Ee.lane?(Ut&$e)===$e:(pi&$e)===$e){var Te=Ee.revertLane;if(Te===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),$e===ul&&(Le=!0);else if((pi&Te)===Te){Ee=Ee.next,Te===ul&&(Le=!0);continue}else $e={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(H=le=$e,F=C):le=le.next=$e,_t.lanes|=Te,sr|=Te;$e=Ee.action,Mr&&c(C,$e),C=Ee.hasEagerState?Ee.eagerState:c(C,$e)}else Te={lane:$e,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(H=le=Te,F=C):le=le.next=Te,_t.lanes|=$e,sr|=$e;Ee=Ee.next}while(Ee!==null&&Ee!==a);if(le===null?F=C:le.next=H,!x(C,e.memoizedState)&&(ss=!0,Le&&(c=dl,c!==null)))throw c;e.memoizedState=C,e.baseState=F,e.baseQueue=le,m.lastRenderedState=C}return y===null&&(m.lanes=0),[e.memoizedState,m.dispatch]}function ih(e){var a=Kn(),c=a.queue;if(c===null)throw Error(u(311));c.lastRenderedReducer=e;var m=c.dispatch,y=c.pending,C=a.memoizedState;if(y!==null){c.pending=null;var F=y=y.next;do C=e(C,F.action),F=F.next;while(F!==y);x(C,a.memoizedState)||(ss=!0),a.memoizedState=C,a.baseQueue===null&&(a.baseState=C),c.lastRenderedState=C}return[C,m]}function i1(e,a,c){var m=_t,y=Kn(),C=Gt;if(C){if(c===void 0)throw Error(u(407));c=c()}else c=a();var F=!x((pn||y).memoizedState,c);if(F&&(y.memoizedState=c,ss=!0),y=y.queue,oh(o1.bind(null,m,y,e),[e]),y.getSnapshot!==a||F||ns!==null&&ns.memoizedState.tag&1){if(m.flags|=2048,gl(9,{destroy:void 0},l1.bind(null,m,y,c,a),null),Nn===null)throw Error(u(349));C||(pi&127)!==0||r1(m,a,c)}return c}function r1(e,a,c){e.flags|=16384,e={getSnapshot:a,value:c},a=_t.updateQueue,a===null?(a=qc(),_t.updateQueue=a,a.stores=[e]):(c=a.stores,c===null?a.stores=[e]:c.push(e))}function l1(e,a,c,m){a.value=c,a.getSnapshot=m,c1(a)&&u1(e)}function o1(e,a,c){return c(function(){c1(a)&&u1(e)})}function c1(e){var a=e.getSnapshot;e=e.value;try{var c=a();return!x(e,c)}catch{return!0}}function u1(e){var a=Ar(e,2);a!==null&&qs(a,e,2)}function rh(e){var a=Ms();if(typeof e=="function"){var c=e;if(e=c(),Mr){qt(!0);try{c()}finally{qt(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},a}function d1(e,a,c,m){return e.baseState=c,ah(e,pn,typeof m=="function"?m:gi)}function Rv(e,a,c,m,y){if(Zc(e))throw Error(u(485));if(e=a.action,e!==null){var C={payload:y,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){C.listeners.push(F)}};re.T!==null?c(!0):C.isTransition=!1,m(C),c=a.pending,c===null?(C.next=a.pending=C,h1(a,C)):(C.next=c.next,a.pending=c.next=C)}}function h1(e,a){var c=a.action,m=a.payload,y=e.state;if(a.isTransition){var C=re.T,F={};re.T=F;try{var H=c(y,m),le=re.S;le!==null&&le(F,H),f1(e,a,H)}catch(Ee){lh(e,a,Ee)}finally{C!==null&&F.types!==null&&(C.types=F.types),re.T=C}}else try{C=c(y,m),f1(e,a,C)}catch(Ee){lh(e,a,Ee)}}function f1(e,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){m1(e,a,m)},function(m){return lh(e,a,m)}):m1(e,a,c)}function m1(e,a,c){a.status="fulfilled",a.value=c,x1(a),e.state=c,a=e.pending,a!==null&&(c=a.next,c===a?e.pending=null:(c=c.next,a.next=c,h1(e,c)))}function lh(e,a,c){var m=e.pending;if(e.pending=null,m!==null){m=m.next;do a.status="rejected",a.reason=c,x1(a),a=a.next;while(a!==m)}e.action=null}function x1(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function p1(e,a){return a}function g1(e,a){if(Gt){var c=Nn.formState;if(c!==null){e:{var m=_t;if(Gt){if(An){t:{for(var y=An,C=pa;y.nodeType!==8;){if(!C){y=null;break t}if(y=ba(y.nextSibling),y===null){y=null;break t}}C=y.data,y=C==="F!"||C==="F"?y:null}if(y){An=ba(y.nextSibling),m=y.data==="F!";break e}}Yi(m)}m=!1}m&&(a=c[0])}}return c=Ms(),c.memoizedState=c.baseState=a,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p1,lastRenderedState:a},c.queue=m,c=M1.bind(null,_t,m),m.dispatch=c,m=rh(!1),C=fh.bind(null,_t,!1,m.queue),m=Ms(),y={state:a,dispatch:null,action:e,pending:null},m.queue=y,c=Rv.bind(null,_t,y,C,c),y.dispatch=c,m.memoizedState=e,[a,c,!1]}function b1(e){var a=Kn();return y1(a,pn,e)}function y1(e,a,c){if(a=ah(e,a,p1)[0],e=Yc(gi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var m=po(a)}catch(F){throw F===hl?Lc:F}else m=a;a=Kn();var y=a.queue,C=y.dispatch;return c!==a.memoizedState&&(_t.flags|=2048,gl(9,{destroy:void 0},Ov.bind(null,y,c),null)),[m,C,e]}function Ov(e,a){e.action=a}function w1(e){var a=Kn(),c=pn;if(c!==null)return y1(a,c,e);Kn(),a=a.memoizedState,c=Kn();var m=c.queue.dispatch;return c.memoizedState=e,[a,m,!1]}function gl(e,a,c,m){return e={tag:e,create:c,deps:m,inst:a,next:null},a=_t.updateQueue,a===null&&(a=qc(),_t.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=e.next=e:(m=c.next,c.next=e,e.next=m,a.lastEffect=e),e}function v1(){return Kn().memoizedState}function Wc(e,a,c,m){var y=Ms();_t.flags|=e,y.memoizedState=gl(1|a,{destroy:void 0},c,m===void 0?null:m)}function Kc(e,a,c,m){var y=Kn();m=m===void 0?null:m;var C=y.memoizedState.inst;pn!==null&&m!==null&&Qd(m,pn.memoizedState.deps)?y.memoizedState=gl(a,C,c,m):(_t.flags|=e,y.memoizedState=gl(1|a,C,c,m))}function N1(e,a){Wc(8390656,8,e,a)}function oh(e,a){Kc(2048,8,e,a)}function Bv(e){_t.flags|=4;var a=_t.updateQueue;if(a===null)a=qc(),_t.updateQueue=a,a.events=[e];else{var c=a.events;c===null?a.events=[e]:c.push(e)}}function C1(e){var a=Kn().memoizedState;return Bv({ref:a,nextImpl:e}),function(){if((sn&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}function S1(e,a){return Kc(4,2,e,a)}function j1(e,a){return Kc(4,4,e,a)}function E1(e,a){if(typeof a=="function"){e=e();var c=a(e);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function A1(e,a,c){c=c!=null?c.concat([e]):null,Kc(4,4,E1.bind(null,a,e),c)}function ch(){}function _1(e,a){var c=Kn();a=a===void 0?null:a;var m=c.memoizedState;return a!==null&&Qd(a,m[1])?m[0]:(c.memoizedState=[e,a],e)}function T1(e,a){var c=Kn();a=a===void 0?null:a;var m=c.memoizedState;if(a!==null&&Qd(a,m[1]))return m[0];if(m=e(),Mr){qt(!0);try{e()}finally{qt(!1)}}return c.memoizedState=[m,a],m}function uh(e,a,c){return c===void 0||(pi&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=a:(e.memoizedState=c,e=kx(),_t.lanes|=e,sr|=e,c)}function k1(e,a,c,m){return x(c,a)?c:ml.current!==null?(e=uh(e,c,m),x(e,a)||(ss=!0),e):(pi&42)===0||(pi&1073741824)!==0&&(Ut&261930)===0?(ss=!0,e.memoizedState=c):(e=kx(),_t.lanes|=e,sr|=e,a)}function F1(e,a,c,m,y){var C=J.p;J.p=C!==0&&8>C?C:8;var F=re.T,H={};re.T=H,fh(e,!1,a,c);try{var le=y(),Ee=re.S;if(Ee!==null&&Ee(H,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Le=Tv(le,m);go(e,a,Le,oa(e))}else go(e,a,m,oa(e))}catch($e){go(e,a,{then:function(){},status:"rejected",reason:$e},oa())}finally{J.p=C,F!==null&&H.types!==null&&(F.types=H.types),re.T=F}}function Dv(){}function dh(e,a,c,m){if(e.tag!==5)throw Error(u(476));var y=R1(e).queue;F1(e,y,a,ke,c===null?Dv:function(){return O1(e),c(m)})}function R1(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:ke},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:c},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function O1(e){var a=R1(e);a.next===null&&(a=e.alternate.memoizedState),go(e,a.next.queue,{},oa())}function hh(){return ys(Bo)}function B1(){return Kn().memoizedState}function D1(){return Kn().memoizedState}function Mv(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var c=oa();e=Zi(c);var m=Qi(a,e,c);m!==null&&(qs(m,a,c),ho(m,a,c)),a={cache:zd()},e.payload=a;return}a=a.return}}function Iv(e,a,c){var m=oa();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Zc(e)?I1(a,c):(c=kd(e,a,c,m),c!==null&&(qs(c,e,m),L1(c,a,m)))}function M1(e,a,c){var m=oa();go(e,a,c,m)}function go(e,a,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zc(e))I1(a,y);else{var C=e.alternate;if(e.lanes===0&&(C===null||C.lanes===0)&&(C=a.lastRenderedReducer,C!==null))try{var F=a.lastRenderedState,H=C(F,c);if(y.hasEagerState=!0,y.eagerState=H,x(H,F))return Fc(e,a,y,0),Nn===null&&kc(),!1}catch{}if(c=kd(e,a,y,m),c!==null)return qs(c,e,m),L1(c,a,m),!0}return!1}function fh(e,a,c,m){if(m={lane:2,revertLane:Gh(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Zc(e)){if(a)throw Error(u(479))}else a=kd(e,c,m,2),a!==null&&qs(a,e,2)}function Zc(e){var a=e.alternate;return e===_t||a!==null&&a===_t}function I1(e,a){xl=Hc=!0;var c=e.pending;c===null?a.next=a:(a.next=c.next,c.next=a),e.pending=a}function L1(e,a,c){if((c&4194048)!==0){var m=a.lanes;m&=e.pendingLanes,c|=m,a.lanes=c,Ks(e,c)}}var bo={readContext:ys,use:Xc,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un};bo.useEffectEvent=Un;var P1={readContext:ys,use:Xc,useCallback:function(e,a){return Ms().memoizedState=[e,a===void 0?null:a],e},useContext:ys,useEffect:N1,useImperativeHandle:function(e,a,c){c=c!=null?c.concat([e]):null,Wc(4194308,4,E1.bind(null,a,e),c)},useLayoutEffect:function(e,a){return Wc(4194308,4,e,a)},useInsertionEffect:function(e,a){Wc(4,2,e,a)},useMemo:function(e,a){var c=Ms();a=a===void 0?null:a;var m=e();if(Mr){qt(!0);try{e()}finally{qt(!1)}}return c.memoizedState=[m,a],m},useReducer:function(e,a,c){var m=Ms();if(c!==void 0){var y=c(a);if(Mr){qt(!0);try{c(a)}finally{qt(!1)}}}else y=a;return m.memoizedState=m.baseState=y,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:y},m.queue=e,e=e.dispatch=Iv.bind(null,_t,e),[m.memoizedState,e]},useRef:function(e){var a=Ms();return e={current:e},a.memoizedState=e},useState:function(e){e=rh(e);var a=e.queue,c=M1.bind(null,_t,a);return a.dispatch=c,[e.memoizedState,c]},useDebugValue:ch,useDeferredValue:function(e,a){var c=Ms();return uh(c,e,a)},useTransition:function(){var e=rh(!1);return e=F1.bind(null,_t,e.queue,!0,!1),Ms().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,c){var m=_t,y=Ms();if(Gt){if(c===void 0)throw Error(u(407));c=c()}else{if(c=a(),Nn===null)throw Error(u(349));(Ut&127)!==0||r1(m,a,c)}y.memoizedState=c;var C={value:c,getSnapshot:a};return y.queue=C,N1(o1.bind(null,m,C,e),[e]),m.flags|=2048,gl(9,{destroy:void 0},l1.bind(null,m,C,c,a),null),c},useId:function(){var e=Ms(),a=Nn.identifierPrefix;if(Gt){var c=Xa,m=qa;c=(m&~(1<<32-Ct(m)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Gc++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=kv++,a="_"+a+"r_"+c.toString(32)+"_";return e.memoizedState=a},useHostTransitionStatus:hh,useFormState:g1,useActionState:g1,useOptimistic:function(e){var a=Ms();a.memoizedState=a.baseState=e;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=fh.bind(null,_t,!0,c),c.dispatch=a,[e,a]},useMemoCache:sh,useCacheRefresh:function(){return Ms().memoizedState=Mv.bind(null,_t)},useEffectEvent:function(e){var a=Ms(),c={impl:e};return a.memoizedState=c,function(){if((sn&2)!==0)throw Error(u(440));return c.impl.apply(void 0,arguments)}}},mh={readContext:ys,use:Xc,useCallback:_1,useContext:ys,useEffect:oh,useImperativeHandle:A1,useInsertionEffect:S1,useLayoutEffect:j1,useMemo:T1,useReducer:Yc,useRef:v1,useState:function(){return Yc(gi)},useDebugValue:ch,useDeferredValue:function(e,a){var c=Kn();return k1(c,pn.memoizedState,e,a)},useTransition:function(){var e=Yc(gi)[0],a=Kn().memoizedState;return[typeof e=="boolean"?e:po(e),a]},useSyncExternalStore:i1,useId:B1,useHostTransitionStatus:hh,useFormState:b1,useActionState:b1,useOptimistic:function(e,a){var c=Kn();return d1(c,pn,e,a)},useMemoCache:sh,useCacheRefresh:D1};mh.useEffectEvent=C1;var $1={readContext:ys,use:Xc,useCallback:_1,useContext:ys,useEffect:oh,useImperativeHandle:A1,useInsertionEffect:S1,useLayoutEffect:j1,useMemo:T1,useReducer:ih,useRef:v1,useState:function(){return ih(gi)},useDebugValue:ch,useDeferredValue:function(e,a){var c=Kn();return pn===null?uh(c,e,a):k1(c,pn.memoizedState,e,a)},useTransition:function(){var e=ih(gi)[0],a=Kn().memoizedState;return[typeof e=="boolean"?e:po(e),a]},useSyncExternalStore:i1,useId:B1,useHostTransitionStatus:hh,useFormState:w1,useActionState:w1,useOptimistic:function(e,a){var c=Kn();return pn!==null?d1(c,pn,e,a):(c.baseState=e,[e,c.queue.dispatch])},useMemoCache:sh,useCacheRefresh:D1};$1.useEffectEvent=C1;function xh(e,a,c,m){a=e.memoizedState,c=c(m,a),c=c==null?a:j({},a,c),e.memoizedState=c,e.lanes===0&&(e.updateQueue.baseState=c)}var ph={enqueueSetState:function(e,a,c){e=e._reactInternals;var m=oa(),y=Zi(m);y.payload=a,c!=null&&(y.callback=c),a=Qi(e,y,m),a!==null&&(qs(a,e,m),ho(a,e,m))},enqueueReplaceState:function(e,a,c){e=e._reactInternals;var m=oa(),y=Zi(m);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Qi(e,y,m),a!==null&&(qs(a,e,m),ho(a,e,m))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var c=oa(),m=Zi(c);m.tag=2,a!=null&&(m.callback=a),a=Qi(e,m,c),a!==null&&(qs(a,e,c),ho(a,e,c))}};function z1(e,a,c,m,y,C,F){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(m,C,F):a.prototype&&a.prototype.isPureReactComponent?!b(c,m)||!b(y,C):!0}function U1(e,a,c,m){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,m),a.state!==e&&ph.enqueueReplaceState(a,a.state,null)}function Ir(e,a){var c=a;if("ref"in a){c={};for(var m in a)m!=="ref"&&(c[m]=a[m])}if(e=e.defaultProps){c===a&&(c=j({},c));for(var y in e)c[y]===void 0&&(c[y]=e[y])}return c}function V1(e){Tc(e)}function H1(e){console.error(e)}function G1(e){Tc(e)}function Qc(e,a){try{var c=e.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(m){setTimeout(function(){throw m})}}function q1(e,a,c){try{var m=e.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function gh(e,a,c){return c=Zi(c),c.tag=3,c.payload={element:null},c.callback=function(){Qc(e,a)},c}function X1(e){return e=Zi(e),e.tag=3,e}function Y1(e,a,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var C=m.value;e.payload=function(){return y(C)},e.callback=function(){q1(a,c,m)}}var F=c.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(e.callback=function(){q1(a,c,m),typeof y!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var H=m.stack;this.componentDidCatch(m.value,{componentStack:H!==null?H:""})})}function Lv(e,a,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(a=c.alternate,a!==null&&cl(a,c,y,!0),c=aa.current,c!==null){switch(c.tag){case 31:case 13:return ga===null?uu():c.alternate===null&&Vn===0&&(Vn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===Pc?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([m]):a.add(m),Uh(e,m,y)),!1;case 22:return c.flags|=65536,m===Pc?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([m]):c.add(m)),Uh(e,m,y)),!1}throw Error(u(435,c.tag))}return Uh(e,m,y),uu(),!1}if(Gt)return a=aa.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,m!==Md&&(e=Error(u(422),{cause:m}),ro(fa(e,c)))):(m!==Md&&(a=Error(u(423),{cause:m}),ro(fa(a,c))),e=e.current.alternate,e.flags|=65536,y&=-y,e.lanes|=y,m=fa(m,c),y=gh(e.stateNode,m,y),Xd(e,y),Vn!==4&&(Vn=2)),!1;var C=Error(u(520),{cause:m});if(C=fa(C,c),Eo===null?Eo=[C]:Eo.push(C),Vn!==4&&(Vn=2),a===null)return!0;m=fa(m,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,e=y&-y,c.lanes|=e,e=gh(c.stateNode,m,e),Xd(c,e),!1;case 1:if(a=c.type,C=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ar===null||!ar.has(C))))return c.flags|=65536,y&=-y,c.lanes|=y,y=X1(y),Y1(y,e,c,m),Xd(c,y),!1}c=c.return}while(c!==null);return!1}var bh=Error(u(461)),ss=!1;function ws(e,a,c,m){a.child=e===null?Qm(a,null,c,m):Dr(a,e.child,c,m)}function W1(e,a,c,m,y){c=c.render;var C=a.ref;if("ref"in m){var F={};for(var H in m)H!=="ref"&&(F[H]=m[H])}else F=m;return Fr(a),m=Jd(e,a,c,F,C,y),H=eh(),e!==null&&!ss?(th(e,a,y),bi(e,a,y)):(Gt&&H&&Bd(a),a.flags|=1,ws(e,a,m,y),a.child)}function K1(e,a,c,m,y){if(e===null){var C=c.type;return typeof C=="function"&&!Fd(C)&&C.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=C,Z1(e,a,C,m,y)):(e=Oc(c.type,null,m,a,a.mode,y),e.ref=a.ref,e.return=a,a.child=e)}if(C=e.child,!Eh(e,y)){var F=C.memoizedProps;if(c=c.compare,c=c!==null?c:b,c(F,m)&&e.ref===a.ref)return bi(e,a,y)}return a.flags|=1,e=hi(C,m),e.ref=a.ref,e.return=a,a.child=e}function Z1(e,a,c,m,y){if(e!==null){var C=e.memoizedProps;if(b(C,m)&&e.ref===a.ref)if(ss=!1,a.pendingProps=m=C,Eh(e,y))(e.flags&131072)!==0&&(ss=!0);else return a.lanes=e.lanes,bi(e,a,y)}return yh(e,a,c,m,y)}function Q1(e,a,c,m){var y=m.children,C=e!==null?e.memoizedState:null;if(e===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((a.flags&128)!==0){if(C=C!==null?C.baseLanes|c:c,e!==null){for(m=a.child=e.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~C}else m=0,a.child=null;return J1(e,a,C,c,m)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ic(a,C!==null?C.cachePool:null),C!==null?t1(a,C):Wd(),n1(a);else return m=a.lanes=536870912,J1(e,a,C!==null?C.baseLanes|c:c,c,m)}else C!==null?(Ic(a,C.cachePool),t1(a,C),er(),a.memoizedState=null):(e!==null&&Ic(a,null),Wd(),er());return ws(e,a,y,c),a.child}function yo(e,a){return e!==null&&e.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function J1(e,a,c,m,y){var C=Vd();return C=C===null?null:{parent:ts._currentValue,pool:C},a.memoizedState={baseLanes:c,cachePool:C},e!==null&&Ic(a,null),Wd(),n1(a),e!==null&&cl(e,a,m,!0),a.childLanes=y,null}function Jc(e,a){return a=tu({mode:a.mode,children:a.children},e.mode),a.ref=e.ref,e.child=a,a.return=e,a}function ex(e,a,c){return Dr(a,e.child,null,c),e=Jc(a,a.pendingProps),e.flags|=2,ia(a),a.memoizedState=null,e}function Pv(e,a,c){var m=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,e===null){if(Gt){if(m.mode==="hidden")return e=Jc(a,m),a.lanes=536870912,yo(null,e);if(Zd(a),(e=An)?(e=hp(e,pa),e=e!==null&&e.data==="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:qi!==null?{id:qa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},c=Im(e),c.return=a,a.child=c,bs=a,An=null)):e=null,e===null)throw Yi(a);return a.lanes=536870912,null}return Jc(a,m)}var C=e.memoizedState;if(C!==null){var F=C.dehydrated;if(Zd(a),y)if(a.flags&256)a.flags&=-257,a=ex(e,a,c);else if(a.memoizedState!==null)a.child=e.child,a.flags|=128,a=null;else throw Error(u(558));else if(ss||cl(e,a,c,!1),y=(c&e.childLanes)!==0,ss||y){if(m=Nn,m!==null&&(F=si(m,c),F!==0&&F!==C.retryLane))throw C.retryLane=F,Ar(e,F),qs(m,e,F),bh;uu(),a=ex(e,a,c)}else e=C.treeContext,An=ba(F.nextSibling),bs=a,Gt=!0,Xi=null,pa=!1,e!==null&&$m(a,e),a=Jc(a,m),a.flags|=4096;return a}return e=hi(e.child,{mode:m.mode,children:m.children}),e.ref=a.ref,a.child=e,e.return=a,e}function eu(e,a){var c=a.ref;if(c===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(u(284));(e===null||e.ref!==c)&&(a.flags|=4194816)}}function yh(e,a,c,m,y){return Fr(a),c=Jd(e,a,c,m,void 0,y),m=eh(),e!==null&&!ss?(th(e,a,y),bi(e,a,y)):(Gt&&m&&Bd(a),a.flags|=1,ws(e,a,c,y),a.child)}function tx(e,a,c,m,y,C){return Fr(a),a.updateQueue=null,c=a1(a,m,c,y),s1(e),m=eh(),e!==null&&!ss?(th(e,a,C),bi(e,a,C)):(Gt&&m&&Bd(a),a.flags|=1,ws(e,a,c,C),a.child)}function nx(e,a,c,m,y){if(Fr(a),a.stateNode===null){var C=il,F=c.contextType;typeof F=="object"&&F!==null&&(C=ys(F)),C=new c(m,C),a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ph,a.stateNode=C,C._reactInternals=a,C=a.stateNode,C.props=m,C.state=a.memoizedState,C.refs={},Gd(a),F=c.contextType,C.context=typeof F=="object"&&F!==null?ys(F):il,C.state=a.memoizedState,F=c.getDerivedStateFromProps,typeof F=="function"&&(xh(a,c,F,m),C.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(F=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),F!==C.state&&ph.enqueueReplaceState(C,C.state,null),mo(a,m,C,y),fo(),C.state=a.memoizedState),typeof C.componentDidMount=="function"&&(a.flags|=4194308),m=!0}else if(e===null){C=a.stateNode;var H=a.memoizedProps,le=Ir(c,H);C.props=le;var Ee=C.context,Le=c.contextType;F=il,typeof Le=="object"&&Le!==null&&(F=ys(Le));var $e=c.getDerivedStateFromProps;Le=typeof $e=="function"||typeof C.getSnapshotBeforeUpdate=="function",H=a.pendingProps!==H,Le||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(H||Ee!==F)&&U1(a,C,m,F),Ki=!1;var Te=a.memoizedState;C.state=Te,mo(a,m,C,y),fo(),Ee=a.memoizedState,H||Te!==Ee||Ki?(typeof $e=="function"&&(xh(a,c,$e,m),Ee=a.memoizedState),(le=Ki||z1(a,c,le,m,Te,Ee,F))?(Le||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=Ee),C.props=m,C.state=Ee,C.context=F,m=le):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{C=a.stateNode,qd(e,a),F=a.memoizedProps,Le=Ir(c,F),C.props=Le,$e=a.pendingProps,Te=C.context,Ee=c.contextType,le=il,typeof Ee=="object"&&Ee!==null&&(le=ys(Ee)),H=c.getDerivedStateFromProps,(Ee=typeof H=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==$e||Te!==le)&&U1(a,C,m,le),Ki=!1,Te=a.memoizedState,C.state=Te,mo(a,m,C,y),fo();var De=a.memoizedState;F!==$e||Te!==De||Ki||e!==null&&e.dependencies!==null&&Dc(e.dependencies)?(typeof H=="function"&&(xh(a,c,H,m),De=a.memoizedState),(Le=Ki||z1(a,c,Le,m,Te,De,le)||e!==null&&e.dependencies!==null&&Dc(e.dependencies))?(Ee||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,De,le),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,De,le)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||F===e.memoizedProps&&Te===e.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===e.memoizedProps&&Te===e.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=De),C.props=m,C.state=De,C.context=le,m=Le):(typeof C.componentDidUpdate!="function"||F===e.memoizedProps&&Te===e.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===e.memoizedProps&&Te===e.memoizedState||(a.flags|=1024),m=!1)}return C=m,eu(e,a),m=(a.flags&128)!==0,C||m?(C=a.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:C.render(),a.flags|=1,e!==null&&m?(a.child=Dr(a,e.child,null,y),a.child=Dr(a,null,c,y)):ws(e,a,c,y),a.memoizedState=C.state,e=a.child):e=bi(e,a,y),e}function sx(e,a,c,m){return Tr(),a.flags|=256,ws(e,a,c,m),a.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vh(e){return{baseLanes:e,cachePool:qm()}}function Nh(e,a,c){return e=e!==null?e.childLanes&~c:0,a&&(e|=la),e}function ax(e,a,c){var m=a.pendingProps,y=!1,C=(a.flags&128)!==0,F;if((F=C)||(F=e!==null&&e.memoizedState===null?!1:(Wn.current&2)!==0),F&&(y=!0,a.flags&=-129),F=(a.flags&32)!==0,a.flags&=-33,e===null){if(Gt){if(y?Ji(a):er(),(e=An)?(e=hp(e,pa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(a.memoizedState={dehydrated:e,treeContext:qi!==null?{id:qa,overflow:Xa}:null,retryLane:536870912,hydrationErrors:null},c=Im(e),c.return=a,a.child=c,bs=a,An=null)):e=null,e===null)throw Yi(a);return af(e)?a.lanes=32:a.lanes=536870912,null}var H=m.children;return m=m.fallback,y?(er(),y=a.mode,H=tu({mode:"hidden",children:H},y),m=_r(m,y,c,null),H.return=a,m.return=a,H.sibling=m,a.child=H,m=a.child,m.memoizedState=vh(c),m.childLanes=Nh(e,F,c),a.memoizedState=wh,yo(null,m)):(Ji(a),Ch(a,H))}var le=e.memoizedState;if(le!==null&&(H=le.dehydrated,H!==null)){if(C)a.flags&256?(Ji(a),a.flags&=-257,a=Sh(e,a,c)):a.memoizedState!==null?(er(),a.child=e.child,a.flags|=128,a=null):(er(),H=m.fallback,y=a.mode,m=tu({mode:"visible",children:m.children},y),H=_r(H,y,c,null),H.flags|=2,m.return=a,H.return=a,m.sibling=H,a.child=m,Dr(a,e.child,null,c),m=a.child,m.memoizedState=vh(c),m.childLanes=Nh(e,F,c),a.memoizedState=wh,a=yo(null,m));else if(Ji(a),af(H)){if(F=H.nextSibling&&H.nextSibling.dataset,F)var Ee=F.dgst;F=Ee,m=Error(u(419)),m.stack="",m.digest=F,ro({value:m,source:null,stack:null}),a=Sh(e,a,c)}else if(ss||cl(e,a,c,!1),F=(c&e.childLanes)!==0,ss||F){if(F=Nn,F!==null&&(m=si(F,c),m!==0&&m!==le.retryLane))throw le.retryLane=m,Ar(e,m),qs(F,e,m),bh;sf(H)||uu(),a=Sh(e,a,c)}else sf(H)?(a.flags|=192,a.child=e.child,a=null):(e=le.treeContext,An=ba(H.nextSibling),bs=a,Gt=!0,Xi=null,pa=!1,e!==null&&$m(a,e),a=Ch(a,m.children),a.flags|=4096);return a}return y?(er(),H=m.fallback,y=a.mode,le=e.child,Ee=le.sibling,m=hi(le,{mode:"hidden",children:m.children}),m.subtreeFlags=le.subtreeFlags&65011712,Ee!==null?H=hi(Ee,H):(H=_r(H,y,c,null),H.flags|=2),H.return=a,m.return=a,m.sibling=H,a.child=m,yo(null,m),m=a.child,H=e.child.memoizedState,H===null?H=vh(c):(y=H.cachePool,y!==null?(le=ts._currentValue,y=y.parent!==le?{parent:le,pool:le}:y):y=qm(),H={baseLanes:H.baseLanes|c,cachePool:y}),m.memoizedState=H,m.childLanes=Nh(e,F,c),a.memoizedState=wh,yo(e.child,m)):(Ji(a),c=e.child,e=c.sibling,c=hi(c,{mode:"visible",children:m.children}),c.return=a,c.sibling=null,e!==null&&(F=a.deletions,F===null?(a.deletions=[e],a.flags|=16):F.push(e)),a.child=c,a.memoizedState=null,c)}function Ch(e,a){return a=tu({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function tu(e,a){return e=sa(22,e,null,a),e.lanes=0,e}function Sh(e,a,c){return Dr(a,e.child,null,c),e=Ch(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function ix(e,a,c){e.lanes|=a;var m=e.alternate;m!==null&&(m.lanes|=a),Pd(e.return,a,c)}function jh(e,a,c,m,y,C){var F=e.memoizedState;F===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:C}:(F.isBackwards=a,F.rendering=null,F.renderingStartTime=0,F.last=m,F.tail=c,F.tailMode=y,F.treeForkCount=C)}function rx(e,a,c){var m=a.pendingProps,y=m.revealOrder,C=m.tail;m=m.children;var F=Wn.current,H=(F&2)!==0;if(H?(F=F&1|2,a.flags|=128):F&=1,ie(Wn,F),ws(e,a,m,c),m=Gt?io:0,!H&&e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ix(e,c,a);else if(e.tag===19)ix(e,c,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(y){case"forwards":for(c=a.child,y=null;c!==null;)e=c.alternate,e!==null&&Vc(e)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),jh(a,!1,y,c,C,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(e=y.alternate,e!==null&&Vc(e)===null){a.child=y;break}e=y.sibling,y.sibling=c,c=y,y=e}jh(a,!0,c,null,C,m);break;case"together":jh(a,!1,null,null,void 0,m);break;default:a.memoizedState=null}return a.child}function bi(e,a,c){if(e!==null&&(a.dependencies=e.dependencies),sr|=a.lanes,(c&a.childLanes)===0)if(e!==null){if(cl(e,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(u(153));if(a.child!==null){for(e=a.child,c=hi(e,e.pendingProps),a.child=c,c.return=a;e.sibling!==null;)e=e.sibling,c=c.sibling=hi(e,e.pendingProps),c.return=a;c.sibling=null}return a.child}function Eh(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Dc(e)))}function $v(e,a,c){switch(a.tag){case 3:xe(a,a.stateNode.containerInfo),Wi(a,ts,e.memoizedState.cache),Tr();break;case 27:case 5:Me(a);break;case 4:xe(a,a.stateNode.containerInfo);break;case 10:Wi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Zd(a),null;break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(Ji(a),a.flags|=128,null):(c&a.child.childLanes)!==0?ax(e,a,c):(Ji(a),e=bi(e,a,c),e!==null?e.sibling:null);Ji(a);break;case 19:var y=(e.flags&128)!==0;if(m=(c&a.childLanes)!==0,m||(cl(e,a,c,!1),m=(c&a.childLanes)!==0),y){if(m)return rx(e,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(Wn,Wn.current),m)break;return null;case 22:return a.lanes=0,Q1(e,a,c,a.pendingProps);case 24:Wi(a,ts,e.memoizedState.cache)}return bi(e,a,c)}function lx(e,a,c){if(e!==null)if(e.memoizedProps!==a.pendingProps)ss=!0;else{if(!Eh(e,c)&&(a.flags&128)===0)return ss=!1,$v(e,a,c);ss=(e.flags&131072)!==0}else ss=!1,Gt&&(a.flags&1048576)!==0&&Pm(a,io,a.index);switch(a.lanes=0,a.tag){case 16:e:{var m=a.pendingProps;if(e=Or(a.elementType),a.type=e,typeof e=="function")Fd(e)?(m=Ir(e,m),a.tag=1,a=nx(null,a,e,m,c)):(a.tag=0,a=yh(null,a,e,m,c));else{if(e!=null){var y=e.$$typeof;if(y===W){a.tag=11,a=W1(null,a,e,m,c);break e}else if(y===X){a.tag=14,a=K1(null,a,e,m,c);break e}}throw a=ge(e)||e,Error(u(306,a,""))}}return a;case 0:return yh(e,a,a.type,a.pendingProps,c);case 1:return m=a.type,y=Ir(m,a.pendingProps),nx(e,a,m,y,c);case 3:e:{if(xe(a,a.stateNode.containerInfo),e===null)throw Error(u(387));m=a.pendingProps;var C=a.memoizedState;y=C.element,qd(e,a),mo(a,m,null,c);var F=a.memoizedState;if(m=F.cache,Wi(a,ts,m),m!==C.cache&&$d(a,[ts],c,!0),fo(),m=F.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:F.cache},a.updateQueue.baseState=C,a.memoizedState=C,a.flags&256){a=sx(e,a,m,c);break e}else if(m!==y){y=fa(Error(u(424)),a),ro(y),a=sx(e,a,m,c);break e}else for(e=a.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,An=ba(e.firstChild),bs=a,Gt=!0,Xi=null,pa=!0,c=Qm(a,null,m,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Tr(),m===y){a=bi(e,a,c);break e}ws(e,a,m,c)}a=a.child}return a;case 26:return eu(e,a),e===null?(c=bp(a.type,null,a.pendingProps,null))?a.memoizedState=c:Gt||(c=a.type,e=a.pendingProps,m=gu(te.current).createElement(c),m[an]=a,m[en]=e,vs(m,c,e),$n(m),a.stateNode=m):a.memoizedState=bp(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return Me(a),e===null&&Gt&&(m=a.stateNode=xp(a.type,a.pendingProps,te.current),bs=a,pa=!0,y=An,or(a.type)?(rf=y,An=ba(m.firstChild)):An=y),ws(e,a,a.pendingProps.children,c),eu(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Gt&&((y=m=An)&&(m=pN(m,a.type,a.pendingProps,pa),m!==null?(a.stateNode=m,bs=a,An=ba(m.firstChild),pa=!1,y=!0):y=!1),y||Yi(a)),Me(a),y=a.type,C=a.pendingProps,F=e!==null?e.memoizedProps:null,m=C.children,ef(y,C)?m=null:F!==null&&ef(y,F)&&(a.flags|=32),a.memoizedState!==null&&(y=Jd(e,a,Fv,null,null,c),Bo._currentValue=y),eu(e,a),ws(e,a,m,c),a.child;case 6:return e===null&&Gt&&((e=c=An)&&(c=gN(c,a.pendingProps,pa),c!==null?(a.stateNode=c,bs=a,An=null,e=!0):e=!1),e||Yi(a)),null;case 13:return ax(e,a,c);case 4:return xe(a,a.stateNode.containerInfo),m=a.pendingProps,e===null?a.child=Dr(a,null,m,c):ws(e,a,m,c),a.child;case 11:return W1(e,a,a.type,a.pendingProps,c);case 7:return ws(e,a,a.pendingProps,c),a.child;case 8:return ws(e,a,a.pendingProps.children,c),a.child;case 12:return ws(e,a,a.pendingProps.children,c),a.child;case 10:return m=a.pendingProps,Wi(a,a.type,m.value),ws(e,a,m.children,c),a.child;case 9:return y=a.type._context,m=a.pendingProps.children,Fr(a),y=ys(y),m=m(y),a.flags|=1,ws(e,a,m,c),a.child;case 14:return K1(e,a,a.type,a.pendingProps,c);case 15:return Z1(e,a,a.type,a.pendingProps,c);case 19:return rx(e,a,c);case 31:return Pv(e,a,c);case 22:return Q1(e,a,c,a.pendingProps);case 24:return Fr(a),m=ys(ts),e===null?(y=Vd(),y===null&&(y=Nn,C=zd(),y.pooledCache=C,C.refCount++,C!==null&&(y.pooledCacheLanes|=c),y=C),a.memoizedState={parent:m,cache:y},Gd(a),Wi(a,ts,y)):((e.lanes&c)!==0&&(qd(e,a),mo(a,null,null,c),fo()),y=e.memoizedState,C=a.memoizedState,y.parent!==m?(y={parent:m,cache:m},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Wi(a,ts,m)):(m=C.cache,Wi(a,ts,m),m!==y.cache&&$d(a,[ts],c,!0))),ws(e,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(u(156,a.tag))}function yi(e){e.flags|=4}function Ah(e,a,c,m,y){if((a=(e.mode&32)!==0)&&(a=!1),a){if(e.flags|=16777216,(y&335544128)===y)if(e.stateNode.complete)e.flags|=8192;else if(Bx())e.flags|=8192;else throw Br=Pc,Hd}else e.flags&=-16777217}function ox(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cp(a))if(Bx())e.flags|=8192;else throw Br=Pc,Hd}function nu(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?dn():536870912,e.lanes|=a,vl|=a)}function wo(e,a){if(!Gt)switch(e.tailMode){case"hidden":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?e.tail=null:c.sibling=null;break;case"collapsed":c=e.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:m.sibling=null}}function _n(e){var a=e.alternate!==null&&e.alternate.child===e.child,c=0,m=0;if(a)for(var y=e.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=m,e.childLanes=c,a}function zv(e,a,c){var m=a.pendingProps;switch(Dd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(a),null;case 1:return _n(a),null;case 3:return c=a.stateNode,m=null,e!==null&&(m=e.memoizedState.cache),a.memoizedState.cache!==m&&(a.flags|=2048),xi(ts),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(ol(a)?yi(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Id())),_n(a),null;case 26:var y=a.type,C=a.memoizedState;return e===null?(yi(a),C!==null?(_n(a),ox(a,C)):(_n(a),Ah(a,y,null,m,c))):C?C!==e.memoizedState?(yi(a),_n(a),ox(a,C)):(_n(a),a.flags&=-16777217):(e=e.memoizedProps,e!==m&&yi(a),_n(a),Ah(a,y,e,m,c)),null;case 27:if(Ve(a),c=te.current,y=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==m&&yi(a);else{if(!m){if(a.stateNode===null)throw Error(u(166));return _n(a),null}e=be.current,ol(a)?zm(a):(e=xp(y,m,c),a.stateNode=e,yi(a))}return _n(a),null;case 5:if(Ve(a),y=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==m&&yi(a);else{if(!m){if(a.stateNode===null)throw Error(u(166));return _n(a),null}if(C=be.current,ol(a))zm(a);else{var F=gu(te.current);switch(C){case 1:C=F.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:C=F.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":C=F.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":C=F.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":C=F.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof m.is=="string"?F.createElement("select",{is:m.is}):F.createElement("select"),m.multiple?C.multiple=!0:m.size&&(C.size=m.size);break;default:C=typeof m.is=="string"?F.createElement(y,{is:m.is}):F.createElement(y)}}C[an]=a,C[en]=m;e:for(F=a.child;F!==null;){if(F.tag===5||F.tag===6)C.appendChild(F.stateNode);else if(F.tag!==4&&F.tag!==27&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===a)break e;for(;F.sibling===null;){if(F.return===null||F.return===a)break e;F=F.return}F.sibling.return=F.return,F=F.sibling}a.stateNode=C;e:switch(vs(C,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&yi(a)}}return _n(a),Ah(a,a.type,e===null?null:e.memoizedProps,a.pendingProps,c),null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==m&&yi(a);else{if(typeof m!="string"&&a.stateNode===null)throw Error(u(166));if(e=te.current,ol(a)){if(e=a.stateNode,c=a.memoizedProps,m=null,y=bs,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}e[an]=a,e=!!(e.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||ap(e.nodeValue,c)),e||Yi(a,!0)}else e=gu(e).createTextNode(m),e[an]=a,a.stateNode=e}return _n(a),null;case 31:if(c=a.memoizedState,e===null||e.memoizedState!==null){if(m=ol(a),c!==null){if(e===null){if(!m)throw Error(u(318));if(e=a.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[an]=a}else Tr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_n(a),e=!1}else c=Id(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),e=!0;if(!e)return a.flags&256?(ia(a),a):(ia(a),null);if((a.flags&128)!==0)throw Error(u(558))}return _n(a),null;case 13:if(m=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(y=ol(a),m!==null&&m.dehydrated!==null){if(e===null){if(!y)throw Error(u(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(u(317));y[an]=a}else Tr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_n(a),y=!1}else y=Id(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(ia(a),a):(ia(a),null)}return ia(a),(a.flags&128)!==0?(a.lanes=c,a):(c=m!==null,e=e!==null&&e.memoizedState!==null,c&&(m=a.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==y&&(m.flags|=2048)),c!==e&&c&&(a.child.flags|=8192),nu(a,a.updateQueue),_n(a),null);case 4:return we(),e===null&&Wh(a.stateNode.containerInfo),_n(a),null;case 10:return xi(a.type),_n(a),null;case 19:if(G(Wn),m=a.memoizedState,m===null)return _n(a),null;if(y=(a.flags&128)!==0,C=m.rendering,C===null)if(y)wo(m,!1);else{if(Vn!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(C=Vc(e),C!==null){for(a.flags|=128,wo(m,!1),e=C.updateQueue,a.updateQueue=e,nu(a,e),a.subtreeFlags=0,e=c,c=a.child;c!==null;)Mm(c,e),c=c.sibling;return ie(Wn,Wn.current&1|2),Gt&&fi(a,m.treeForkCount),a.child}e=e.sibling}m.tail!==null&&Fe()>lu&&(a.flags|=128,y=!0,wo(m,!1),a.lanes=4194304)}else{if(!y)if(e=Vc(C),e!==null){if(a.flags|=128,y=!0,e=e.updateQueue,a.updateQueue=e,nu(a,e),wo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!C.alternate&&!Gt)return _n(a),null}else 2*Fe()-m.renderingStartTime>lu&&c!==536870912&&(a.flags|=128,y=!0,wo(m,!1),a.lanes=4194304);m.isBackwards?(C.sibling=a.child,a.child=C):(e=m.last,e!==null?e.sibling=C:a.child=C,m.last=C)}return m.tail!==null?(e=m.tail,m.rendering=e,m.tail=e.sibling,m.renderingStartTime=Fe(),e.sibling=null,c=Wn.current,ie(Wn,y?c&1|2:c&1),Gt&&fi(a,m.treeForkCount),e):(_n(a),null);case 22:case 23:return ia(a),Kd(),m=a.memoizedState!==null,e!==null?e.memoizedState!==null!==m&&(a.flags|=8192):m&&(a.flags|=8192),m?(c&536870912)!==0&&(a.flags&128)===0&&(_n(a),a.subtreeFlags&6&&(a.flags|=8192)):_n(a),c=a.updateQueue,c!==null&&nu(a,c.retryQueue),c=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(c=e.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==c&&(a.flags|=2048),e!==null&&G(Rr),null;case 24:return c=null,e!==null&&(c=e.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),xi(ts),_n(a),null;case 25:return null;case 30:return null}throw Error(u(156,a.tag))}function Uv(e,a){switch(Dd(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return xi(ts),we(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return Ve(a),null;case 31:if(a.memoizedState!==null){if(ia(a),a.alternate===null)throw Error(u(340));Tr()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 13:if(ia(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(u(340));Tr()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return G(Wn),null;case 4:return we(),null;case 10:return xi(a.type),null;case 22:case 23:return ia(a),Kd(),e!==null&&G(Rr),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return xi(ts),null;case 25:return null;default:return null}}function cx(e,a){switch(Dd(a),a.tag){case 3:xi(ts),we();break;case 26:case 27:case 5:Ve(a);break;case 4:we();break;case 31:a.memoizedState!==null&&ia(a);break;case 13:ia(a);break;case 19:G(Wn);break;case 10:xi(a.type);break;case 22:case 23:ia(a),Kd(),e!==null&&G(Rr);break;case 24:xi(ts)}}function vo(e,a){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&e)===e){m=void 0;var C=c.create,F=c.inst;m=C(),F.destroy=m}c=c.next}while(c!==y)}}catch(H){fn(a,a.return,H)}}function tr(e,a,c){try{var m=a.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var C=y.next;m=C;do{if((m.tag&e)===e){var F=m.inst,H=F.destroy;if(H!==void 0){F.destroy=void 0,y=a;var le=c,Ee=H;try{Ee()}catch(Le){fn(y,le,Le)}}}m=m.next}while(m!==C)}}catch(Le){fn(a,a.return,Le)}}function ux(e){var a=e.updateQueue;if(a!==null){var c=e.stateNode;try{e1(a,c)}catch(m){fn(e,e.return,m)}}}function dx(e,a,c){c.props=Ir(e.type,e.memoizedProps),c.state=e.memoizedState;try{c.componentWillUnmount()}catch(m){fn(e,a,m)}}function No(e,a){try{var c=e.ref;if(c!==null){switch(e.tag){case 26:case 27:case 5:var m=e.stateNode;break;case 30:m=e.stateNode;break;default:m=e.stateNode}typeof c=="function"?e.refCleanup=c(m):c.current=m}}catch(y){fn(e,a,y)}}function Ya(e,a){var c=e.ref,m=e.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){fn(e,a,y)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){fn(e,a,y)}else c.current=null}function hx(e){var a=e.type,c=e.memoizedProps,m=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){fn(e,e.return,y)}}function _h(e,a,c){try{var m=e.stateNode;uN(m,e.type,c,a),m[en]=a}catch(y){fn(e,e.return,y)}}function fx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&or(e.type)||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&or(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,a,c){var m=e.tag;if(m===5||m===6)e=e.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(e,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(e),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ps));else if(m!==4&&(m===27&&or(e.type)&&(c=e.stateNode,a=null),e=e.child,e!==null))for(kh(e,a,c),e=e.sibling;e!==null;)kh(e,a,c),e=e.sibling}function su(e,a,c){var m=e.tag;if(m===5||m===6)e=e.stateNode,a?c.insertBefore(e,a):c.appendChild(e);else if(m!==4&&(m===27&&or(e.type)&&(c=e.stateNode),e=e.child,e!==null))for(su(e,a,c),e=e.sibling;e!==null;)su(e,a,c),e=e.sibling}function mx(e){var a=e.stateNode,c=e.memoizedProps;try{for(var m=e.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);vs(a,m,c),a[an]=e,a[en]=c}catch(C){fn(e,e.return,C)}}var wi=!1,as=!1,Fh=!1,xx=typeof WeakSet=="function"?WeakSet:Set,ms=null;function Vv(e,a){if(e=e.containerInfo,Qh=Su,e=I(e),z(e)){if("selectionStart"in e)var c={start:e.selectionStart,end:e.selectionEnd};else e:{c=(c=e.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{c.nodeType,C.nodeType}catch{c=null;break e}var F=0,H=-1,le=-1,Ee=0,Le=0,$e=e,Te=null;t:for(;;){for(var De;$e!==c||y!==0&&$e.nodeType!==3||(H=F+y),$e!==C||m!==0&&$e.nodeType!==3||(le=F+m),$e.nodeType===3&&(F+=$e.nodeValue.length),(De=$e.firstChild)!==null;)Te=$e,$e=De;for(;;){if($e===e)break t;if(Te===c&&++Ee===y&&(H=F),Te===C&&++Le===m&&(le=F),(De=$e.nextSibling)!==null)break;$e=Te,Te=$e.parentNode}$e=De}c=H===-1||le===-1?null:{start:H,end:le}}else c=null}c=c||{start:0,end:0}}else c=null;for(Jh={focusedElem:e,selectionRange:c},Su=!1,ms=a;ms!==null;)if(a=ms,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,ms=e;else for(;ms!==null;){switch(a=ms,C=a.alternate,e=a.flags,a.tag){case 0:if((e&4)!==0&&(e=a.updateQueue,e=e!==null?e.events:null,e!==null))for(c=0;c<e.length;c++)y=e[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&C!==null){e=void 0,c=a,y=C.memoizedProps,C=C.memoizedState,m=c.stateNode;try{var it=Ir(c.type,y);e=m.getSnapshotBeforeUpdate(it,C),m.__reactInternalSnapshotBeforeUpdate=e}catch(vt){fn(c,c.return,vt)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,c=e.nodeType,c===9)nf(e);else if(c===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=a.sibling,e!==null){e.return=a.return,ms=e;break}ms=a.return}}function px(e,a,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ni(e,c),m&4&&vo(5,c);break;case 1:if(Ni(e,c),m&4)if(e=c.stateNode,a===null)try{e.componentDidMount()}catch(F){fn(c,c.return,F)}else{var y=Ir(c.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(y,a,e.__reactInternalSnapshotBeforeUpdate)}catch(F){fn(c,c.return,F)}}m&64&&ux(c),m&512&&No(c,c.return);break;case 3:if(Ni(e,c),m&64&&(e=c.updateQueue,e!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{e1(e,a)}catch(F){fn(c,c.return,F)}}break;case 27:a===null&&m&4&&mx(c);case 26:case 5:Ni(e,c),a===null&&m&4&&hx(c),m&512&&No(c,c.return);break;case 12:Ni(e,c);break;case 31:Ni(e,c),m&4&&yx(e,c);break;case 13:Ni(e,c),m&4&&wx(e,c),m&64&&(e=c.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(c=Qv.bind(null,c),bN(e,c))));break;case 22:if(m=c.memoizedState!==null||wi,!m){a=a!==null&&a.memoizedState!==null||as,y=wi;var C=as;wi=m,(as=a)&&!C?Ci(e,c,(c.subtreeFlags&8772)!==0):Ni(e,c),wi=y,as=C}break;case 30:break;default:Ni(e,c)}}function gx(e){var a=e.alternate;a!==null&&(e.alternate=null,gx(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&os(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var On=null,Us=!1;function vi(e,a,c){for(c=c.child;c!==null;)bx(e,a,c),c=c.sibling}function bx(e,a,c){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Bt,c)}catch{}switch(c.tag){case 26:as||Ya(c,a),vi(e,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:as||Ya(c,a);var m=On,y=Us;or(c.type)&&(On=c.stateNode,Us=!1),vi(e,a,c),Fo(c.stateNode),On=m,Us=y;break;case 5:as||Ya(c,a);case 6:if(m=On,y=Us,On=null,vi(e,a,c),On=m,Us=y,On!==null)if(Us)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(c.stateNode)}catch(C){fn(c,a,C)}else try{On.removeChild(c.stateNode)}catch(C){fn(c,a,C)}break;case 18:On!==null&&(Us?(e=On,up(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,c.stateNode),Tl(e)):up(On,c.stateNode));break;case 4:m=On,y=Us,On=c.stateNode.containerInfo,Us=!0,vi(e,a,c),On=m,Us=y;break;case 0:case 11:case 14:case 15:tr(2,c,a),as||tr(4,c,a),vi(e,a,c);break;case 1:as||(Ya(c,a),m=c.stateNode,typeof m.componentWillUnmount=="function"&&dx(c,a,m)),vi(e,a,c);break;case 21:vi(e,a,c);break;case 22:as=(m=as)||c.memoizedState!==null,vi(e,a,c),as=m;break;default:vi(e,a,c)}}function yx(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Tl(e)}catch(c){fn(a,a.return,c)}}}function wx(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tl(e)}catch(c){fn(a,a.return,c)}}function Hv(e){switch(e.tag){case 31:case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new xx),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new xx),a;default:throw Error(u(435,e.tag))}}function au(e,a){var c=Hv(e);a.forEach(function(m){if(!c.has(m)){c.add(m);var y=Jv.bind(null,e,m);m.then(y,y)}})}function Vs(e,a){var c=a.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],C=e,F=a,H=F;e:for(;H!==null;){switch(H.tag){case 27:if(or(H.type)){On=H.stateNode,Us=!1;break e}break;case 5:On=H.stateNode,Us=!1;break e;case 3:case 4:On=H.stateNode.containerInfo,Us=!0;break e}H=H.return}if(On===null)throw Error(u(160));bx(C,F,y),On=null,Us=!1,C=y.alternate,C!==null&&(C.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)vx(a,e),a=a.sibling}var Ba=null;function vx(e,a){var c=e.alternate,m=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vs(a,e),Hs(e),m&4&&(tr(3,e,e.return),vo(3,e),tr(5,e,e.return));break;case 1:Vs(a,e),Hs(e),m&512&&(as||c===null||Ya(c,c.return)),m&64&&wi&&(e=e.updateQueue,e!==null&&(m=e.callbacks,m!==null&&(c=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=Ba;if(Vs(a,e),Hs(e),m&512&&(as||c===null||Ya(c,c.return)),m&4){var C=c!==null?c.memoizedState:null;if(m=e.memoizedState,c===null)if(m===null)if(e.stateNode===null){e:{m=e.type,c=e.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":C=y.getElementsByTagName("title")[0],(!C||C[ai]||C[an]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=y.createElement(m),y.head.insertBefore(C,y.querySelector("head > title"))),vs(C,m,c),C[an]=e,$n(C),m=C;break e;case"link":var F=vp("link","href",y).get(m+(c.href||""));if(F){for(var H=0;H<F.length;H++)if(C=F[H],C.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&C.getAttribute("rel")===(c.rel==null?null:c.rel)&&C.getAttribute("title")===(c.title==null?null:c.title)&&C.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){F.splice(H,1);break t}}C=y.createElement(m),vs(C,m,c),y.head.appendChild(C);break;case"meta":if(F=vp("meta","content",y).get(m+(c.content||""))){for(H=0;H<F.length;H++)if(C=F[H],C.getAttribute("content")===(c.content==null?null:""+c.content)&&C.getAttribute("name")===(c.name==null?null:c.name)&&C.getAttribute("property")===(c.property==null?null:c.property)&&C.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&C.getAttribute("charset")===(c.charSet==null?null:c.charSet)){F.splice(H,1);break t}}C=y.createElement(m),vs(C,m,c),y.head.appendChild(C);break;default:throw Error(u(468,m))}C[an]=e,$n(C),m=C}e.stateNode=m}else Np(y,e.type,e.stateNode);else e.stateNode=wp(y,m,e.memoizedProps);else C!==m?(C===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):C.count--,m===null?Np(y,e.type,e.stateNode):wp(y,m,e.memoizedProps)):m===null&&e.stateNode!==null&&_h(e,e.memoizedProps,c.memoizedProps)}break;case 27:Vs(a,e),Hs(e),m&512&&(as||c===null||Ya(c,c.return)),c!==null&&m&4&&_h(e,e.memoizedProps,c.memoizedProps);break;case 5:if(Vs(a,e),Hs(e),m&512&&(as||c===null||Ya(c,c.return)),e.flags&32){y=e.stateNode;try{Ii(y,"")}catch(it){fn(e,e.return,it)}}m&4&&e.stateNode!=null&&(y=e.memoizedProps,_h(e,y,c!==null?c.memoizedProps:y)),m&1024&&(Fh=!0);break;case 6:if(Vs(a,e),Hs(e),m&4){if(e.stateNode===null)throw Error(u(162));m=e.memoizedProps,c=e.stateNode;try{c.nodeValue=m}catch(it){fn(e,e.return,it)}}break;case 3:if(wu=null,y=Ba,Ba=bu(a.containerInfo),Vs(a,e),Ba=y,Hs(e),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Tl(a.containerInfo)}catch(it){fn(e,e.return,it)}Fh&&(Fh=!1,Nx(e));break;case 4:m=Ba,Ba=bu(e.stateNode.containerInfo),Vs(a,e),Hs(e),Ba=m;break;case 12:Vs(a,e),Hs(e);break;case 31:Vs(a,e),Hs(e),m&4&&(m=e.updateQueue,m!==null&&(e.updateQueue=null,au(e,m)));break;case 13:Vs(a,e),Hs(e),e.child.flags&8192&&e.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(ru=Fe()),m&4&&(m=e.updateQueue,m!==null&&(e.updateQueue=null,au(e,m)));break;case 22:y=e.memoizedState!==null;var le=c!==null&&c.memoizedState!==null,Ee=wi,Le=as;if(wi=Ee||y,as=Le||le,Vs(a,e),as=Le,wi=Ee,Hs(e),m&8192)e:for(a=e.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||le||wi||as||Lr(e)),c=null,a=e;;){if(a.tag===5||a.tag===26){if(c===null){le=c=a;try{if(C=le.stateNode,y)F=C.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{H=le.stateNode;var $e=le.memoizedProps.style,Te=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;H.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(it){fn(le,le.return,it)}}}else if(a.tag===6){if(c===null){le=a;try{le.stateNode.nodeValue=y?"":le.memoizedProps}catch(it){fn(le,le.return,it)}}}else if(a.tag===18){if(c===null){le=a;try{var De=le.stateNode;y?dp(De,!0):dp(le.stateNode,!1)}catch(it){fn(le,le.return,it)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}m&4&&(m=e.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,au(e,c))));break;case 19:Vs(a,e),Hs(e),m&4&&(m=e.updateQueue,m!==null&&(e.updateQueue=null,au(e,m)));break;case 30:break;case 21:break;default:Vs(a,e),Hs(e)}}function Hs(e){var a=e.flags;if(a&2){try{for(var c,m=e.return;m!==null;){if(fx(m)){c=m;break}m=m.return}if(c==null)throw Error(u(160));switch(c.tag){case 27:var y=c.stateNode,C=Th(e);su(e,C,y);break;case 5:var F=c.stateNode;c.flags&32&&(Ii(F,""),c.flags&=-33);var H=Th(e);su(e,H,F);break;case 3:case 4:var le=c.stateNode.containerInfo,Ee=Th(e);kh(e,Ee,le);break;default:throw Error(u(161))}}catch(Le){fn(e,e.return,Le)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function Nx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;Nx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function Ni(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)px(e,a.alternate,a),a=a.sibling}function Lr(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:tr(4,a,a.return),Lr(a);break;case 1:Ya(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&dx(a,a.return,c),Lr(a);break;case 27:Fo(a.stateNode);case 26:case 5:Ya(a,a.return),Lr(a);break;case 22:a.memoizedState===null&&Lr(a);break;case 30:Lr(a);break;default:Lr(a)}e=e.sibling}}function Ci(e,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var m=a.alternate,y=e,C=a,F=C.flags;switch(C.tag){case 0:case 11:case 15:Ci(y,C,c),vo(4,C);break;case 1:if(Ci(y,C,c),m=C,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Ee){fn(m,m.return,Ee)}if(m=C,y=m.updateQueue,y!==null){var H=m.stateNode;try{var le=y.shared.hiddenCallbacks;if(le!==null)for(y.shared.hiddenCallbacks=null,y=0;y<le.length;y++)Jm(le[y],H)}catch(Ee){fn(m,m.return,Ee)}}c&&F&64&&ux(C),No(C,C.return);break;case 27:mx(C);case 26:case 5:Ci(y,C,c),c&&m===null&&F&4&&hx(C),No(C,C.return);break;case 12:Ci(y,C,c);break;case 31:Ci(y,C,c),c&&F&4&&yx(y,C);break;case 13:Ci(y,C,c),c&&F&4&&wx(y,C);break;case 22:C.memoizedState===null&&Ci(y,C,c),No(C,C.return);break;case 30:break;default:Ci(y,C,c)}a=a.sibling}}function Rh(e,a){var c=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(c=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==c&&(e!=null&&e.refCount++,c!=null&&lo(c))}function Oh(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&lo(e))}function Da(e,a,c,m){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cx(e,a,c,m),a=a.sibling}function Cx(e,a,c,m){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Da(e,a,c,m),y&2048&&vo(9,a);break;case 1:Da(e,a,c,m);break;case 3:Da(e,a,c,m),y&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&lo(e)));break;case 12:if(y&2048){Da(e,a,c,m),e=a.stateNode;try{var C=a.memoizedProps,F=C.id,H=C.onPostCommit;typeof H=="function"&&H(F,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(le){fn(a,a.return,le)}}else Da(e,a,c,m);break;case 31:Da(e,a,c,m);break;case 13:Da(e,a,c,m);break;case 23:break;case 22:C=a.stateNode,F=a.alternate,a.memoizedState!==null?C._visibility&2?Da(e,a,c,m):Co(e,a):C._visibility&2?Da(e,a,c,m):(C._visibility|=2,bl(e,a,c,m,(a.subtreeFlags&10256)!==0||!1)),y&2048&&Rh(F,a);break;case 24:Da(e,a,c,m),y&2048&&Oh(a.alternate,a);break;default:Da(e,a,c,m)}}function bl(e,a,c,m,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var C=e,F=a,H=c,le=m,Ee=F.flags;switch(F.tag){case 0:case 11:case 15:bl(C,F,H,le,y),vo(8,F);break;case 23:break;case 22:var Le=F.stateNode;F.memoizedState!==null?Le._visibility&2?bl(C,F,H,le,y):Co(C,F):(Le._visibility|=2,bl(C,F,H,le,y)),y&&Ee&2048&&Rh(F.alternate,F);break;case 24:bl(C,F,H,le,y),y&&Ee&2048&&Oh(F.alternate,F);break;default:bl(C,F,H,le,y)}a=a.sibling}}function Co(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=e,m=a,y=m.flags;switch(m.tag){case 22:Co(c,m),y&2048&&Rh(m.alternate,m);break;case 24:Co(c,m),y&2048&&Oh(m.alternate,m);break;default:Co(c,m)}a=a.sibling}}var So=8192;function yl(e,a,c){if(e.subtreeFlags&So)for(e=e.child;e!==null;)Sx(e,a,c),e=e.sibling}function Sx(e,a,c){switch(e.tag){case 26:yl(e,a,c),e.flags&So&&e.memoizedState!==null&&kN(c,Ba,e.memoizedState,e.memoizedProps);break;case 5:yl(e,a,c);break;case 3:case 4:var m=Ba;Ba=bu(e.stateNode.containerInfo),yl(e,a,c),Ba=m;break;case 22:e.memoizedState===null&&(m=e.alternate,m!==null&&m.memoizedState!==null?(m=So,So=16777216,yl(e,a,c),So=m):yl(e,a,c));break;default:yl(e,a,c)}}function jx(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function jo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var m=a[c];ms=m,Ax(m,e)}jx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ex(e),e=e.sibling}function Ex(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&tr(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,iu(e)):jo(e);break;default:jo(e)}}function iu(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var m=a[c];ms=m,Ax(m,e)}jx(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:tr(8,a,a.return),iu(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,iu(a));break;default:iu(a)}e=e.sibling}}function Ax(e,a){for(;ms!==null;){var c=ms;switch(c.tag){case 0:case 11:case 15:tr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:lo(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,ms=m;else e:for(c=e;ms!==null;){m=ms;var y=m.sibling,C=m.return;if(gx(m),m===c){ms=null;break e}if(y!==null){y.return=C,ms=y;break e}ms=C}}}var Gv={getCacheForType:function(e){var a=ys(ts),c=a.data.get(e);return c===void 0&&(c=e(),a.data.set(e,c)),c},cacheSignal:function(){return ys(ts).controller.signal}},qv=typeof WeakMap=="function"?WeakMap:Map,sn=0,Nn=null,Lt=null,Ut=0,hn=0,ra=null,nr=!1,wl=!1,Bh=!1,Si=0,Vn=0,sr=0,Pr=0,Dh=0,la=0,vl=0,Eo=null,Gs=null,Mh=!1,ru=0,_x=0,lu=1/0,ou=null,ar=null,hs=0,ir=null,Nl=null,ji=0,Ih=0,Lh=null,Tx=null,Ao=0,Ph=null;function oa(){return(sn&2)!==0&&Ut!==0?Ut&-Ut:re.T!==null?Gh():wt()}function kx(){if(la===0)if((Ut&536870912)===0||Gt){var e=bt;bt<<=1,(bt&3932160)===0&&(bt=262144),la=e}else la=536870912;return e=aa.current,e!==null&&(e.flags|=32),la}function qs(e,a,c){(e===Nn&&(hn===2||hn===9)||e.cancelPendingCommit!==null)&&(Cl(e,0),rr(e,Ut,la,!1)),ps(e,c),((sn&2)===0||e!==Nn)&&(e===Nn&&((sn&2)===0&&(Pr|=c),Vn===4&&rr(e,Ut,la,!1)),Wa(e))}function Fx(e,a,c){if((sn&6)!==0)throw Error(u(327));var m=!c&&(a&127)===0&&(a&e.expiredLanes)===0||yt(e,a),y=m?Wv(e,a):zh(e,a,!0),C=m;do{if(y===0){wl&&!m&&rr(e,a,0,!1);break}else{if(c=e.current.alternate,C&&!Xv(c)){y=zh(e,a,!1),C=!1;continue}if(y===2){if(C=a,e.errorRecoveryDisabledLanes&C)var F=0;else F=e.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){a=F;e:{var H=e;y=Eo;var le=H.current.memoizedState.isDehydrated;if(le&&(Cl(H,F).flags|=256),F=zh(H,F,!1),F!==2){if(Bh&&!le){H.errorRecoveryDisabledLanes|=C,Pr|=C,y=4;break e}C=Gs,Gs=y,C!==null&&(Gs===null?Gs=C:Gs.push.apply(Gs,C))}y=F}if(C=!1,y!==2)continue}}if(y===1){Cl(e,0),rr(e,a,0,!0);break}e:{switch(m=e,C=y,C){case 0:case 1:throw Error(u(345));case 4:if((a&4194048)!==a)break;case 6:rr(m,a,la,!nr);break e;case 2:Gs=null;break;case 3:case 5:break;default:throw Error(u(329))}if((a&62914560)===a&&(y=ru+300-Fe(),10<y)){if(rr(m,a,la,!nr),Dt(m,0,!0)!==0)break e;ji=a,m.timeoutHandle=op(Rx.bind(null,m,c,Gs,ou,Mh,a,la,Pr,vl,nr,C,"Throttled",-0,0),y);break e}Rx(m,c,Gs,ou,Mh,a,la,Pr,vl,nr,C,null,-0,0)}}break}while(!0);Wa(e)}function Rx(e,a,c,m,y,C,F,H,le,Ee,Le,$e,Te,De){if(e.timeoutHandle=-1,$e=a.subtreeFlags,$e&8192||($e&16785408)===16785408){$e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ps},Sx(a,C,$e);var it=(C&62914560)===C?ru-Fe():(C&4194048)===C?_x-Fe():0;if(it=FN($e,it),it!==null){ji=C,e.cancelPendingCommit=it($x.bind(null,e,a,C,c,m,y,F,H,le,Le,$e,null,Te,De)),rr(e,C,F,!Ee);return}}$x(e,a,C,c,m,y,F,H,le)}function Xv(e){for(var a=e;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],C=y.getSnapshot;y=y.value;try{if(!x(C(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function rr(e,a,c,m){a&=~Dh,a&=~Pr,e.suspendedLanes|=a,e.pingedLanes&=~a,m&&(e.warmLanes|=a),m=e.expirationTimes;for(var y=a;0<y;){var C=31-Ct(y),F=1<<C;m[C]=-1,y&=~F}c!==0&&Yr(e,c,a)}function cu(){return(sn&6)===0?(_o(0),!1):!0}function $h(){if(Lt!==null){if(hn===0)var e=Lt.return;else e=Lt,mi=kr=null,nh(e),fl=null,co=0,e=Lt;for(;e!==null;)cx(e.alternate,e),e=e.return;Lt=null}}function Cl(e,a){var c=e.timeoutHandle;c!==-1&&(e.timeoutHandle=-1,fN(c)),c=e.cancelPendingCommit,c!==null&&(e.cancelPendingCommit=null,c()),ji=0,$h(),Nn=e,Lt=c=hi(e.current,null),Ut=a,hn=0,ra=null,nr=!1,wl=yt(e,a),Bh=!1,vl=la=Dh=Pr=sr=Vn=0,Gs=Eo=null,Mh=!1,(a&8)!==0&&(a|=a&32);var m=e.entangledLanes;if(m!==0)for(e=e.entanglements,m&=a;0<m;){var y=31-Ct(m),C=1<<y;a|=e[y],m&=~C}return Si=a,kc(),c}function Ox(e,a){_t=null,re.H=bo,a===hl||a===Lc?(a=Wm(),hn=3):a===Hd?(a=Wm(),hn=4):hn=a===bh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ra=a,Lt===null&&(Vn=1,Qc(e,fa(a,e.current)))}function Bx(){var e=aa.current;return e===null?!0:(Ut&4194048)===Ut?ga===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===ga:!1}function Dx(){var e=re.H;return re.H=bo,e===null?bo:e}function Mx(){var e=re.A;return re.A=Gv,e}function uu(){Vn=4,nr||(Ut&4194048)!==Ut&&aa.current!==null||(wl=!0),(sr&134217727)===0&&(Pr&134217727)===0||Nn===null||rr(Nn,Ut,la,!1)}function zh(e,a,c){var m=sn;sn|=2;var y=Dx(),C=Mx();(Nn!==e||Ut!==a)&&(ou=null,Cl(e,a)),a=!1;var F=Vn;e:do try{if(hn!==0&&Lt!==null){var H=Lt,le=ra;switch(hn){case 8:$h(),F=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(a=!0);var Ee=hn;if(hn=0,ra=null,Sl(e,H,le,Ee),c&&wl){F=0;break e}break;default:Ee=hn,hn=0,ra=null,Sl(e,H,le,Ee)}}Yv(),F=Vn;break}catch(Le){Ox(e,Le)}while(!0);return a&&e.shellSuspendCounter++,mi=kr=null,sn=m,re.H=y,re.A=C,Lt===null&&(Nn=null,Ut=0,kc()),F}function Yv(){for(;Lt!==null;)Ix(Lt)}function Wv(e,a){var c=sn;sn|=2;var m=Dx(),y=Mx();Nn!==e||Ut!==a?(ou=null,lu=Fe()+500,Cl(e,a)):wl=yt(e,a);e:do try{if(hn!==0&&Lt!==null){a=Lt;var C=ra;t:switch(hn){case 1:hn=0,ra=null,Sl(e,a,C,1);break;case 2:case 9:if(Xm(C)){hn=0,ra=null,Lx(a);break}a=function(){hn!==2&&hn!==9||Nn!==e||(hn=7),Wa(e)},C.then(a,a);break e;case 3:hn=7;break e;case 4:hn=5;break e;case 7:Xm(C)?(hn=0,ra=null,Lx(a)):(hn=0,ra=null,Sl(e,a,C,7));break;case 5:var F=null;switch(Lt.tag){case 26:F=Lt.memoizedState;case 5:case 27:var H=Lt;if(F?Cp(F):H.stateNode.complete){hn=0,ra=null;var le=H.sibling;if(le!==null)Lt=le;else{var Ee=H.return;Ee!==null?(Lt=Ee,du(Ee)):Lt=null}break t}}hn=0,ra=null,Sl(e,a,C,5);break;case 6:hn=0,ra=null,Sl(e,a,C,6);break;case 8:$h(),Vn=6;break e;default:throw Error(u(462))}}Kv();break}catch(Le){Ox(e,Le)}while(!0);return mi=kr=null,re.H=m,re.A=y,sn=c,Lt!==null?0:(Nn=null,Ut=0,kc(),Vn)}function Kv(){for(;Lt!==null&&!ls();)Ix(Lt)}function Ix(e){var a=lx(e.alternate,e,Si);e.memoizedProps=e.pendingProps,a===null?du(e):Lt=a}function Lx(e){var a=e,c=a.alternate;switch(a.tag){case 15:case 0:a=tx(c,a,a.pendingProps,a.type,void 0,Ut);break;case 11:a=tx(c,a,a.pendingProps,a.type.render,a.ref,Ut);break;case 5:nh(a);default:cx(c,a),a=Lt=Mm(a,Si),a=lx(c,a,Si)}e.memoizedProps=e.pendingProps,a===null?du(e):Lt=a}function Sl(e,a,c,m){mi=kr=null,nh(a),fl=null,co=0;var y=a.return;try{if(Lv(e,y,a,c,Ut)){Vn=1,Qc(e,fa(c,e.current)),Lt=null;return}}catch(C){if(y!==null)throw Lt=y,C;Vn=1,Qc(e,fa(c,e.current)),Lt=null;return}a.flags&32768?(Gt||m===1?e=!0:wl||(Ut&536870912)!==0?e=!1:(nr=e=!0,(m===2||m===9||m===3||m===6)&&(m=aa.current,m!==null&&m.tag===13&&(m.flags|=16384))),Px(a,e)):du(a)}function du(e){var a=e;do{if((a.flags&32768)!==0){Px(a,nr);return}e=a.return;var c=zv(a.alternate,a,Si);if(c!==null){Lt=c;return}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=e}while(a!==null);Vn===0&&(Vn=5)}function Px(e,a){do{var c=Uv(e.alternate,e);if(c!==null){c.flags&=32767,Lt=c;return}if(c=e.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=c}while(e!==null);Vn=6,Lt=null}function $x(e,a,c,m,y,C,F,H,le){e.cancelPendingCommit=null;do hu();while(hs!==0);if((sn&6)!==0)throw Error(u(327));if(a!==null){if(a===e.current)throw Error(u(177));if(C=a.lanes|a.childLanes,C|=Td,Zn(e,c,C,F,H,le),e===Nn&&(Lt=Nn=null,Ut=0),Nl=a,ir=e,ji=c,Ih=C,Lh=y,Tx=m,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eN(rt,function(){return Gx(),null})):(e.callbackNode=null,e.callbackPriority=0),m=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||m){m=re.T,re.T=null,y=J.p,J.p=2,F=sn,sn|=4;try{Vv(e,a,c)}finally{sn=F,J.p=y,re.T=m}}hs=1,zx(),Ux(),Vx()}}function zx(){if(hs===1){hs=0;var e=ir,a=Nl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=re.T,re.T=null;var m=J.p;J.p=2;var y=sn;sn|=4;try{vx(a,e);var C=Jh,F=I(e.containerInfo),H=C.focusedElem,le=C.selectionRange;if(F!==H&&H&&H.ownerDocument&&k(H.ownerDocument.documentElement,H)){if(le!==null&&z(H)){var Ee=le.start,Le=le.end;if(Le===void 0&&(Le=Ee),"selectionStart"in H)H.selectionStart=Ee,H.selectionEnd=Math.min(Le,H.value.length);else{var $e=H.ownerDocument||document,Te=$e&&$e.defaultView||window;if(Te.getSelection){var De=Te.getSelection(),it=H.textContent.length,vt=Math.min(le.start,it),bn=le.end===void 0?vt:Math.min(le.end,it);!De.extend&&vt>bn&&(F=bn,bn=vt,vt=F);var ye=E(H,vt),me=E(H,bn);if(ye&&me&&(De.rangeCount!==1||De.anchorNode!==ye.node||De.anchorOffset!==ye.offset||De.focusNode!==me.node||De.focusOffset!==me.offset)){var je=$e.createRange();je.setStart(ye.node,ye.offset),De.removeAllRanges(),vt>bn?(De.addRange(je),De.extend(me.node,me.offset)):(je.setEnd(me.node,me.offset),De.addRange(je))}}}}for($e=[],De=H;De=De.parentNode;)De.nodeType===1&&$e.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<$e.length;H++){var Pe=$e[H];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}Su=!!Qh,Jh=Qh=null}finally{sn=y,J.p=m,re.T=c}}e.current=a,hs=2}}function Ux(){if(hs===2){hs=0;var e=ir,a=Nl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=re.T,re.T=null;var m=J.p;J.p=2;var y=sn;sn|=4;try{px(e,a.alternate,a)}finally{sn=y,J.p=m,re.T=c}}hs=3}}function Vx(){if(hs===4||hs===3){hs=0,Fs();var e=ir,a=Nl,c=ji,m=Tx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?hs=5:(hs=0,Nl=ir=null,Hx(e,e.pendingLanes));var y=e.pendingLanes;if(y===0&&(ar=null),Zs(c),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Bt,a,void 0,(a.current.flags&128)===128)}catch{}if(m!==null){a=re.T,y=J.p,J.p=2,re.T=null;try{for(var C=e.onRecoverableError,F=0;F<m.length;F++){var H=m[F];C(H.value,{componentStack:H.stack})}}finally{re.T=a,J.p=y}}(ji&3)!==0&&hu(),Wa(e),y=e.pendingLanes,(c&261930)!==0&&(y&42)!==0?e===Ph?Ao++:(Ao=0,Ph=e):Ao=0,_o(0)}}function Hx(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,lo(a)))}function hu(){return zx(),Ux(),Vx(),Gx()}function Gx(){if(hs!==5)return!1;var e=ir,a=Ih;Ih=0;var c=Zs(ji),m=re.T,y=J.p;try{J.p=32>c?32:c,re.T=null,c=Lh,Lh=null;var C=ir,F=ji;if(hs=0,Nl=ir=null,ji=0,(sn&6)!==0)throw Error(u(331));var H=sn;if(sn|=4,Ex(C.current),Cx(C,C.current,F,c),sn=H,_o(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Bt,C)}catch{}return!0}finally{J.p=y,re.T=m,Hx(e,a)}}function qx(e,a,c){a=fa(c,a),a=gh(e.stateNode,a,2),e=Qi(e,a,2),e!==null&&(ps(e,2),Wa(e))}function fn(e,a,c){if(e.tag===3)qx(e,e,c);else for(;a!==null;){if(a.tag===3){qx(a,e,c);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ar===null||!ar.has(m))){e=fa(c,e),c=X1(2),m=Qi(a,c,2),m!==null&&(Y1(c,m,a,e),ps(m,2),Wa(m));break}}a=a.return}}function Uh(e,a,c){var m=e.pingCache;if(m===null){m=e.pingCache=new qv;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(c)||(Bh=!0,y.add(c),e=Zv.bind(null,e,a,c),a.then(e,e))}function Zv(e,a,c){var m=e.pingCache;m!==null&&m.delete(a),e.pingedLanes|=e.suspendedLanes&c,e.warmLanes&=~c,Nn===e&&(Ut&c)===c&&(Vn===4||Vn===3&&(Ut&62914560)===Ut&&300>Fe()-ru?(sn&2)===0&&Cl(e,0):Dh|=c,vl===Ut&&(vl=0)),Wa(e)}function Xx(e,a){a===0&&(a=dn()),e=Ar(e,a),e!==null&&(ps(e,a),Wa(e))}function Qv(e){var a=e.memoizedState,c=0;a!==null&&(c=a.retryLane),Xx(e,c)}function Jv(e,a){var c=0;switch(e.tag){case 31:case 13:var m=e.stateNode,y=e.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=e.stateNode;break;case 22:m=e.stateNode._retryCache;break;default:throw Error(u(314))}m!==null&&m.delete(a),Xx(e,c)}function eN(e,a){return cn(e,a)}var fu=null,jl=null,Vh=!1,mu=!1,Hh=!1,lr=0;function Wa(e){e!==jl&&e.next===null&&(jl===null?fu=jl=e:jl=jl.next=e),mu=!0,Vh||(Vh=!0,nN())}function _o(e,a){if(!Hh&&mu){Hh=!0;do for(var c=!1,m=fu;m!==null;){if(e!==0){var y=m.pendingLanes;if(y===0)var C=0;else{var F=m.suspendedLanes,H=m.pingedLanes;C=(1<<31-Ct(42|e)+1)-1,C&=y&~(F&~H),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(c=!0,Zx(m,C))}else C=Ut,C=Dt(m,m===Nn?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(C&3)===0||yt(m,C)||(c=!0,Zx(m,C));m=m.next}while(c);Hh=!1}}function tN(){Yx()}function Yx(){mu=Vh=!1;var e=0;lr!==0&&hN()&&(e=lr);for(var a=Fe(),c=null,m=fu;m!==null;){var y=m.next,C=Wx(m,a);C===0?(m.next=null,c===null?fu=y:c.next=y,y===null&&(jl=c)):(c=m,(e!==0||(C&3)!==0)&&(mu=!0)),m=y}hs!==0&&hs!==5||_o(e),lr!==0&&(lr=0)}function Wx(e,a){for(var c=e.suspendedLanes,m=e.pingedLanes,y=e.expirationTimes,C=e.pendingLanes&-62914561;0<C;){var F=31-Ct(C),H=1<<F,le=y[F];le===-1?((H&c)===0||(H&m)!==0)&&(y[F]=As(H,a)):le<=a&&(e.expiredLanes|=H),C&=~H}if(a=Nn,c=Ut,c=Dt(e,e===a?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),m=e.callbackNode,c===0||e===a&&(hn===2||hn===9)||e.cancelPendingCommit!==null)return m!==null&&m!==null&&Qe(m),e.callbackNode=null,e.callbackPriority=0;if((c&3)===0||yt(e,c)){if(a=c&-c,a===e.callbackPriority)return a;switch(m!==null&&Qe(m),Zs(c)){case 2:case 8:c=nt;break;case 32:c=rt;break;case 268435456:c=Mn;break;default:c=rt}return m=Kx.bind(null,e),c=cn(c,m),e.callbackPriority=a,e.callbackNode=c,a}return m!==null&&m!==null&&Qe(m),e.callbackPriority=2,e.callbackNode=null,2}function Kx(e,a){if(hs!==0&&hs!==5)return e.callbackNode=null,e.callbackPriority=0,null;var c=e.callbackNode;if(hu()&&e.callbackNode!==c)return null;var m=Ut;return m=Dt(e,e===Nn?m:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),m===0?null:(Fx(e,m,a),Wx(e,Fe()),e.callbackNode!=null&&e.callbackNode===c?Kx.bind(null,e):null)}function Zx(e,a){if(hu())return null;Fx(e,a,!0)}function nN(){mN(function(){(sn&6)!==0?cn(Ae,tN):Yx()})}function Gh(){if(lr===0){var e=ul;e===0&&(e=Yt,Yt<<=1,(Yt&261888)===0&&(Yt=256)),lr=e}return lr}function Qx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Li(""+e)}function Jx(e,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,e.id&&c.setAttribute("form",e.id),a.parentNode.insertBefore(c,a),e=new FormData(e),c.parentNode.removeChild(c),e}function sN(e,a,c,m,y){if(a==="submit"&&c&&c.stateNode===y){var C=Qx((y[en]||null).action),F=m.submitter;F&&(a=(a=F[en]||null)?Qx(a.formAction):F.getAttribute("formAction"),a!==null&&(C=a,F=null));var H=new cs("action","action",null,m,y);e.push({event:H,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(lr!==0){var le=F?Jx(y,F):new FormData(y);dh(c,{pending:!0,data:le,method:y.method,action:C},null,le)}}else typeof C=="function"&&(H.preventDefault(),le=F?Jx(y,F):new FormData(y),dh(c,{pending:!0,data:le,method:y.method,action:C},C,le))},currentTarget:y}]})}}for(var qh=0;qh<ao.length;qh++){var Xh=ao[qh],aN=Xh.toLowerCase(),iN=Xh[0].toUpperCase()+Xh.slice(1);Oa(aN,"on"+iN)}Oa(zs,"onAnimationEnd"),Oa(gs,"onAnimationIteration"),Oa(on,"onAnimationStart"),Oa("dblclick","onDoubleClick"),Oa("focusin","onFocus"),Oa("focusout","onBlur"),Oa(ds,"onTransitionRun"),Oa(Ds,"onTransitionStart"),Oa(Gi,"onTransitionCancel"),Oa(di,"onTransitionEnd"),Qs("onMouseEnter",["mouseout","mouseover"]),Qs("onMouseLeave",["mouseout","mouseover"]),Qs("onPointerEnter",["pointerout","pointerover"]),Qs("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function ep(e,a){a=(a&4)!==0;for(var c=0;c<e.length;c++){var m=e[c],y=m.event;m=m.listeners;e:{var C=void 0;if(a)for(var F=m.length-1;0<=F;F--){var H=m[F],le=H.instance,Ee=H.currentTarget;if(H=H.listener,le!==C&&y.isPropagationStopped())break e;C=H,y.currentTarget=Ee;try{C(y)}catch(Le){Tc(Le)}y.currentTarget=null,C=le}else for(F=0;F<m.length;F++){if(H=m[F],le=H.instance,Ee=H.currentTarget,H=H.listener,le!==C&&y.isPropagationStopped())break e;C=H,y.currentTarget=Ee;try{C(y)}catch(Le){Tc(Le)}y.currentTarget=null,C=le}}}}function Pt(e,a){var c=a[$t];c===void 0&&(c=a[$t]=new Set);var m=e+"__bubble";c.has(m)||(tp(a,e,2,!1),c.add(m))}function Yh(e,a,c){var m=0;a&&(m|=4),tp(c,e,m,a)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Wh(e){if(!e[xu]){e[xu]=!0,ze.forEach(function(c){c!=="selectionchange"&&(rN.has(c)||Yh(c,!1,e),Yh(c,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[xu]||(a[xu]=!0,Yh("selectionchange",!1,a))}}function tp(e,a,c,m){switch(kp(a)){case 2:var y=BN;break;case 8:y=DN;break;default:y=df}c=y.bind(null,a,c,e),y=void 0,!Zl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?e.addEventListener(a,c,{capture:!0,passive:y}):e.addEventListener(a,c,!0):y!==void 0?e.addEventListener(a,c,{passive:y}):e.addEventListener(a,c,!1)}function Kh(e,a,c,m,y){var C=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var H=m.stateNode.containerInfo;if(H===y)break;if(F===4)for(F=m.return;F!==null;){var le=F.tag;if((le===3||le===4)&&F.stateNode.containerInfo===y)return;F=F.return}for(;H!==null;){if(F=xn(H),F===null)return;if(le=F.tag,le===5||le===6||le===26||le===27){m=C=F;continue e}H=H.parentNode}}m=m.return}bc(function(){var Ee=C,Le=Kl(c),$e=[];e:{var Te=_c.get(e);if(Te!==void 0){var De=cs,it=e;switch(e){case"keypress":if(Ua(c)===0)break e;case"keydown":case"keyup":De=tl;break;case"focusin":it="focus",De=eo;break;case"focusout":it="blur",De=eo;break;case"beforeblur":case"afterblur":De=eo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Jr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=Ed;break;case zs:case gs:case on:De=Tt;break;case di:De=li;break;case"scroll":case"scrollend":De=yc;break;case"wheel":De=Ad;break;case"copy":case"cut":case"paste":De=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=ln;break;case"toggle":case"beforetoggle":De=no}var vt=(a&4)!==0,bn=!vt&&(e==="scroll"||e==="scrollend"),ye=vt?Te!==null?Te+"Capture":null:Te;vt=[];for(var me=Ee,je;me!==null;){var Pe=me;if(je=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||je===null||ye===null||(Pe=St(me,ye),Pe!=null&&vt.push(ko(me,Pe,je))),bn)break;me=me.return}0<vt.length&&(Te=new De(Te,it,null,c,Le),$e.push({event:Te,listeners:vt}))}}if((a&7)===0){e:{if(Te=e==="mouseover"||e==="pointerover",De=e==="mouseout"||e==="pointerout",Te&&c!==yr&&(it=c.relatedTarget||c.fromElement)&&(xn(it)||it[_e]))break e;if((De||Te)&&(Te=Le.window===Le?Le:(Te=Le.ownerDocument)?Te.defaultView||Te.parentWindow:window,De?(it=c.relatedTarget||c.toElement,De=Ee,it=it?xn(it):null,it!==null&&(bn=p(it),vt=it.tag,it!==bn||vt!==5&&vt!==27&&vt!==6)&&(it=null)):(De=null,it=Ee),De!==it)){if(vt=nn,Pe="onMouseLeave",ye="onMouseEnter",me="mouse",(e==="pointerout"||e==="pointerover")&&(vt=ln,Pe="onPointerLeave",ye="onPointerEnter",me="pointer"),bn=De==null?Te:Oi(De),je=it==null?Te:Oi(it),Te=new vt(Pe,me+"leave",De,c,Le),Te.target=bn,Te.relatedTarget=je,Pe=null,xn(Le)===Ee&&(vt=new vt(ye,me+"enter",it,c,Le),vt.target=je,vt.relatedTarget=bn,Pe=vt),bn=Pe,De&&it)t:{for(vt=lN,ye=De,me=it,je=0,Pe=ye;Pe;Pe=vt(Pe))je++;Pe=0;for(var ht=me;ht;ht=vt(ht))Pe++;for(;0<je-Pe;)ye=vt(ye),je--;for(;0<Pe-je;)me=vt(me),Pe--;for(;je--;){if(ye===me||me!==null&&ye===me.alternate){vt=ye;break t}ye=vt(ye),me=vt(me)}vt=null}else vt=null;De!==null&&np($e,Te,De,vt,!1),it!==null&&bn!==null&&np($e,bn,it,vt,!0)}}e:{if(Te=Ee?Oi(Ee):window,De=Te.nodeName&&Te.nodeName.toLowerCase(),De==="select"||De==="input"&&Te.type==="file")var Qt=na;else if(so(Te))if(Ac)Qt=d;else{Qt=r;var ct=n}else De=Te.nodeName,!De||De.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Ee&&yn(Ee.elementType)&&(Qt=na):Qt=o;if(Qt&&(Qt=Qt(e,Ee))){ta($e,Qt,c,Le);break e}ct&&ct(e,Te,Ee),e==="focusout"&&Ee&&Te.type==="number"&&Ee.memoizedProps.value!=null&&K(Te,"number",Te.value)}switch(ct=Ee?Oi(Ee):window,e){case"focusin":(so(ct)||ct.contentEditable==="true")&&(ce=ct,fe=Ee,ve=null);break;case"focusout":ve=fe=ce=null;break;case"mousedown":Oe=!0;break;case"contextmenu":case"mouseup":case"dragend":Oe=!1,Ke($e,c,Le);break;case"selectionchange":if(Q)break;case"keydown":case"keyup":Ke($e,c,Le)}var kt;if(Nr)e:{switch(e){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else Hi?Ec(e,c)&&(Vt="onCompositionEnd"):e==="keydown"&&c.keyCode===229&&(Vt="onCompositionStart");Vt&&(jc&&c.locale!=="ko"&&(Hi||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Hi&&(kt=Pi()):(Fa=Le,Ra="value"in Fa?Fa.value:Fa.textContent,Hi=!0)),ct=pu(Ee,Vt),0<ct.length&&(Vt=new Nc(Vt,e,null,c,Le),$e.push({event:Vt,listeners:ct}),kt?Vt.data=kt:(kt=Vi(c),kt!==null&&(Vt.data=kt)))),(kt=Sc?Ga(e,c):sl(e,c))&&(Vt=pu(Ee,"onBeforeInput"),0<Vt.length&&(ct=new Nc("onBeforeInput","beforeinput",null,c,Le),$e.push({event:ct,listeners:Vt}),ct.data=kt)),sN($e,e,Ee,c,Le)}ep($e,a)})}function ko(e,a,c){return{instance:e,listener:a,currentTarget:c}}function pu(e,a){for(var c=a+"Capture",m=[];e!==null;){var y=e,C=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||C===null||(y=St(e,c),y!=null&&m.unshift(ko(e,y,C)),y=St(e,a),y!=null&&m.push(ko(e,y,C))),e.tag===3)return m;e=e.return}return[]}function lN(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function np(e,a,c,m,y){for(var C=a._reactName,F=[];c!==null&&c!==m;){var H=c,le=H.alternate,Ee=H.stateNode;if(H=H.tag,le!==null&&le===m)break;H!==5&&H!==26&&H!==27||Ee===null||(le=Ee,y?(Ee=St(c,C),Ee!=null&&F.unshift(ko(c,Ee,le))):y||(Ee=St(c,C),Ee!=null&&F.push(ko(c,Ee,le)))),c=c.return}F.length!==0&&e.push({event:a,listeners:F})}var oN=/\r\n?/g,cN=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(oN,`
`).replace(cN,"")}function ap(e,a){return a=sp(a),sp(e)===a}function gn(e,a,c,m,y,C){switch(c){case"children":typeof m=="string"?a==="body"||a==="textarea"&&m===""||Ii(e,m):(typeof m=="number"||typeof m=="bigint")&&a!=="body"&&Ii(e,""+m);break;case"className":Di(e,"class",m);break;case"tabIndex":Di(e,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Di(e,c,m);break;case"style":dt(e,m,C);break;case"data":if(a!=="object"){Di(e,"data",m);break}case"src":case"href":if(m===""&&(a!=="a"||c!=="href")){e.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){e.removeAttribute(c);break}m=Li(""+m),e.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){e.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(c==="formAction"?(a!=="input"&&gn(e,a,"name",y.name,y,null),gn(e,a,"formEncType",y.formEncType,y,null),gn(e,a,"formMethod",y.formMethod,y,null),gn(e,a,"formTarget",y.formTarget,y,null)):(gn(e,a,"encType",y.encType,y,null),gn(e,a,"method",y.method,y,null),gn(e,a,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){e.removeAttribute(c);break}m=Li(""+m),e.setAttribute(c,m);break;case"onClick":m!=null&&(e.onclick=Ps);break;case"onScroll":m!=null&&Pt("scroll",e);break;case"onScrollEnd":m!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(u(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(u(60));e.innerHTML=c}}break;case"multiple":e.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":e.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){e.removeAttribute("xlink:href");break}c=Li(""+m),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?e.setAttribute(c,""+m):e.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?e.setAttribute(c,""):e.removeAttribute(c);break;case"capture":case"download":m===!0?e.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?e.setAttribute(c,m):e.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?e.setAttribute(c,m):e.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?e.removeAttribute(c):e.setAttribute(c,m);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Bi(e,"popover",m);break;case"xlinkActuate":Js(e,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Js(e,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Js(e,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Js(e,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Js(e,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Js(e,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Js(e,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Js(e,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Js(e,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Bi(e,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=gc.get(c)||c,Bi(e,c,m))}}function Zh(e,a,c,m,y,C){switch(c){case"style":dt(e,m,C);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(u(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(u(60));e.innerHTML=c}}break;case"children":typeof m=="string"?Ii(e,m):(typeof m=="number"||typeof m=="bigint")&&Ii(e,""+m);break;case"onScroll":m!=null&&Pt("scroll",e);break;case"onScrollEnd":m!=null&&Pt("scrollend",e);break;case"onClick":m!=null&&(e.onclick=Ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),C=e[en]||null,C=C!=null?C[c]:null,typeof C=="function"&&e.removeEventListener(a,C,y),typeof m=="function")){typeof C!="function"&&C!==null&&(c in e?e[c]=null:e.hasAttribute(c)&&e.removeAttribute(c)),e.addEventListener(a,m,y);break e}c in e?e[c]=m:m===!0?e.setAttribute(c,""):Bi(e,c,m)}}}function vs(e,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var m=!1,y=!1,C;for(C in c)if(c.hasOwnProperty(C)){var F=c[C];if(F!=null)switch(C){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,a));default:gn(e,a,C,F,c,null)}}y&&gn(e,a,"srcSet",c.srcSet,c,null),m&&gn(e,a,"src",c.src,c,null);return;case"input":Pt("invalid",e);var H=C=F=y=null,le=null,Ee=null;for(m in c)if(c.hasOwnProperty(m)){var Le=c[m];if(Le!=null)switch(m){case"name":y=Le;break;case"type":F=Le;break;case"checked":le=Le;break;case"defaultChecked":Ee=Le;break;case"value":C=Le;break;case"defaultValue":H=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(u(137,a));break;default:gn(e,a,m,Le,c,null)}}Ne(e,C,H,le,Ee,F,y,!1);return;case"select":Pt("invalid",e),m=F=C=null;for(y in c)if(c.hasOwnProperty(y)&&(H=c[y],H!=null))switch(y){case"value":C=H;break;case"defaultValue":F=H;break;case"multiple":m=H;default:gn(e,a,y,H,c,null)}a=C,c=F,e.multiple=!!m,a!=null?lt(e,!!m,a,!1):c!=null&&lt(e,!!m,c,!0);return;case"textarea":Pt("invalid",e),C=y=m=null;for(F in c)if(c.hasOwnProperty(F)&&(H=c[F],H!=null))switch(F){case"value":m=H;break;case"defaultValue":y=H;break;case"children":C=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(u(91));break;default:gn(e,a,F,H,c,null)}Os(e,m,y,C);return;case"option":for(le in c)c.hasOwnProperty(le)&&(m=c[le],m!=null)&&(le==="selected"?e.selected=m&&typeof m!="function"&&typeof m!="symbol":gn(e,a,le,m,c,null));return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(m=0;m<To.length;m++)Pt(To[m],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in c)if(c.hasOwnProperty(Ee)&&(m=c[Ee],m!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,a));default:gn(e,a,Ee,m,c,null)}return;default:if(yn(a)){for(Le in c)c.hasOwnProperty(Le)&&(m=c[Le],m!==void 0&&Zh(e,a,Le,m,c,void 0));return}}for(H in c)c.hasOwnProperty(H)&&(m=c[H],m!=null&&gn(e,a,H,m,c,null))}function uN(e,a,c,m){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,C=null,F=null,H=null,le=null,Ee=null,Le=null;for(De in c){var $e=c[De];if(c.hasOwnProperty(De)&&$e!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":le=$e;default:m.hasOwnProperty(De)||gn(e,a,De,null,m,$e)}}for(var Te in m){var De=m[Te];if($e=c[Te],m.hasOwnProperty(Te)&&(De!=null||$e!=null))switch(Te){case"type":C=De;break;case"name":y=De;break;case"checked":Ee=De;break;case"defaultChecked":Le=De;break;case"value":F=De;break;case"defaultValue":H=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(u(137,a));break;default:De!==$e&&gn(e,a,Te,De,m,$e)}}Jn(e,F,H,le,Ee,Le,C,y);return;case"select":De=F=H=Te=null;for(C in c)if(le=c[C],c.hasOwnProperty(C)&&le!=null)switch(C){case"value":break;case"multiple":De=le;default:m.hasOwnProperty(C)||gn(e,a,C,null,m,le)}for(y in m)if(C=m[y],le=c[y],m.hasOwnProperty(y)&&(C!=null||le!=null))switch(y){case"value":Te=C;break;case"defaultValue":H=C;break;case"multiple":F=C;default:C!==le&&gn(e,a,y,C,m,le)}a=H,c=F,m=De,Te!=null?lt(e,!!c,Te,!1):!!m!=!!c&&(a!=null?lt(e,!!c,a,!0):lt(e,!!c,c?[]:"",!1));return;case"textarea":De=Te=null;for(H in c)if(y=c[H],c.hasOwnProperty(H)&&y!=null&&!m.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:gn(e,a,H,null,m,y)}for(F in m)if(y=m[F],C=c[F],m.hasOwnProperty(F)&&(y!=null||C!=null))switch(F){case"value":Te=y;break;case"defaultValue":De=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(u(91));break;default:y!==C&&gn(e,a,F,y,m,C)}Xn(e,Te,De);return;case"option":for(var it in c)Te=c[it],c.hasOwnProperty(it)&&Te!=null&&!m.hasOwnProperty(it)&&(it==="selected"?e.selected=!1:gn(e,a,it,null,m,Te));for(le in m)Te=m[le],De=c[le],m.hasOwnProperty(le)&&Te!==De&&(Te!=null||De!=null)&&(le==="selected"?e.selected=Te&&typeof Te!="function"&&typeof Te!="symbol":gn(e,a,le,Te,m,De));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in c)Te=c[vt],c.hasOwnProperty(vt)&&Te!=null&&!m.hasOwnProperty(vt)&&gn(e,a,vt,null,m,Te);for(Ee in m)if(Te=m[Ee],De=c[Ee],m.hasOwnProperty(Ee)&&Te!==De&&(Te!=null||De!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(u(137,a));break;default:gn(e,a,Ee,Te,m,De)}return;default:if(yn(a)){for(var bn in c)Te=c[bn],c.hasOwnProperty(bn)&&Te!==void 0&&!m.hasOwnProperty(bn)&&Zh(e,a,bn,void 0,m,Te);for(Le in m)Te=m[Le],De=c[Le],!m.hasOwnProperty(Le)||Te===De||Te===void 0&&De===void 0||Zh(e,a,Le,Te,m,De);return}}for(var ye in c)Te=c[ye],c.hasOwnProperty(ye)&&Te!=null&&!m.hasOwnProperty(ye)&&gn(e,a,ye,null,m,Te);for($e in m)Te=m[$e],De=c[$e],!m.hasOwnProperty($e)||Te===De||Te==null&&De==null||gn(e,a,$e,Te,m,De)}function ip(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dN(){if(typeof performance.getEntriesByType=="function"){for(var e=0,a=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],C=y.transferSize,F=y.initiatorType,H=y.duration;if(C&&H&&ip(F)){for(F=0,H=y.responseEnd,m+=1;m<c.length;m++){var le=c[m],Ee=le.startTime;if(Ee>H)break;var Le=le.transferSize,$e=le.initiatorType;Le&&ip($e)&&(le=le.responseEnd,F+=Le*(le<H?1:(H-Ee)/(le-Ee)))}if(--m,a+=8*(C+F)/(y.duration/1e3),e++,10<e)break}}if(0<e)return a/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qh=null,Jh=null;function gu(e){return e.nodeType===9?e:e.ownerDocument}function rp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lp(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function ef(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var tf=null;function hN(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var op=typeof setTimeout=="function"?setTimeout:void 0,fN=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(e){return cp.resolve(null).then(e).catch(xN)}:op;function xN(e){setTimeout(function(){throw e})}function or(e){return e==="head"}function up(e,a){var c=a,m=0;do{var y=c.nextSibling;if(e.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){e.removeChild(y),Tl(a);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Fo(e.ownerDocument.documentElement);else if(c==="head"){c=e.ownerDocument.head,Fo(c);for(var C=c.firstChild;C;){var F=C.nextSibling,H=C.nodeName;C[ai]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=F}}else c==="body"&&Fo(e.ownerDocument.body);c=y}while(c);Tl(a)}function dp(e,a){var c=e;e=0;do{var m=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(e===0)break;e--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||e++;c=m}while(c)}function nf(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":nf(c),os(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}e.removeChild(c)}}function pN(e,a,c,m){for(;e.nodeType===1;){var y=c;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!m&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(m){if(!e[ai])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(C=e.getAttribute("rel"),C==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(C!==y.rel||e.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||e.getAttribute("title")!==(y.title==null?null:y.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(C=e.getAttribute("src"),(C!==(y.src==null?null:y.src)||e.getAttribute("type")!==(y.type==null?null:y.type)||e.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&C&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var C=y.name==null?null:""+y.name;if(y.type==="hidden"&&e.getAttribute("name")===C)return e}else return e;if(e=ba(e.nextSibling),e===null)break}return null}function gN(e,a,c){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!c||(e=ba(e.nextSibling),e===null))return null;return e}function hp(e,a){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ba(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$?"||e.data==="$~"}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bN(e,a){var c=e.ownerDocument;if(e.data==="$~")e._reactRetry=a;else if(e.data!=="$?"||c.readyState!=="loading")a();else{var m=function(){a(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),e._reactRetry=m}}function ba(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return e}var rf=null;function fp(e){e=e.nextSibling;for(var a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="/$"||c==="/&"){if(a===0)return ba(e.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}e=e.nextSibling}return null}function mp(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return e;a--}else c!=="/$"&&c!=="/&"||a++}e=e.previousSibling}return null}function xp(e,a,c){switch(a=gu(c),e){case"html":if(e=a.documentElement,!e)throw Error(u(452));return e;case"head":if(e=a.head,!e)throw Error(u(453));return e;case"body":if(e=a.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Fo(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);os(e)}var ya=new Map,pp=new Set;function bu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ei=J.d;J.d={f:yN,r:wN,D:vN,C:NN,L:CN,m:SN,X:EN,S:jN,M:AN};function yN(){var e=Ei.f(),a=cu();return e||a}function wN(e){var a=tn(e);a!==null&&a.tag===5&&a.type==="form"?O1(a):Ei.r(e)}var El=typeof document>"u"?null:document;function gp(e,a,c){var m=El;if(m&&typeof a=="string"&&a){var y=Mt(a);y='link[rel="'+e+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),pp.has(y)||(pp.add(y),e={rel:e,crossOrigin:c,href:a},m.querySelector(y)===null&&(a=m.createElement("link"),vs(a,"link",e),$n(a),m.head.appendChild(a)))}}function vN(e){Ei.D(e),gp("dns-prefetch",e,null)}function NN(e,a){Ei.C(e,a),gp("preconnect",e,a)}function CN(e,a,c){Ei.L(e,a,c);var m=El;if(m&&e&&a){var y='link[rel="preload"][as="'+Mt(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Mt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Mt(c.imageSizes)+'"]')):y+='[href="'+Mt(e)+'"]';var C=y;switch(a){case"style":C=Al(e);break;case"script":C=_l(e)}ya.has(C)||(e=j({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:e,as:a},c),ya.set(C,e),m.querySelector(y)!==null||a==="style"&&m.querySelector(Ro(C))||a==="script"&&m.querySelector(Oo(C))||(a=m.createElement("link"),vs(a,"link",e),$n(a),m.head.appendChild(a)))}}function SN(e,a){Ei.m(e,a);var c=El;if(c&&e){var m=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Mt(m)+'"][href="'+Mt(e)+'"]',C=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=_l(e)}if(!ya.has(C)&&(e=j({rel:"modulepreload",href:e},a),ya.set(C,e),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Oo(C)))return}m=c.createElement("link"),vs(m,"link",e),$n(m),c.head.appendChild(m)}}}function jN(e,a,c){Ei.S(e,a,c);var m=El;if(m&&e){var y=Rs(m).hoistableStyles,C=Al(e);a=a||"default";var F=y.get(C);if(!F){var H={loading:0,preload:null};if(F=m.querySelector(Ro(C)))H.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":a},c),(c=ya.get(C))&&lf(e,c);var le=F=m.createElement("link");$n(le),vs(le,"link",e),le._p=new Promise(function(Ee,Le){le.onload=Ee,le.onerror=Le}),le.addEventListener("load",function(){H.loading|=1}),le.addEventListener("error",function(){H.loading|=2}),H.loading|=4,yu(F,a,m)}F={type:"stylesheet",instance:F,count:1,state:H},y.set(C,F)}}}function EN(e,a){Ei.X(e,a);var c=El;if(c&&e){var m=Rs(c).hoistableScripts,y=_l(e),C=m.get(y);C||(C=c.querySelector(Oo(y)),C||(e=j({src:e,async:!0},a),(a=ya.get(y))&&of(e,a),C=c.createElement("script"),$n(C),vs(C,"link",e),c.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(y,C))}}function AN(e,a){Ei.M(e,a);var c=El;if(c&&e){var m=Rs(c).hoistableScripts,y=_l(e),C=m.get(y);C||(C=c.querySelector(Oo(y)),C||(e=j({src:e,async:!0,type:"module"},a),(a=ya.get(y))&&of(e,a),C=c.createElement("script"),$n(C),vs(C,"link",e),c.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(y,C))}}function bp(e,a,c,m){var y=(y=te.current)?bu(y):null;if(!y)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Al(c.href),c=Rs(y).hoistableStyles,m=c.get(a),m||(m={type:"style",instance:null,count:0,state:null},c.set(a,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){e=Al(c.href);var C=Rs(y).hoistableStyles,F=C.get(e);if(F||(y=y.ownerDocument||y,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(e,F),(C=y.querySelector(Ro(e)))&&!C._p&&(F.instance=C,F.state.loading=5),ya.has(e)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ya.set(e,c),C||_N(y,e,c,F.state))),a&&m===null)throw Error(u(528,""));return F}if(a&&m!==null)throw Error(u(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=_l(c),c=Rs(y).hoistableScripts,m=c.get(a),m||(m={type:"script",instance:null,count:0,state:null},c.set(a,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Al(e){return'href="'+Mt(e)+'"'}function Ro(e){return'link[rel="stylesheet"]['+e+"]"}function yp(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function _N(e,a,c,m){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?m.loading=1:(a=e.createElement("link"),m.preload=a,a.addEventListener("load",function(){return m.loading|=1}),a.addEventListener("error",function(){return m.loading|=2}),vs(a,"link",c),$n(a),e.head.appendChild(a))}function _l(e){return'[src="'+Mt(e)+'"]'}function Oo(e){return"script[async]"+e}function wp(e,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var m=e.querySelector('style[data-href~="'+Mt(c.href)+'"]');if(m)return a.instance=m,$n(m),m;var y=j({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(e.ownerDocument||e).createElement("style"),$n(m),vs(m,"style",y),yu(m,c.precedence,e),a.instance=m;case"stylesheet":y=Al(c.href);var C=e.querySelector(Ro(y));if(C)return a.state.loading|=4,a.instance=C,$n(C),C;m=yp(c),(y=ya.get(y))&&lf(m,y),C=(e.ownerDocument||e).createElement("link"),$n(C);var F=C;return F._p=new Promise(function(H,le){F.onload=H,F.onerror=le}),vs(C,"link",m),a.state.loading|=4,yu(C,c.precedence,e),a.instance=C;case"script":return C=_l(c.src),(y=e.querySelector(Oo(C)))?(a.instance=y,$n(y),y):(m=c,(y=ya.get(C))&&(m=j({},c),of(m,y)),e=e.ownerDocument||e,y=e.createElement("script"),$n(y),vs(y,"link",m),e.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(u(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(m=a.instance,a.state.loading|=4,yu(m,c.precedence,e));return a.instance}function yu(e,a,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,C=y,F=0;F<m.length;F++){var H=m[F];if(H.dataset.precedence===a)C=H;else if(C!==y)break}C?C.parentNode.insertBefore(e,C.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(e,a.firstChild))}function lf(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function of(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var wu=null;function vp(e,a,c){if(wu===null){var m=new Map,y=wu=new Map;y.set(c,m)}else y=wu,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(e))return m;for(m.set(e,null),c=c.getElementsByTagName(e),y=0;y<c.length;y++){var C=c[y];if(!(C[ai]||C[an]||e==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var F=C.getAttribute(a)||"";F=e+F;var H=m.get(F);H?H.push(C):m.set(F,[C])}}return m}function Np(e,a,c){e=e.ownerDocument||e,e.head.insertBefore(c,a==="title"?e.querySelector("head > title"):null)}function TN(e,a,c){if(c===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(e=a.disabled,typeof a.precedence=="string"&&e==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Cp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kN(e,a,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Al(m.href),C=a.querySelector(Ro(y));if(C){a=C._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(e.count++,e=vu.bind(e),a.then(e,e)),c.state.loading|=4,c.instance=C,$n(C);return}C=a.ownerDocument||a,m=yp(m),(y=ya.get(y))&&lf(m,y),C=C.createElement("link"),$n(C);var F=C;F._p=new Promise(function(H,le){F.onload=H,F.onerror=le}),vs(C,"link",m),c.instance=C}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(e.count++,c=vu.bind(e),a.addEventListener("load",c),a.addEventListener("error",c))}}var cf=0;function FN(e,a){return e.stylesheets&&e.count===0&&Cu(e,e.stylesheets),0<e.count||0<e.imgCount?function(c){var m=setTimeout(function(){if(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend){var C=e.unsuspend;e.unsuspend=null,C()}},6e4+a);0<e.imgBytes&&cf===0&&(cf=62500*dN());var y=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cu(e,e.stylesheets),e.unsuspend)){var C=e.unsuspend;e.unsuspend=null,C()}},(e.imgBytes>cf?50:800)+a);return e.unsuspend=c,function(){e.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nu=null;function Cu(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nu=new Map,a.forEach(RN,e),Nu=null,vu.call(e))}function RN(e,a){if(!(a.state.loading&4)){var c=Nu.get(e);if(c)var m=c.get(null);else{c=new Map,Nu.set(e,c);for(var y=e.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<y.length;C++){var F=y[C];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(c.set(F.dataset.precedence,F),m=F)}m&&c.set(null,m)}y=a.instance,F=y.getAttribute("data-precedence"),C=c.get(F)||m,C===m&&c.set(null,y),c.set(F,y),this.count++,m=vu.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),C?C.parentNode.insertBefore(y,C.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(y,e.firstChild)),a.state.loading|=4}}var Bo={$$typeof:L,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function ON(e,a,c,m,y,C,F,H,le){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xs(0),this.hiddenUpdates=xs(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=C,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function Sp(e,a,c,m,y,C,F,H,le,Ee,Le,$e){return e=new ON(e,a,c,F,le,Ee,Le,$e,H),a=1,C===!0&&(a|=24),C=sa(3,null,null,a),e.current=C,C.stateNode=e,a=zd(),a.refCount++,e.pooledCache=a,a.refCount++,C.memoizedState={element:m,isDehydrated:c,cache:a},Gd(C),e}function jp(e){return e?(e=il,e):il}function Ep(e,a,c,m,y,C){y=jp(y),m.context===null?m.context=y:m.pendingContext=y,m=Zi(a),m.payload={element:c},C=C===void 0?null:C,C!==null&&(m.callback=C),c=Qi(e,m,a),c!==null&&(qs(c,e,a),ho(c,e,a))}function Ap(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var c=e.retryLane;e.retryLane=c!==0&&c<a?c:a}}function uf(e,a){Ap(e,a),(e=e.alternate)&&Ap(e,a)}function _p(e){if(e.tag===13||e.tag===31){var a=Ar(e,67108864);a!==null&&qs(a,e,67108864),uf(e,67108864)}}function Tp(e){if(e.tag===13||e.tag===31){var a=oa();a=Qn(a);var c=Ar(e,a);c!==null&&qs(c,e,a),uf(e,a)}}var Su=!0;function BN(e,a,c,m){var y=re.T;re.T=null;var C=J.p;try{J.p=2,df(e,a,c,m)}finally{J.p=C,re.T=y}}function DN(e,a,c,m){var y=re.T;re.T=null;var C=J.p;try{J.p=8,df(e,a,c,m)}finally{J.p=C,re.T=y}}function df(e,a,c,m){if(Su){var y=hf(m);if(y===null)Kh(e,a,m,ju,c),Fp(e,m);else if(IN(y,e,a,c,m))m.stopPropagation();else if(Fp(e,m),a&4&&-1<MN.indexOf(e)){for(;y!==null;){var C=tn(y);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var F=ft(C.pendingLanes);if(F!==0){var H=C;for(H.pendingLanes|=2,H.entangledLanes|=2;F;){var le=1<<31-Ct(F);H.entanglements[1]|=le,F&=~le}Wa(C),(sn&6)===0&&(lu=Fe()+500,_o(0))}}break;case 31:case 13:H=Ar(C,2),H!==null&&qs(H,C,2),cu(),uf(C,2)}if(C=hf(m),C===null&&Kh(e,a,m,ju,c),C===y)break;y=C}y!==null&&m.stopPropagation()}else Kh(e,a,m,null,c)}}function hf(e){return e=Kl(e),ff(e)}var ju=null;function ff(e){if(ju=null,e=xn(e),e!==null){var a=p(e);if(a===null)e=null;else{var c=a.tag;if(c===13){if(e=g(a),e!==null)return e;e=null}else if(c===31){if(e=v(a),e!==null)return e;e=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return ju=e,null}function kp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case Ae:return 2;case nt:return 8;case rt:case gt:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var mf=!1,cr=null,ur=null,dr=null,Do=new Map,Mo=new Map,hr=[],MN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(e,a){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Do.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(a.pointerId)}}function Io(e,a,c,m,y,C){return e===null||e.nativeEvent!==C?(e={blockedOn:a,domEventName:c,eventSystemFlags:m,nativeEvent:C,targetContainers:[y]},a!==null&&(a=tn(a),a!==null&&_p(a)),e):(e.eventSystemFlags|=m,a=e.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),e)}function IN(e,a,c,m,y){switch(a){case"focusin":return cr=Io(cr,e,a,c,m,y),!0;case"dragenter":return ur=Io(ur,e,a,c,m,y),!0;case"mouseover":return dr=Io(dr,e,a,c,m,y),!0;case"pointerover":var C=y.pointerId;return Do.set(C,Io(Do.get(C)||null,e,a,c,m,y)),!0;case"gotpointercapture":return C=y.pointerId,Mo.set(C,Io(Mo.get(C)||null,e,a,c,m,y)),!0}return!1}function Rp(e){var a=xn(e.target);if(a!==null){var c=p(a);if(c!==null){if(a=c.tag,a===13){if(a=g(c),a!==null){e.blockedOn=a,Ye(e.priority,function(){Tp(c)});return}}else if(a===31){if(a=v(c),a!==null){e.blockedOn=a,Ye(e.priority,function(){Tp(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){e.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eu(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var c=hf(e.nativeEvent);if(c===null){c=e.nativeEvent;var m=new c.constructor(c.type,c);yr=m,c.target.dispatchEvent(m),yr=null}else return a=tn(c),a!==null&&_p(a),e.blockedOn=c,!1;a.shift()}return!0}function Op(e,a,c){Eu(e)&&c.delete(a)}function LN(){mf=!1,cr!==null&&Eu(cr)&&(cr=null),ur!==null&&Eu(ur)&&(ur=null),dr!==null&&Eu(dr)&&(dr=null),Do.forEach(Op),Mo.forEach(Op)}function Au(e,a){e.blockedOn===a&&(e.blockedOn=null,mf||(mf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,LN)))}var _u=null;function Bp(e){_u!==e&&(_u=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_u===e&&(_u=null);for(var a=0;a<e.length;a+=3){var c=e[a],m=e[a+1],y=e[a+2];if(typeof m!="function"){if(ff(m||c)===null)continue;break}var C=tn(c);C!==null&&(e.splice(a,3),a-=3,dh(C,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function Tl(e){function a(le){return Au(le,e)}cr!==null&&Au(cr,e),ur!==null&&Au(ur,e),dr!==null&&Au(dr,e),Do.forEach(a),Mo.forEach(a);for(var c=0;c<hr.length;c++){var m=hr[c];m.blockedOn===e&&(m.blockedOn=null)}for(;0<hr.length&&(c=hr[0],c.blockedOn===null);)Rp(c),c.blockedOn===null&&hr.shift();if(c=(e.ownerDocument||e).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],C=c[m+1],F=y[en]||null;if(typeof C=="function")F||Bp(c);else if(F){var H=null;if(C&&C.hasAttribute("formAction")){if(y=C,F=C[en]||null)H=F.formAction;else if(ff(y)!==null)continue}else H=F.action;typeof H=="function"?c[m+1]=H:(c.splice(m,3),m-=3),Bp(c)}}}function Dp(){function e(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(F){return y=F})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function xf(e){this._internalRoot=e}Tu.prototype.render=xf.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(u(409));var c=a.current,m=oa();Ep(c,m,e,a,null,null)},Tu.prototype.unmount=xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;Ep(e.current,2,null,e,null,null),cu(),a[_e]=null}};function Tu(e){this._internalRoot=e}Tu.prototype.unstable_scheduleHydration=function(e){if(e){var a=wt();e={blockedOn:null,target:e,priority:a};for(var c=0;c<hr.length&&a!==0&&a<hr[c].priority;c++);hr.splice(c,0,e),c===0&&Rp(e)}};var Mp=i.version;if(Mp!=="19.2.3")throw Error(u(527,Mp,"19.2.3"));J.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=w(a),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var PN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Bt=ku.inject(PN),Xe=ku}catch{}}return Po.createRoot=function(e,a){if(!f(e))throw Error(u(299));var c=!1,m="",y=V1,C=H1,F=G1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(C=a.onCaughtError),a.onRecoverableError!==void 0&&(F=a.onRecoverableError)),a=Sp(e,1,!1,null,null,c,m,null,y,C,F,Dp),e[_e]=a.current,Wh(e),new xf(a)},Po.hydrateRoot=function(e,a,c){if(!f(e))throw Error(u(299));var m=!1,y="",C=V1,F=H1,H=G1,le=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(F=c.onCaughtError),c.onRecoverableError!==void 0&&(H=c.onRecoverableError),c.formState!==void 0&&(le=c.formState)),a=Sp(e,1,!0,a,c??null,m,y,le,C,F,H,Dp),a.context=jp(null),c=a.current,m=oa(),m=Qn(m),y=Zi(m),y.callback=null,Qi(c,y,m),c=m,a.current.lanes=c,ps(a,c),Wa(a),e[_e]=a.current,Wh(e),new Tu(a)},Po.version="19.2.3",Po}var qp;function KN(){if(qp)return bf.exports;qp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),bf.exports=WN(),bf.exports}var ZN=KN();const QN=cd(ZN);var Xp="popstate";function JN(s={}){function i(u,f){let{pathname:p,search:g,hash:v}=u.location;return p0("",{pathname:p,search:g,hash:v},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function l(u,f){return typeof f=="string"?f:tc(f)}return t3(i,l,null,s)}function Pn(s,i){if(s===!1||s===null||typeof s>"u")throw new Error(i)}function La(s,i){if(!s){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function e3(){return Math.random().toString(36).substring(2,10)}function Yp(s,i){return{usr:s.state,key:s.key,idx:i}}function p0(s,i,l=null,u){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof i=="string"?Hl(i):i,state:l,key:i&&i.key||u||e3()}}function tc({pathname:s="/",search:i="",hash:l=""}){return i&&i!=="?"&&(s+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(s+=l.charAt(0)==="#"?l:"#"+l),s}function Hl(s){let i={};if(s){let l=s.indexOf("#");l>=0&&(i.hash=s.substring(l),s=s.substring(0,l));let u=s.indexOf("?");u>=0&&(i.search=s.substring(u),s=s.substring(0,u)),s&&(i.pathname=s)}return i}function t3(s,i,l,u={}){let{window:f=document.defaultView,v5Compat:p=!1}=u,g=f.history,v="POP",S=null,w=A();w==null&&(w=0,g.replaceState({...g.state,idx:w},""));function A(){return(g.state||{idx:null}).idx}function j(){v="POP";let $=A(),P=$==null?null:$-w;w=$,S&&S({action:v,location:D.location,delta:P})}function T($,P){v="PUSH";let O=p0(D.location,$,P);w=A()+1;let L=Yp(O,w),W=D.createHref(O);try{g.pushState(L,"",W)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;f.location.assign(W)}p&&S&&S({action:v,location:D.location,delta:1})}function R($,P){v="REPLACE";let O=p0(D.location,$,P);w=A();let L=Yp(O,w),W=D.createHref(O);g.replaceState(L,"",W),p&&S&&S({action:v,location:D.location,delta:0})}function B($){return n3($)}let D={get action(){return v},get location(){return s(f,g)},listen($){if(S)throw new Error("A history only accepts one active listener");return f.addEventListener(Xp,j),S=$,()=>{f.removeEventListener(Xp,j),S=null}},createHref($){return i(f,$)},createURL:B,encodeLocation($){let P=B($);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:T,replace:R,go($){return g.go($)}};return D}function n3(s,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Pn(l,"No window.location.(origin|href) available to create URL");let u=typeof s=="string"?s:tc(s);return u=u.replace(/ $/,"%20"),!i&&u.startsWith("//")&&(u=l+u),new URL(u,l)}function P2(s,i,l="/"){return s3(s,i,l,!1)}function s3(s,i,l,u){let f=typeof i=="string"?Hl(i):i,p=ki(f.pathname||"/",l);if(p==null)return null;let g=$2(s);a3(g);let v=null;for(let S=0;v==null&&S<g.length;++S){let w=x3(p);v=f3(g[S],w,u)}return v}function $2(s,i=[],l=[],u="",f=!1){let p=(g,v,S=f,w)=>{let A={relativePath:w===void 0?g.path||"":w,caseSensitive:g.caseSensitive===!0,childrenIndex:v,route:g};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(u)&&S)return;Pn(A.relativePath.startsWith(u),`Absolute route path "${A.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(u.length)}let j=_i([u,A.relativePath]),T=l.concat(A);g.children&&g.children.length>0&&(Pn(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),$2(g.children,i,T,j,S)),!(g.path==null&&!g.index)&&i.push({path:j,score:d3(j,g.index),routesMeta:T})};return s.forEach((g,v)=>{if(g.path===""||!g.path?.includes("?"))p(g,v);else for(let S of z2(g.path))p(g,v,!0,S)}),i}function z2(s){let i=s.split("/");if(i.length===0)return[];let[l,...u]=i,f=l.endsWith("?"),p=l.replace(/\?$/,"");if(u.length===0)return f?[p,""]:[p];let g=z2(u.join("/")),v=[];return v.push(...g.map(S=>S===""?p:[p,S].join("/"))),f&&v.push(...g),v.map(S=>s.startsWith("/")&&S===""?"/":S)}function a3(s){s.sort((i,l)=>i.score!==l.score?l.score-i.score:h3(i.routesMeta.map(u=>u.childrenIndex),l.routesMeta.map(u=>u.childrenIndex)))}var i3=/^:[\w-]+$/,r3=3,l3=2,o3=1,c3=10,u3=-2,Wp=s=>s==="*";function d3(s,i){let l=s.split("/"),u=l.length;return l.some(Wp)&&(u+=u3),i&&(u+=l3),l.filter(f=>!Wp(f)).reduce((f,p)=>f+(i3.test(p)?r3:p===""?o3:c3),u)}function h3(s,i){return s.length===i.length&&s.slice(0,-1).every((u,f)=>u===i[f])?s[s.length-1]-i[i.length-1]:0}function f3(s,i,l=!1){let{routesMeta:u}=s,f={},p="/",g=[];for(let v=0;v<u.length;++v){let S=u[v],w=v===u.length-1,A=p==="/"?i:i.slice(p.length)||"/",j=Xu({path:S.relativePath,caseSensitive:S.caseSensitive,end:w},A),T=S.route;if(!j&&w&&l&&!u[u.length-1].route.index&&(j=Xu({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},A)),!j)return null;Object.assign(f,j.params),g.push({params:f,pathname:_i([p,j.pathname]),pathnameBase:y3(_i([p,j.pathnameBase])),route:T}),j.pathnameBase!=="/"&&(p=_i([p,j.pathnameBase]))}return g}function Xu(s,i){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[l,u]=m3(s.path,s.caseSensitive,s.end),f=i.match(l);if(!f)return null;let p=f[0],g=p.replace(/(.)\/+$/,"$1"),v=f.slice(1);return{params:u.reduce((w,{paramName:A,isOptional:j},T)=>{if(A==="*"){let B=v[T]||"";g=p.slice(0,p.length-B.length).replace(/(.)\/+$/,"$1")}const R=v[T];return j&&!R?w[A]=void 0:w[A]=(R||"").replace(/%2F/g,"/"),w},{}),pathname:p,pathnameBase:g,pattern:s}}function m3(s,i=!1,l=!0){La(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let u=[],f="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,v,S)=>(u.push({paramName:v,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(u.push({paramName:"*"}),f+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?f+="\\/*$":s!==""&&s!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,i?void 0:"i"),u]}function x3(s){try{return s.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return La(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),s}}function ki(s,i){if(i==="/")return s;if(!s.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,u=s.charAt(l);return u&&u!=="/"?null:s.slice(l)||"/"}var U2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p3=s=>U2.test(s);function g3(s,i="/"){let{pathname:l,search:u="",hash:f=""}=typeof s=="string"?Hl(s):s,p;if(l)if(p3(l))p=l;else{if(l.includes("//")){let g=l;l=l.replace(/\/\/+/g,"/"),La(!1,`Pathnames cannot have embedded double slashes - normalizing ${g} -> ${l}`)}l.startsWith("/")?p=Kp(l.substring(1),"/"):p=Kp(l,i)}else p=i;return{pathname:p,search:w3(u),hash:v3(f)}}function Kp(s,i){let l=i.replace(/\/+$/,"").split("/");return s.split("/").forEach(f=>{f===".."?l.length>1&&l.pop():f!=="."&&l.push(f)}),l.length>1?l.join("/"):"/"}function Nf(s,i,l,u){return`Cannot include a '${s}' character in a manually specified \`to.${i}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b3(s){return s.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function V2(s){let i=b3(s);return i.map((l,u)=>u===i.length-1?l.pathname:l.pathnameBase)}function H2(s,i,l,u=!1){let f;typeof s=="string"?f=Hl(s):(f={...s},Pn(!f.pathname||!f.pathname.includes("?"),Nf("?","pathname","search",f)),Pn(!f.pathname||!f.pathname.includes("#"),Nf("#","pathname","hash",f)),Pn(!f.search||!f.search.includes("#"),Nf("#","search","hash",f)));let p=s===""||f.pathname==="",g=p?"/":f.pathname,v;if(g==null)v=l;else{let j=i.length-1;if(!u&&g.startsWith("..")){let T=g.split("/");for(;T[0]==="..";)T.shift(),j-=1;f.pathname=T.join("/")}v=j>=0?i[j]:"/"}let S=g3(f,v),w=g&&g!=="/"&&g.endsWith("/"),A=(p||g===".")&&l.endsWith("/");return!S.pathname.endsWith("/")&&(w||A)&&(S.pathname+="/"),S}var _i=s=>s.join("/").replace(/\/\/+/g,"/"),y3=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),w3=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,v3=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,N3=class{constructor(s,i,l,u=!1){this.status=s,this.statusText=i||"",this.internal=u,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function C3(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function S3(s){return s.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var G2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function q2(s,i){let l=s;if(typeof l!="string"||!U2.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let u=l,f=!1;if(G2)try{let p=new URL(window.location.href),g=l.startsWith("//")?new URL(p.protocol+l):new URL(l),v=ki(g.pathname,i);g.origin===p.origin&&v!=null?l=v+g.search+g.hash:f=!0}catch{La(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:u,isExternal:f,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X2=["POST","PUT","PATCH","DELETE"];new Set(X2);var j3=["GET",...X2];new Set(j3);var Gl=_.createContext(null);Gl.displayName="DataRouter";var dd=_.createContext(null);dd.displayName="DataRouterState";var E3=_.createContext(!1),Y2=_.createContext({isTransitioning:!1});Y2.displayName="ViewTransition";var A3=_.createContext(new Map);A3.displayName="Fetchers";var _3=_.createContext(null);_3.displayName="Await";var Sa=_.createContext(null);Sa.displayName="Navigation";var cc=_.createContext(null);cc.displayName="Location";var Pa=_.createContext({outlet:null,matches:[],isDataRoute:!1});Pa.displayName="Route";var X0=_.createContext(null);X0.displayName="RouteError";var W2="REACT_ROUTER_ERROR",T3="REDIRECT",k3="ROUTE_ERROR_RESPONSE";function F3(s){if(s.startsWith(`${W2}:${T3}:{`))try{let i=JSON.parse(s.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function R3(s){if(s.startsWith(`${W2}:${k3}:{`))try{let i=JSON.parse(s.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new N3(i.status,i.statusText,i.data)}catch{}}function O3(s,{relative:i}={}){Pn(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:u}=_.useContext(Sa),{hash:f,pathname:p,search:g}=dc(s,{relative:i}),v=p;return l!=="/"&&(v=p==="/"?l:_i([l,p])),u.createHref({pathname:v,search:g,hash:f})}function uc(){return _.useContext(cc)!=null}function Ss(){return Pn(uc(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(cc).location}var K2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z2(s){_.useContext(Sa).static||_.useLayoutEffect(s)}function Sn(){let{isDataRoute:s}=_.useContext(Pa);return s?Y3():B3()}function B3(){Pn(uc(),"useNavigate() may be used only in the context of a <Router> component.");let s=_.useContext(Gl),{basename:i,navigator:l}=_.useContext(Sa),{matches:u}=_.useContext(Pa),{pathname:f}=Ss(),p=JSON.stringify(V2(u)),g=_.useRef(!1);return Z2(()=>{g.current=!0}),_.useCallback((S,w={})=>{if(La(g.current,K2),!g.current)return;if(typeof S=="number"){l.go(S);return}let A=H2(S,JSON.parse(p),f,w.relative==="path");s==null&&i!=="/"&&(A.pathname=A.pathname==="/"?i:_i([i,A.pathname])),(w.replace?l.replace:l.push)(A,w.state,w)},[i,l,p,f,s])}var D3=_.createContext(null);function M3(s){let i=_.useContext(Pa).outlet;return _.useMemo(()=>i&&_.createElement(D3.Provider,{value:s},i),[i,s])}function ti(){let{matches:s}=_.useContext(Pa),i=s[s.length-1];return i?i.params:{}}function dc(s,{relative:i}={}){let{matches:l}=_.useContext(Pa),{pathname:u}=Ss(),f=JSON.stringify(V2(l));return _.useMemo(()=>H2(s,JSON.parse(f),u,i==="path"),[s,f,u,i])}function I3(s,i){return Q2(s,i)}function Q2(s,i,l,u,f){Pn(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=_.useContext(Sa),{matches:g}=_.useContext(Pa),v=g[g.length-1],S=v?v.params:{},w=v?v.pathname:"/",A=v?v.pathnameBase:"/",j=v&&v.route;{let O=j&&j.path||"";ey(w,!j||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let T=Ss(),R;if(i){let O=typeof i=="string"?Hl(i):i;Pn(A==="/"||O.pathname?.startsWith(A),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${O.pathname}" was given in the \`location\` prop.`),R=O}else R=T;let B=R.pathname||"/",D=B;if(A!=="/"){let O=A.replace(/^\//,"").split("/");D="/"+B.replace(/^\//,"").split("/").slice(O.length).join("/")}let $=P2(s,{pathname:D});La(j||$!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),La($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=U3($&&$.map(O=>Object.assign({},O,{params:Object.assign({},S,O.params),pathname:_i([A,p.encodeLocation?p.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?A:_i([A,p.encodeLocation?p.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),g,l,u,f);return i&&P?_.createElement(cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},P):P}function L3(){let s=X3(),i=C3(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),l=s instanceof Error?s.stack:null,u="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u},g=null;return console.error("Error handled by React Router default ErrorBoundary:",s),g=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:p},"ErrorBoundary")," or"," ",_.createElement("code",{style:p},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},i),l?_.createElement("pre",{style:f},l):null,g)}var P3=_.createElement(L3,null),J2=class extends _.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,i){return i.location!==s.location||i.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:i.error,location:i.location,revalidation:s.revalidation||i.revalidation}}componentDidCatch(s,i){this.props.onError?this.props.onError(s,i):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const l=R3(s.digest);l&&(s=l)}let i=s!==void 0?_.createElement(Pa.Provider,{value:this.props.routeContext},_.createElement(X0.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?_.createElement($3,{error:s},i):i}};J2.contextType=E3;var Cf=new WeakMap;function $3({children:s,error:i}){let{basename:l}=_.useContext(Sa);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let u=F3(i.digest);if(u){let f=Cf.get(i);if(f)throw f;let p=q2(u.location,l);if(G2&&!Cf.get(i))if(p.isExternal||u.reloadDocument)window.location.href=p.absoluteURL||p.to;else{const g=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(p.to,{replace:u.replace}));throw Cf.set(i,g),g}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${p.absoluteURL||p.to}`})}}return s}function z3({routeContext:s,match:i,children:l}){let u=_.useContext(Gl);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),_.createElement(Pa.Provider,{value:s},l)}function U3(s,i=[],l=null,u=null,f=null){if(s==null){if(!l)return null;if(l.errors)s=l.matches;else if(i.length===0&&!l.initialized&&l.matches.length>0)s=l.matches;else return null}let p=s,g=l?.errors;if(g!=null){let A=p.findIndex(j=>j.route.id&&g?.[j.route.id]!==void 0);Pn(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),p=p.slice(0,Math.min(p.length,A+1))}let v=!1,S=-1;if(l)for(let A=0;A<p.length;A++){let j=p[A];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(S=A),j.route.id){let{loaderData:T,errors:R}=l,B=j.route.loader&&!T.hasOwnProperty(j.route.id)&&(!R||R[j.route.id]===void 0);if(j.route.lazy||B){v=!0,S>=0?p=p.slice(0,S+1):p=[p[0]];break}}}let w=l&&u?(A,j)=>{u(A,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:S3(l.matches),errorInfo:j})}:void 0;return p.reduceRight((A,j,T)=>{let R,B=!1,D=null,$=null;l&&(R=g&&j.route.id?g[j.route.id]:void 0,D=j.route.errorElement||P3,v&&(S<0&&T===0?(ey("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,$=null):S===T&&(B=!0,$=j.route.hydrateFallbackElement||null)));let P=i.concat(p.slice(0,T+1)),O=()=>{let L;return R?L=D:B?L=$:j.route.Component?L=_.createElement(j.route.Component,null):j.route.element?L=j.route.element:L=A,_.createElement(z3,{match:j,routeContext:{outlet:A,matches:P,isDataRoute:l!=null},children:L})};return l&&(j.route.ErrorBoundary||j.route.errorElement||T===0)?_.createElement(J2,{location:l.location,revalidation:l.revalidation,component:D,error:R,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:w}):O()},null)}function Y0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V3(s){let i=_.useContext(Gl);return Pn(i,Y0(s)),i}function H3(s){let i=_.useContext(dd);return Pn(i,Y0(s)),i}function G3(s){let i=_.useContext(Pa);return Pn(i,Y0(s)),i}function W0(s){let i=G3(s),l=i.matches[i.matches.length-1];return Pn(l.route.id,`${s} can only be used on routes that contain a unique "id"`),l.route.id}function q3(){return W0("useRouteId")}function X3(){let s=_.useContext(X0),i=H3("useRouteError"),l=W0("useRouteError");return s!==void 0?s:i.errors?.[l]}function Y3(){let{router:s}=V3("useNavigate"),i=W0("useNavigate"),l=_.useRef(!1);return Z2(()=>{l.current=!0}),_.useCallback(async(f,p={})=>{La(l.current,K2),l.current&&(typeof f=="number"?await s.navigate(f):await s.navigate(f,{fromRouteId:i,...p}))},[s,i])}var Zp={};function ey(s,i,l){!i&&!Zp[s]&&(Zp[s]=!0,La(!1,l))}_.memo(W3);function W3({routes:s,future:i,state:l,onError:u}){return Q2(s,void 0,l,u,i)}function ty(s){return M3(s.context)}function pt(s){Pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K3({basename:s="/",children:i=null,location:l,navigationType:u="POP",navigator:f,static:p=!1,unstable_useTransitions:g}){Pn(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=s.replace(/^\/*/,"/"),S=_.useMemo(()=>({basename:v,navigator:f,static:p,unstable_useTransitions:g,future:{}}),[v,f,p,g]);typeof l=="string"&&(l=Hl(l));let{pathname:w="/",search:A="",hash:j="",state:T=null,key:R="default"}=l,B=_.useMemo(()=>{let D=ki(w,v);return D==null?null:{location:{pathname:D,search:A,hash:j,state:T,key:R},navigationType:u}},[v,w,A,j,T,R,u]);return La(B!=null,`<Router basename="${v}"> is not able to match the URL "${w}${A}${j}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:_.createElement(Sa.Provider,{value:S},_.createElement(cc.Provider,{children:i,value:B}))}function Z3({children:s,location:i}){return I3(g0(s),i)}function g0(s,i=[]){let l=[];return _.Children.forEach(s,(u,f)=>{if(!_.isValidElement(u))return;let p=[...i,f];if(u.type===_.Fragment){l.push.apply(l,g0(u.props.children,p));return}Pn(u.type===pt,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pn(!u.props.index||!u.props.children,"An index route cannot have child routes.");let g={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(g.children=g0(u.props.children,p)),l.push(g)}),l}var Lu="get",Pu="application/x-www-form-urlencoded";function hd(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Q3(s){return hd(s)&&s.tagName.toLowerCase()==="button"}function J3(s){return hd(s)&&s.tagName.toLowerCase()==="form"}function e4(s){return hd(s)&&s.tagName.toLowerCase()==="input"}function t4(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function n4(s,i){return s.button===0&&(!i||i==="_self")&&!t4(s)}var Ru=null;function s4(){if(Ru===null)try{new FormData(document.createElement("form"),0),Ru=!1}catch{Ru=!0}return Ru}var a4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(s){return s!=null&&!a4.has(s)?(La(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):s}function i4(s,i){let l,u,f,p,g;if(J3(s)){let v=s.getAttribute("action");u=v?ki(v,i):null,l=s.getAttribute("method")||Lu,f=Sf(s.getAttribute("enctype"))||Pu,p=new FormData(s)}else if(Q3(s)||e4(s)&&(s.type==="submit"||s.type==="image")){let v=s.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=s.getAttribute("formaction")||v.getAttribute("action");if(u=S?ki(S,i):null,l=s.getAttribute("formmethod")||v.getAttribute("method")||Lu,f=Sf(s.getAttribute("formenctype"))||Sf(v.getAttribute("enctype"))||Pu,p=new FormData(v,s),!s4()){let{name:w,type:A,value:j}=s;if(A==="image"){let T=w?`${w}.`:"";p.append(`${T}x`,"0"),p.append(`${T}y`,"0")}else w&&p.append(w,j)}}else{if(hd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Lu,u=null,f=Pu,g=s}return p&&f==="text/plain"&&(g=p,p=void 0),{action:u,method:l.toLowerCase(),encType:f,formData:p,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K0(s,i){if(s===!1||s===null||typeof s>"u")throw new Error(i)}function r4(s,i,l,u){let f=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return l?f.pathname.endsWith("/")?f.pathname=`${f.pathname}_.${u}`:f.pathname=`${f.pathname}.${u}`:f.pathname==="/"?f.pathname=`_root.${u}`:i&&ki(f.pathname,i)==="/"?f.pathname=`${i.replace(/\/$/,"")}/_root.${u}`:f.pathname=`${f.pathname.replace(/\/$/,"")}.${u}`,f}async function l4(s,i){if(s.id in i)return i[s.id];try{let l=await import(s.module);return i[s.id]=l,l}catch(l){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o4(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function c4(s,i,l){let u=await Promise.all(s.map(async f=>{let p=i.routes[f.route.id];if(p){let g=await l4(p,l);return g.links?g.links():[]}return[]}));return f4(u.flat(1).filter(o4).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Qp(s,i,l,u,f,p){let g=(S,w)=>l[w]?S.route.id!==l[w].route.id:!0,v=(S,w)=>l[w].pathname!==S.pathname||l[w].route.path?.endsWith("*")&&l[w].params["*"]!==S.params["*"];return p==="assets"?i.filter((S,w)=>g(S,w)||v(S,w)):p==="data"?i.filter((S,w)=>{let A=u.routes[S.route.id];if(!A||!A.hasLoader)return!1;if(g(S,w)||v(S,w))return!0;if(S.route.shouldRevalidate){let j=S.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function u4(s,i,{includeHydrateFallback:l}={}){return d4(s.map(u=>{let f=i.routes[u.route.id];if(!f)return[];let p=[f.module];return f.clientActionModule&&(p=p.concat(f.clientActionModule)),f.clientLoaderModule&&(p=p.concat(f.clientLoaderModule)),l&&f.hydrateFallbackModule&&(p=p.concat(f.hydrateFallbackModule)),f.imports&&(p=p.concat(f.imports)),p}).flat(1))}function d4(s){return[...new Set(s)]}function h4(s){let i={},l=Object.keys(s).sort();for(let u of l)i[u]=s[u];return i}function f4(s,i){let l=new Set;return new Set(i),s.reduce((u,f)=>{let p=JSON.stringify(h4(f));return l.has(p)||(l.add(p),u.push({key:p,link:f})),u},[])}function ny(){let s=_.useContext(Gl);return K0(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function m4(){let s=_.useContext(dd);return K0(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Z0=_.createContext(void 0);Z0.displayName="FrameworkContext";function sy(){let s=_.useContext(Z0);return K0(s,"You must render this element inside a <HydratedRouter> element"),s}function x4(s,i){let l=_.useContext(Z0),[u,f]=_.useState(!1),[p,g]=_.useState(!1),{onFocus:v,onBlur:S,onMouseEnter:w,onMouseLeave:A,onTouchStart:j}=i,T=_.useRef(null);_.useEffect(()=>{if(s==="render"&&g(!0),s==="viewport"){let D=P=>{P.forEach(O=>{g(O.isIntersecting)})},$=new IntersectionObserver(D,{threshold:.5});return T.current&&$.observe(T.current),()=>{$.disconnect()}}},[s]),_.useEffect(()=>{if(u){let D=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(D)}}},[u]);let R=()=>{f(!0)},B=()=>{f(!1),g(!1)};return l?s!=="intent"?[p,T,{}]:[p,T,{onFocus:$o(v,R),onBlur:$o(S,B),onMouseEnter:$o(w,R),onMouseLeave:$o(A,B),onTouchStart:$o(j,R)}]:[!1,T,{}]}function $o(s,i){return l=>{s&&s(l),l.defaultPrevented||i(l)}}function p4({page:s,...i}){let{router:l}=ny(),u=_.useMemo(()=>P2(l.routes,s,l.basename),[l.routes,s,l.basename]);return u?_.createElement(b4,{page:s,matches:u,...i}):null}function g4(s){let{manifest:i,routeModules:l}=sy(),[u,f]=_.useState([]);return _.useEffect(()=>{let p=!1;return c4(s,i,l).then(g=>{p||f(g)}),()=>{p=!0}},[s,i,l]),u}function b4({page:s,matches:i,...l}){let u=Ss(),{future:f,manifest:p,routeModules:g}=sy(),{basename:v}=ny(),{loaderData:S,matches:w}=m4(),A=_.useMemo(()=>Qp(s,i,w,p,u,"data"),[s,i,w,p,u]),j=_.useMemo(()=>Qp(s,i,w,p,u,"assets"),[s,i,w,p,u]),T=_.useMemo(()=>{if(s===u.pathname+u.search+u.hash)return[];let D=new Set,$=!1;if(i.forEach(O=>{let L=p.routes[O.route.id];!L||!L.hasLoader||(!A.some(W=>W.route.id===O.route.id)&&O.route.id in S&&g[O.route.id]?.shouldRevalidate||L.hasClientLoader?$=!0:D.add(O.route.id))}),D.size===0)return[];let P=r4(s,v,f.unstable_trailingSlashAwareDataRequests,"data");return $&&D.size>0&&P.searchParams.set("_routes",i.filter(O=>D.has(O.route.id)).map(O=>O.route.id).join(",")),[P.pathname+P.search]},[v,f.unstable_trailingSlashAwareDataRequests,S,u,p,A,i,s,g]),R=_.useMemo(()=>u4(j,p),[j,p]),B=g4(j);return _.createElement(_.Fragment,null,T.map(D=>_.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...l})),R.map(D=>_.createElement("link",{key:D,rel:"modulepreload",href:D,...l})),B.map(({key:D,link:$})=>_.createElement("link",{key:D,nonce:l.nonce,...$})))}function y4(...s){return i=>{s.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var w4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w4&&(window.__reactRouterVersion="7.12.0")}catch{}function v4({basename:s,children:i,unstable_useTransitions:l,window:u}){let f=_.useRef();f.current==null&&(f.current=JN({window:u,v5Compat:!0}));let p=f.current,[g,v]=_.useState({action:p.action,location:p.location}),S=_.useCallback(w=>{l===!1?v(w):_.startTransition(()=>v(w))},[l]);return _.useLayoutEffect(()=>p.listen(S),[p,S]),_.createElement(K3,{basename:s,children:i,location:g.location,navigationType:g.action,navigator:p,unstable_useTransitions:l})}var ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=_.forwardRef(function({onClick:i,discover:l="render",prefetch:u="none",relative:f,reloadDocument:p,replace:g,state:v,target:S,to:w,preventScrollReset:A,viewTransition:j,unstable_defaultShouldRevalidate:T,...R},B){let{basename:D,unstable_useTransitions:$}=_.useContext(Sa),P=typeof w=="string"&&ay.test(w),O=q2(w,D);w=O.to;let L=O3(w,{relative:f}),[W,de,ae]=x4(u,R),X=S4(w,{replace:g,state:v,target:S,preventScrollReset:A,relative:f,viewTransition:j,unstable_defaultShouldRevalidate:T,unstable_useTransitions:$});function ue(Y){i&&i(Y),Y.defaultPrevented||X(Y)}let q=_.createElement("a",{...R,...ae,href:O.absoluteURL||L,onClick:O.isExternal||p?i:ue,ref:y4(B,de),target:S,"data-discover":!P&&l==="render"?"true":void 0});return W&&!P?_.createElement(_.Fragment,null,q,_.createElement(p4,{page:L})):q});Bn.displayName="Link";var b0=_.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:u="",end:f=!1,style:p,to:g,viewTransition:v,children:S,...w},A){let j=dc(g,{relative:w.relative}),T=Ss(),R=_.useContext(dd),{navigator:B,basename:D}=_.useContext(Sa),$=R!=null&&T4(j)&&v===!0,P=B.encodeLocation?B.encodeLocation(j).pathname:j.pathname,O=T.pathname,L=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;l||(O=O.toLowerCase(),L=L?L.toLowerCase():null,P=P.toLowerCase()),L&&D&&(L=ki(L,D)||L);const W=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let de=O===P||!f&&O.startsWith(P)&&O.charAt(W)==="/",ae=L!=null&&(L===P||!f&&L.startsWith(P)&&L.charAt(P.length)==="/"),X={isActive:de,isPending:ae,isTransitioning:$},ue=de?i:void 0,q;typeof u=="function"?q=u(X):q=[u,de?"active":null,ae?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let Y=typeof p=="function"?p(X):p;return _.createElement(Bn,{...w,"aria-current":ue,className:q,ref:A,style:Y,to:g,viewTransition:v},typeof S=="function"?S(X):S)});b0.displayName="NavLink";var N4=_.forwardRef(({discover:s="render",fetcherKey:i,navigate:l,reloadDocument:u,replace:f,state:p,method:g=Lu,action:v,onSubmit:S,relative:w,preventScrollReset:A,viewTransition:j,unstable_defaultShouldRevalidate:T,...R},B)=>{let{unstable_useTransitions:D}=_.useContext(Sa),$=A4(),P=_4(v,{relative:w}),O=g.toLowerCase()==="get"?"get":"post",L=typeof v=="string"&&ay.test(v),W=de=>{if(S&&S(de),de.defaultPrevented)return;de.preventDefault();let ae=de.nativeEvent.submitter,X=ae?.getAttribute("formmethod")||g,ue=()=>$(ae||de.currentTarget,{fetcherKey:i,method:X,navigate:l,replace:f,state:p,relative:w,preventScrollReset:A,viewTransition:j,unstable_defaultShouldRevalidate:T});D&&l!==!1?_.startTransition(()=>ue()):ue()};return _.createElement("form",{ref:B,method:O,action:P,onSubmit:u?S:W,...R,"data-discover":!L&&s==="render"?"true":void 0})});N4.displayName="Form";function C4(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(s){let i=_.useContext(Gl);return Pn(i,C4(s)),i}function S4(s,{target:i,replace:l,state:u,preventScrollReset:f,relative:p,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S}={}){let w=Sn(),A=Ss(),j=dc(s,{relative:p});return _.useCallback(T=>{if(n4(T,i)){T.preventDefault();let R=l!==void 0?l:tc(A)===tc(j),B=()=>w(s,{replace:R,state:u,preventScrollReset:f,relative:p,viewTransition:g,unstable_defaultShouldRevalidate:v});S?_.startTransition(()=>B()):B()}},[A,w,j,l,u,i,s,f,p,g,v,S])}var j4=0,E4=()=>`__${String(++j4)}__`;function A4(){let{router:s}=iy("useSubmit"),{basename:i}=_.useContext(Sa),l=q3(),u=s.fetch,f=s.navigate;return _.useCallback(async(p,g={})=>{let{action:v,method:S,encType:w,formData:A,body:j}=i4(p,i);if(g.navigate===!1){let T=g.fetcherKey||E4();await u(T,l,g.action||v,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:A,body:j,formMethod:g.method||S,formEncType:g.encType||w,flushSync:g.flushSync})}else await f(g.action||v,{unstable_defaultShouldRevalidate:g.unstable_defaultShouldRevalidate,preventScrollReset:g.preventScrollReset,formData:A,body:j,formMethod:g.method||S,formEncType:g.encType||w,replace:g.replace,state:g.state,fromRouteId:l,flushSync:g.flushSync,viewTransition:g.viewTransition})},[u,f,i,l])}function _4(s,{relative:i}={}){let{basename:l}=_.useContext(Sa),u=_.useContext(Pa);Pn(u,"useFormAction must be used inside a RouteContext");let[f]=u.matches.slice(-1),p={...dc(s||".",{relative:i})},g=Ss();if(s==null){p.search=g.search;let v=new URLSearchParams(p.search),S=v.getAll("index");if(S.some(A=>A==="")){v.delete("index"),S.filter(j=>j).forEach(j=>v.append("index",j));let A=v.toString();p.search=A?`?${A}`:""}}return(!s||s===".")&&f.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(p.pathname=p.pathname==="/"?l:_i([l,p.pathname])),tc(p)}function T4(s,{relative:i}={}){let l=_.useContext(Y2);Pn(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=iy("useViewTransitionState"),f=dc(s,{relative:i});if(!l.isTransitioning)return!1;let p=ki(l.currentLocation.pathname,u)||l.currentLocation.pathname,g=ki(l.nextLocation.pathname,u)||l.nextLocation.pathname;return Xu(f.pathname,g)!=null||Xu(f.pathname,p)!=null}const jt=s=>typeof s=="string",zo=()=>{let s,i;const l=new Promise((u,f)=>{s=u,i=f});return l.resolve=s,l.reject=i,l},Jp=s=>s==null?"":""+s,k4=(s,i,l)=>{s.forEach(u=>{i[u]&&(l[u]=i[u])})},F4=/###/g,eg=s=>s&&s.indexOf("###")>-1?s.replace(F4,"."):s,tg=s=>!s||jt(s),Wo=(s,i,l)=>{const u=jt(i)?i.split("."):i;let f=0;for(;f<u.length-1;){if(tg(s))return{};const p=eg(u[f]);!s[p]&&l&&(s[p]=new l),Object.prototype.hasOwnProperty.call(s,p)?s=s[p]:s={},++f}return tg(s)?{}:{obj:s,k:eg(u[f])}},ng=(s,i,l)=>{const{obj:u,k:f}=Wo(s,i,Object);if(u!==void 0||i.length===1){u[f]=l;return}let p=i[i.length-1],g=i.slice(0,i.length-1),v=Wo(s,g,Object);for(;v.obj===void 0&&g.length;)p=`${g[g.length-1]}.${p}`,g=g.slice(0,g.length-1),v=Wo(s,g,Object),v?.obj&&typeof v.obj[`${v.k}.${p}`]<"u"&&(v.obj=void 0);v.obj[`${v.k}.${p}`]=l},R4=(s,i,l,u)=>{const{obj:f,k:p}=Wo(s,i,Object);f[p]=f[p]||[],f[p].push(l)},Yu=(s,i)=>{const{obj:l,k:u}=Wo(s,i);if(l&&Object.prototype.hasOwnProperty.call(l,u))return l[u]},O4=(s,i,l)=>{const u=Yu(s,l);return u!==void 0?u:Yu(i,l)},ry=(s,i,l)=>{for(const u in i)u!=="__proto__"&&u!=="constructor"&&(u in s?jt(s[u])||s[u]instanceof String||jt(i[u])||i[u]instanceof String?l&&(s[u]=i[u]):ry(s[u],i[u],l):s[u]=i[u]);return s},kl=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var B4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const D4=s=>jt(s)?s.replace(/[&<>"'\/]/g,i=>B4[i]):s;class M4{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const l=this.regExpMap.get(i);if(l!==void 0)return l;const u=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,u),this.regExpQueue.push(i),u}}const I4=[" ",",","?","!",";"],L4=new M4(20),P4=(s,i,l)=>{i=i||"",l=l||"";const u=I4.filter(g=>i.indexOf(g)<0&&l.indexOf(g)<0);if(u.length===0)return!0;const f=L4.getRegExp(`(${u.map(g=>g==="?"?"\\?":g).join("|")})`);let p=!f.test(s);if(!p){const g=s.indexOf(l);g>0&&!f.test(s.substring(0,g))&&(p=!0)}return p},y0=(s,i,l=".")=>{if(!s)return;if(s[i])return Object.prototype.hasOwnProperty.call(s,i)?s[i]:void 0;const u=i.split(l);let f=s;for(let p=0;p<u.length;){if(!f||typeof f!="object")return;let g,v="";for(let S=p;S<u.length;++S)if(S!==p&&(v+=l),v+=u[S],g=f[v],g!==void 0){if(["string","number","boolean"].indexOf(typeof g)>-1&&S<u.length-1)continue;p+=S-p+1;break}f=g}return f},nc=s=>s?.replace("_","-"),$4={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,i){console?.[s]?.apply?.(console,i)}};class Wu{constructor(i,l={}){this.init(i,l)}init(i,l={}){this.prefix=l.prefix||"i18next:",this.logger=i||$4,this.options=l,this.debug=l.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,l,u,f){return f&&!this.debug?null:(jt(i[0])&&(i[0]=`${u}${this.prefix} ${i[0]}`),this.logger[l](i))}create(i){return new Wu(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new Wu(this.logger,i)}}var Ka=new Wu;class fd{constructor(){this.observers={}}on(i,l){return i.split(" ").forEach(u=>{this.observers[u]||(this.observers[u]=new Map);const f=this.observers[u].get(l)||0;this.observers[u].set(l,f+1)}),this}off(i,l){if(this.observers[i]){if(!l){delete this.observers[i];return}this.observers[i].delete(l)}}emit(i,...l){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([f,p])=>{for(let g=0;g<p;g++)f(...l)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([f,p])=>{for(let g=0;g<p;g++)f.apply(f,[i,...l])})}}class sg extends fd{constructor(i,l={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=l,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const l=this.options.ns.indexOf(i);l>-1&&this.options.ns.splice(l,1)}getResource(i,l,u,f={}){const p=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,g=f.ignoreJSONStructure!==void 0?f.ignoreJSONStructure:this.options.ignoreJSONStructure;let v;i.indexOf(".")>-1?v=i.split("."):(v=[i,l],u&&(Array.isArray(u)?v.push(...u):jt(u)&&p?v.push(...u.split(p)):v.push(u)));const S=Yu(this.data,v);return!S&&!l&&!u&&i.indexOf(".")>-1&&(i=v[0],l=v[1],u=v.slice(2).join(".")),S||!g||!jt(u)?S:y0(this.data?.[i]?.[l],u,p)}addResource(i,l,u,f,p={silent:!1}){const g=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator;let v=[i,l];u&&(v=v.concat(g?u.split(g):u)),i.indexOf(".")>-1&&(v=i.split("."),f=l,l=v[1]),this.addNamespaces(l),ng(this.data,v,f),p.silent||this.emit("added",i,l,u,f)}addResources(i,l,u,f={silent:!1}){for(const p in u)(jt(u[p])||Array.isArray(u[p]))&&this.addResource(i,l,p,u[p],{silent:!0});f.silent||this.emit("added",i,l,u)}addResourceBundle(i,l,u,f,p,g={silent:!1,skipCopy:!1}){let v=[i,l];i.indexOf(".")>-1&&(v=i.split("."),f=u,u=l,l=v[1]),this.addNamespaces(l);let S=Yu(this.data,v)||{};g.skipCopy||(u=JSON.parse(JSON.stringify(u))),f?ry(S,u,p):S={...S,...u},ng(this.data,v,S),g.silent||this.emit("added",i,l,u)}removeResourceBundle(i,l){this.hasResourceBundle(i,l)&&delete this.data[i][l],this.removeNamespaces(l),this.emit("removed",i,l)}hasResourceBundle(i,l){return this.getResource(i,l)!==void 0}getResourceBundle(i,l){return l||(l=this.options.defaultNS),this.getResource(i,l)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const l=this.getDataByLanguage(i);return!!(l&&Object.keys(l)||[]).find(f=>l[f]&&Object.keys(l[f]).length>0)}toJSON(){return this.data}}var ly={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,i,l,u,f){return s.forEach(p=>{i=this.processors[p]?.process(i,l,u,f)??i}),i}};const oy=Symbol("i18next/PATH_KEY");function z4(){const s=[],i=Object.create(null);let l;return i.get=(u,f)=>(l?.revoke?.(),f===oy?s:(s.push(f),l=Proxy.revocable(u,i),l.proxy)),Proxy.revocable(Object.create(null),i).proxy}function w0(s,i){const{[oy]:l}=s(z4());return l.join(i?.keySeparator??".")}const ag={},jf=s=>!jt(s)&&typeof s!="boolean"&&typeof s!="number";class Ku extends fd{constructor(i,l={}){super(),k4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=l,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ka.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,l={interpolation:{}}){const u={...l};if(i==null)return!1;const f=this.resolve(i,u);if(f?.res===void 0)return!1;const p=jf(f.res);return!(u.returnObjects===!1&&p)}extractFromKey(i,l){let u=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let p=l.ns||this.options.defaultNS||[];const g=u&&i.indexOf(u)>-1,v=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!P4(i,u,f);if(g&&!v){const S=i.match(this.interpolator.nestingRegexp);if(S&&S.length>0)return{key:i,namespaces:jt(p)?[p]:p};const w=i.split(u);(u!==f||u===f&&this.options.ns.indexOf(w[0])>-1)&&(p=w.shift()),i=w.join(f)}return{key:i,namespaces:jt(p)?[p]:p}}translate(i,l,u){let f=typeof l=="object"?{...l}:l;if(typeof f!="object"&&this.options.overloadTranslationOptionHandler&&(f=this.options.overloadTranslationOptionHandler(arguments)),typeof f=="object"&&(f={...f}),f||(f={}),i==null)return"";typeof i=="function"&&(i=w0(i,{...this.options,...f})),Array.isArray(i)||(i=[String(i)]);const p=f.returnDetails!==void 0?f.returnDetails:this.options.returnDetails,g=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,{key:v,namespaces:S}=this.extractFromKey(i[i.length-1],f),w=S[S.length-1];let A=f.nsSeparator!==void 0?f.nsSeparator:this.options.nsSeparator;A===void 0&&(A=":");const j=f.lng||this.language,T=f.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(j?.toLowerCase()==="cimode")return T?p?{res:`${w}${A}${v}`,usedKey:v,exactUsedKey:v,usedLng:j,usedNS:w,usedParams:this.getUsedParamsDetails(f)}:`${w}${A}${v}`:p?{res:v,usedKey:v,exactUsedKey:v,usedLng:j,usedNS:w,usedParams:this.getUsedParamsDetails(f)}:v;const R=this.resolve(i,f);let B=R?.res;const D=R?.usedKey||v,$=R?.exactUsedKey||v,P=["[object Number]","[object Function]","[object RegExp]"],O=f.joinArrays!==void 0?f.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,W=f.count!==void 0&&!jt(f.count),de=Ku.hasDefaultValue(f),ae=W?this.pluralResolver.getSuffix(j,f.count,f):"",X=f.ordinal&&W?this.pluralResolver.getSuffix(j,f.count,{ordinal:!1}):"",ue=W&&!f.ordinal&&f.count===0,q=ue&&f[`defaultValue${this.options.pluralSeparator}zero`]||f[`defaultValue${ae}`]||f[`defaultValue${X}`]||f.defaultValue;let Y=B;L&&!B&&de&&(Y=q);const Ce=jf(Y),he=Object.prototype.toString.apply(Y);if(L&&Y&&Ce&&P.indexOf(he)<0&&!(jt(O)&&Array.isArray(Y))){if(!f.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(D,Y,{...f,ns:S}):`key '${v} (${this.language})' returned an object instead of string.`;return p?(R.res=oe,R.usedParams=this.getUsedParamsDetails(f),R):oe}if(g){const oe=Array.isArray(Y),ge=oe?[]:{},Z=oe?$:D;for(const re in Y)if(Object.prototype.hasOwnProperty.call(Y,re)){const J=`${Z}${g}${re}`;de&&!B?ge[re]=this.translate(J,{...f,defaultValue:jf(q)?q[re]:void 0,joinArrays:!1,ns:S}):ge[re]=this.translate(J,{...f,joinArrays:!1,ns:S}),ge[re]===J&&(ge[re]=Y[re])}B=ge}}else if(L&&jt(O)&&Array.isArray(B))B=B.join(O),B&&(B=this.extendTranslation(B,i,f,u));else{let oe=!1,ge=!1;!this.isValidLookup(B)&&de&&(oe=!0,B=q),this.isValidLookup(B)||(ge=!0,B=v);const re=(f.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ge?void 0:B,J=de&&q!==B&&this.options.updateMissing;if(ge||oe||J){if(this.logger.log(J?"updateKey":"missingKey",j,w,v,J?q:B),g){const U=this.resolve(v,{...f,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ke=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,f.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let U=0;U<ne.length;U++)ke.push(ne[U]);else this.options.saveMissingTo==="all"?ke=this.languageUtils.toResolveHierarchy(f.lng||this.language):ke.push(f.lng||this.language);const ee=(U,G,ie)=>{const be=de&&ie!==B?ie:re;this.options.missingKeyHandler?this.options.missingKeyHandler(U,w,G,be,J,f):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(U,w,G,be,J,f),this.emit("missingKey",U,w,G,B)};this.options.saveMissing&&(this.options.saveMissingPlurals&&W?ke.forEach(U=>{const G=this.pluralResolver.getSuffixes(U,f);ue&&f[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(ie=>{ee([U],v+ie,f[`defaultValue${ie}`]||q)})}):ee(ke,v,q))}B=this.extendTranslation(B,i,f,R,u),ge&&B===v&&this.options.appendNamespaceToMissingKey&&(B=`${w}${A}${v}`),(ge||oe)&&this.options.parseMissingKeyHandler&&(B=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${w}${A}${v}`:v,oe?B:void 0,f))}return p?(R.res=B,R.usedParams=this.getUsedParamsDetails(f),R):B}extendTranslation(i,l,u,f,p){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...u},u.lng||this.language||f.usedLng,f.usedNS,f.usedKey,{resolved:f});else if(!u.skipInterpolation){u.interpolation&&this.interpolator.init({...u,interpolation:{...this.options.interpolation,...u.interpolation}});const S=jt(i)&&(u?.interpolation?.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let w;if(S){const j=i.match(this.interpolator.nestingRegexp);w=j&&j.length}let A=u.replace&&!jt(u.replace)?u.replace:u;if(this.options.interpolation.defaultVariables&&(A={...this.options.interpolation.defaultVariables,...A}),i=this.interpolator.interpolate(i,A,u.lng||this.language||f.usedLng,u),S){const j=i.match(this.interpolator.nestingRegexp),T=j&&j.length;w<T&&(u.nest=!1)}!u.lng&&f&&f.res&&(u.lng=this.language||f.usedLng),u.nest!==!1&&(i=this.interpolator.nest(i,(...j)=>p?.[0]===j[0]&&!u.context?(this.logger.warn(`It seems you are nesting recursively key: ${j[0]} in key: ${l[0]}`),null):this.translate(...j,l),u)),u.interpolation&&this.interpolator.reset()}const g=u.postProcess||this.options.postProcess,v=jt(g)?[g]:g;return i!=null&&v?.length&&u.applyPostProcessor!==!1&&(i=ly.handle(v,i,l,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...f,usedParams:this.getUsedParamsDetails(u)},...u}:u,this)),i}resolve(i,l={}){let u,f,p,g,v;return jt(i)&&(i=[i]),i.forEach(S=>{if(this.isValidLookup(u))return;const w=this.extractFromKey(S,l),A=w.key;f=A;let j=w.namespaces;this.options.fallbackNS&&(j=j.concat(this.options.fallbackNS));const T=l.count!==void 0&&!jt(l.count),R=T&&!l.ordinal&&l.count===0,B=l.context!==void 0&&(jt(l.context)||typeof l.context=="number")&&l.context!=="",D=l.lngs?l.lngs:this.languageUtils.toResolveHierarchy(l.lng||this.language,l.fallbackLng);j.forEach($=>{this.isValidLookup(u)||(v=$,!ag[`${D[0]}-${$}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(v)&&(ag[`${D[0]}-${$}`]=!0,this.logger.warn(`key "${f}" for languages "${D.join(", ")}" won't get resolved as namespace "${v}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(P=>{if(this.isValidLookup(u))return;g=P;const O=[A];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(O,A,P,$,l);else{let W;T&&(W=this.pluralResolver.getSuffix(P,l.count,l));const de=`${this.options.pluralSeparator}zero`,ae=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(l.ordinal&&W.indexOf(ae)===0&&O.push(A+W.replace(ae,this.options.pluralSeparator)),O.push(A+W),R&&O.push(A+de)),B){const X=`${A}${this.options.contextSeparator||"_"}${l.context}`;O.push(X),T&&(l.ordinal&&W.indexOf(ae)===0&&O.push(X+W.replace(ae,this.options.pluralSeparator)),O.push(X+W),R&&O.push(X+de))}}let L;for(;L=O.pop();)this.isValidLookup(u)||(p=L,u=this.getResource(P,$,L,l))}))})}),{res:u,usedKey:f,exactUsedKey:p,usedLng:g,usedNS:v}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,l,u,f={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,l,u,f):this.resourceStore.getResource(i,l,u,f)}getUsedParamsDetails(i={}){const l=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],u=i.replace&&!jt(i.replace);let f=u?i.replace:i;if(u&&typeof i.count<"u"&&(f.count=i.count),this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),!u){f={...f};for(const p of l)delete f[p]}return f}static hasDefaultValue(i){const l="defaultValue";for(const u in i)if(Object.prototype.hasOwnProperty.call(i,u)&&l===u.substring(0,l.length)&&i[u]!==void 0)return!0;return!1}}class ig{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ka.create("languageUtils")}getScriptPartFromCode(i){if(i=nc(i),!i||i.indexOf("-")<0)return null;const l=i.split("-");return l.length===2||(l.pop(),l[l.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(l.join("-"))}getLanguagePartFromCode(i){if(i=nc(i),!i||i.indexOf("-")<0)return i;const l=i.split("-");return this.formatLanguageCode(l[0])}formatLanguageCode(i){if(jt(i)&&i.indexOf("-")>-1){let l;try{l=Intl.getCanonicalLocales(i)[0]}catch{}return l&&this.options.lowerCaseLng&&(l=l.toLowerCase()),l||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let l;return i.forEach(u=>{if(l)return;const f=this.formatLanguageCode(u);(!this.options.supportedLngs||this.isSupportedCode(f))&&(l=f)}),!l&&this.options.supportedLngs&&i.forEach(u=>{if(l)return;const f=this.getScriptPartFromCode(u);if(this.isSupportedCode(f))return l=f;const p=this.getLanguagePartFromCode(u);if(this.isSupportedCode(p))return l=p;l=this.options.supportedLngs.find(g=>{if(g===p)return g;if(!(g.indexOf("-")<0&&p.indexOf("-")<0)&&(g.indexOf("-")>0&&p.indexOf("-")<0&&g.substring(0,g.indexOf("-"))===p||g.indexOf(p)===0&&p.length>1))return g})}),l||(l=this.getFallbackCodes(this.options.fallbackLng)[0]),l}getFallbackCodes(i,l){if(!i)return[];if(typeof i=="function"&&(i=i(l)),jt(i)&&(i=[i]),Array.isArray(i))return i;if(!l)return i.default||[];let u=i[l];return u||(u=i[this.getScriptPartFromCode(l)]),u||(u=i[this.formatLanguageCode(l)]),u||(u=i[this.getLanguagePartFromCode(l)]),u||(u=i.default),u||[]}toResolveHierarchy(i,l){const u=this.getFallbackCodes((l===!1?[]:l)||this.options.fallbackLng||[],i),f=[],p=g=>{g&&(this.isSupportedCode(g)?f.push(g):this.logger.warn(`rejecting language code not found in supportedLngs: ${g}`))};return jt(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&p(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&p(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&p(this.getLanguagePartFromCode(i))):jt(i)&&p(this.formatLanguageCode(i)),u.forEach(g=>{f.indexOf(g)<0&&p(this.formatLanguageCode(g))}),f}}const rg={zero:0,one:1,two:2,few:3,many:4,other:5},lg={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class U4{constructor(i,l={}){this.languageUtils=i,this.options=l,this.logger=Ka.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(i,l={}){const u=nc(i==="dev"?"en":i),f=l.ordinal?"ordinal":"cardinal",p=JSON.stringify({cleanedCode:u,type:f});if(p in this.pluralRulesCache)return this.pluralRulesCache[p];let g;try{g=new Intl.PluralRules(u,{type:f})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),lg;if(!i.match(/-|_/))return lg;const S=this.languageUtils.getLanguagePartFromCode(i);g=this.getRule(S,l)}return this.pluralRulesCache[p]=g,g}needsPlural(i,l={}){let u=this.getRule(i,l);return u||(u=this.getRule("dev",l)),u?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,l,u={}){return this.getSuffixes(i,u).map(f=>`${l}${f}`)}getSuffixes(i,l={}){let u=this.getRule(i,l);return u||(u=this.getRule("dev",l)),u?u.resolvedOptions().pluralCategories.sort((f,p)=>rg[f]-rg[p]).map(f=>`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${f}`):[]}getSuffix(i,l,u={}){const f=this.getRule(i,u);return f?`${this.options.prepend}${u.ordinal?`ordinal${this.options.prepend}`:""}${f.select(l)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",l,u))}}const og=(s,i,l,u=".",f=!0)=>{let p=O4(s,i,l);return!p&&f&&jt(l)&&(p=y0(s,l,u),p===void 0&&(p=y0(i,l,u))),p},Ef=s=>s.replace(/\$/g,"$$$$");class cg{constructor(i={}){this.logger=Ka.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(l=>l),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:l,escapeValue:u,useRawValueToEscape:f,prefix:p,prefixEscaped:g,suffix:v,suffixEscaped:S,formatSeparator:w,unescapeSuffix:A,unescapePrefix:j,nestingPrefix:T,nestingPrefixEscaped:R,nestingSuffix:B,nestingSuffixEscaped:D,nestingOptionsSeparator:$,maxReplaces:P,alwaysFormat:O}=i.interpolation;this.escape=l!==void 0?l:D4,this.escapeValue=u!==void 0?u:!0,this.useRawValueToEscape=f!==void 0?f:!1,this.prefix=p?kl(p):g||"{{",this.suffix=v?kl(v):S||"}}",this.formatSeparator=w||",",this.unescapePrefix=A?"":j||"-",this.unescapeSuffix=this.unescapePrefix?"":A||"",this.nestingPrefix=T?kl(T):R||kl("$t("),this.nestingSuffix=B?kl(B):D||kl(")"),this.nestingOptionsSeparator=$||",",this.maxReplaces=P||1e3,this.alwaysFormat=O!==void 0?O:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(l,u)=>l?.source===u?(l.lastIndex=0,l):new RegExp(u,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,l,u,f){let p,g,v;const S=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},w=R=>{if(R.indexOf(this.formatSeparator)<0){const P=og(l,S,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,u,{...f,...l,interpolationkey:R}):P}const B=R.split(this.formatSeparator),D=B.shift().trim(),$=B.join(this.formatSeparator).trim();return this.format(og(l,S,D,this.options.keySeparator,this.options.ignoreJSONStructure),$,u,{...f,...l,interpolationkey:D})};this.resetRegExp();const A=f?.missingInterpolationHandler||this.options.missingInterpolationHandler,j=f?.interpolation?.skipOnVariables!==void 0?f.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>Ef(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?Ef(this.escape(R)):Ef(R)}].forEach(R=>{for(v=0;p=R.regex.exec(i);){const B=p[1].trim();if(g=w(B),g===void 0)if(typeof A=="function"){const $=A(i,p,f);g=jt($)?$:""}else if(f&&Object.prototype.hasOwnProperty.call(f,B))g="";else if(j){g=p[0];continue}else this.logger.warn(`missed to pass in variable ${B} for interpolating ${i}`),g="";else!jt(g)&&!this.useRawValueToEscape&&(g=Jp(g));const D=R.safeValue(g);if(i=i.replace(p[0],D),j?(R.regex.lastIndex+=g.length,R.regex.lastIndex-=p[0].length):R.regex.lastIndex=0,v++,v>=this.maxReplaces)break}}),i}nest(i,l,u={}){let f,p,g;const v=(S,w)=>{const A=this.nestingOptionsSeparator;if(S.indexOf(A)<0)return S;const j=S.split(new RegExp(`${A}[ ]*{`));let T=`{${j[1]}`;S=j[0],T=this.interpolate(T,g);const R=T.match(/'/g),B=T.match(/"/g);((R?.length??0)%2===0&&!B||B.length%2!==0)&&(T=T.replace(/'/g,'"'));try{g=JSON.parse(T),w&&(g={...w,...g})}catch(D){return this.logger.warn(`failed parsing options string in nesting for key ${S}`,D),`${S}${A}${T}`}return g.defaultValue&&g.defaultValue.indexOf(this.prefix)>-1&&delete g.defaultValue,S};for(;f=this.nestingRegexp.exec(i);){let S=[];g={...u},g=g.replace&&!jt(g.replace)?g.replace:g,g.applyPostProcessor=!1,delete g.defaultValue;const w=/{.*}/.test(f[1])?f[1].lastIndexOf("}")+1:f[1].indexOf(this.formatSeparator);if(w!==-1&&(S=f[1].slice(w).split(this.formatSeparator).map(A=>A.trim()).filter(Boolean),f[1]=f[1].slice(0,w)),p=l(v.call(this,f[1].trim(),g),g),p&&f[0]===i&&!jt(p))return p;jt(p)||(p=Jp(p)),p||(this.logger.warn(`missed to resolve ${f[1]} for nesting ${i}`),p=""),S.length&&(p=S.reduce((A,j)=>this.format(A,j,u.lng,{...u,interpolationkey:f[1].trim()}),p.trim())),i=i.replace(f[0],p),this.regexp.lastIndex=0}return i}}const V4=s=>{let i=s.toLowerCase().trim();const l={};if(s.indexOf("(")>-1){const u=s.split("(");i=u[0].toLowerCase().trim();const f=u[1].substring(0,u[1].length-1);i==="currency"&&f.indexOf(":")<0?l.currency||(l.currency=f.trim()):i==="relativetime"&&f.indexOf(":")<0?l.range||(l.range=f.trim()):f.split(";").forEach(g=>{if(g){const[v,...S]=g.split(":"),w=S.join(":").trim().replace(/^'+|'+$/g,""),A=v.trim();l[A]||(l[A]=w),w==="false"&&(l[A]=!1),w==="true"&&(l[A]=!0),isNaN(w)||(l[A]=parseInt(w,10))}})}return{formatName:i,formatOptions:l}},ug=s=>{const i={};return(l,u,f)=>{let p=f;f&&f.interpolationkey&&f.formatParams&&f.formatParams[f.interpolationkey]&&f[f.interpolationkey]&&(p={...p,[f.interpolationkey]:void 0});const g=u+JSON.stringify(p);let v=i[g];return v||(v=s(nc(u),f),i[g]=v),v(l)}},H4=s=>(i,l,u)=>s(nc(l),u)(i);class G4{constructor(i={}){this.logger=Ka.create("formatter"),this.options=i,this.init(i)}init(i,l={interpolation:{}}){this.formatSeparator=l.interpolation.formatSeparator||",";const u=l.cacheInBuiltFormats?ug:H4;this.formats={number:u((f,p)=>{const g=new Intl.NumberFormat(f,{...p});return v=>g.format(v)}),currency:u((f,p)=>{const g=new Intl.NumberFormat(f,{...p,style:"currency"});return v=>g.format(v)}),datetime:u((f,p)=>{const g=new Intl.DateTimeFormat(f,{...p});return v=>g.format(v)}),relativetime:u((f,p)=>{const g=new Intl.RelativeTimeFormat(f,{...p});return v=>g.format(v,p.range||"day")}),list:u((f,p)=>{const g=new Intl.ListFormat(f,{...p});return v=>g.format(v)})}}add(i,l){this.formats[i.toLowerCase().trim()]=l}addCached(i,l){this.formats[i.toLowerCase().trim()]=ug(l)}format(i,l,u,f={}){const p=l.split(this.formatSeparator);if(p.length>1&&p[0].indexOf("(")>1&&p[0].indexOf(")")<0&&p.find(v=>v.indexOf(")")>-1)){const v=p.findIndex(S=>S.indexOf(")")>-1);p[0]=[p[0],...p.splice(1,v)].join(this.formatSeparator)}return p.reduce((v,S)=>{const{formatName:w,formatOptions:A}=V4(S);if(this.formats[w]){let j=v;try{const T=f?.formatParams?.[f.interpolationkey]||{},R=T.locale||T.lng||f.locale||f.lng||u;j=this.formats[w](v,R,{...A,...f,...T})}catch(T){this.logger.warn(T)}return j}else this.logger.warn(`there was no format function for ${w}`);return v},i)}}const q4=(s,i)=>{s.pending[i]!==void 0&&(delete s.pending[i],s.pendingCount--)};class X4 extends fd{constructor(i,l,u,f={}){super(),this.backend=i,this.store=l,this.services=u,this.languageUtils=u.languageUtils,this.options=f,this.logger=Ka.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=f.maxParallelReads||10,this.readingCalls=0,this.maxRetries=f.maxRetries>=0?f.maxRetries:5,this.retryTimeout=f.retryTimeout>=1?f.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(u,f.backend,f)}queueLoad(i,l,u,f){const p={},g={},v={},S={};return i.forEach(w=>{let A=!0;l.forEach(j=>{const T=`${w}|${j}`;!u.reload&&this.store.hasResourceBundle(w,j)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?g[T]===void 0&&(g[T]=!0):(this.state[T]=1,A=!1,g[T]===void 0&&(g[T]=!0),p[T]===void 0&&(p[T]=!0),S[j]===void 0&&(S[j]=!0)))}),A||(v[w]=!0)}),(Object.keys(p).length||Object.keys(g).length)&&this.queue.push({pending:g,pendingCount:Object.keys(g).length,loaded:{},errors:[],callback:f}),{toLoad:Object.keys(p),pending:Object.keys(g),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(S)}}loaded(i,l,u){const f=i.split("|"),p=f[0],g=f[1];l&&this.emit("failedLoading",p,g,l),!l&&u&&this.store.addResourceBundle(p,g,u,void 0,void 0,{skipCopy:!0}),this.state[i]=l?-1:2,l&&u&&(this.state[i]=0);const v={};this.queue.forEach(S=>{R4(S.loaded,[p],g),q4(S,i),l&&S.errors.push(l),S.pendingCount===0&&!S.done&&(Object.keys(S.loaded).forEach(w=>{v[w]||(v[w]={});const A=S.loaded[w];A.length&&A.forEach(j=>{v[w][j]===void 0&&(v[w][j]=!0)})}),S.done=!0,S.errors.length?S.callback(S.errors):S.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(S=>!S.done)}read(i,l,u,f=0,p=this.retryTimeout,g){if(!i.length)return g(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:l,fcName:u,tried:f,wait:p,callback:g});return}this.readingCalls++;const v=(w,A)=>{if(this.readingCalls--,this.waitingReads.length>0){const j=this.waitingReads.shift();this.read(j.lng,j.ns,j.fcName,j.tried,j.wait,j.callback)}if(w&&A&&f<this.maxRetries){setTimeout(()=>{this.read.call(this,i,l,u,f+1,p*2,g)},p);return}g(w,A)},S=this.backend[u].bind(this.backend);if(S.length===2){try{const w=S(i,l);w&&typeof w.then=="function"?w.then(A=>v(null,A)).catch(v):v(null,w)}catch(w){v(w)}return}return S(i,l,v)}prepareLoading(i,l,u={},f){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),f&&f();jt(i)&&(i=this.languageUtils.toResolveHierarchy(i)),jt(l)&&(l=[l]);const p=this.queueLoad(i,l,u,f);if(!p.toLoad.length)return p.pending.length||f(),null;p.toLoad.forEach(g=>{this.loadOne(g)})}load(i,l,u){this.prepareLoading(i,l,{},u)}reload(i,l,u){this.prepareLoading(i,l,{reload:!0},u)}loadOne(i,l=""){const u=i.split("|"),f=u[0],p=u[1];this.read(f,p,"read",void 0,void 0,(g,v)=>{g&&this.logger.warn(`${l}loading namespace ${p} for language ${f} failed`,g),!g&&v&&this.logger.log(`${l}loaded namespace ${p} for language ${f}`,v),this.loaded(i,g,v)})}saveMissing(i,l,u,f,p,g={},v=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(l)){this.logger.warn(`did not save key "${u}" as the namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(u==null||u==="")){if(this.backend?.create){const S={...g,isUpdate:p},w=this.backend.create.bind(this.backend);if(w.length<6)try{let A;w.length===5?A=w(i,l,u,f,S):A=w(i,l,u,f),A&&typeof A.then=="function"?A.then(j=>v(null,j)).catch(v):v(null,A)}catch(A){v(A)}else w(i,l,u,f,v,S)}!i||!i[0]||this.store.addResource(i[0],l,u,f)}}}const Af=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let i={};if(typeof s[1]=="object"&&(i=s[1]),jt(s[1])&&(i.defaultValue=s[1]),jt(s[2])&&(i.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const l=s[3]||s[2];Object.keys(l).forEach(u=>{i[u]=l[u]})}return i},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),dg=s=>(jt(s.ns)&&(s.ns=[s.ns]),jt(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),jt(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),Ou=()=>{},Y4=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(l=>{typeof s[l]=="function"&&(s[l]=s[l].bind(s))})};class Ko extends fd{constructor(i={},l){if(super(),this.options=dg(i),this.services={},this.logger=Ka,this.modules={external:[]},Y4(this),l&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,l),this;setTimeout(()=>{this.init(i,l)},0)}}init(i={},l){this.isInitializing=!0,typeof i=="function"&&(l=i,i={}),i.defaultNS==null&&i.ns&&(jt(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const u=Af();this.options={...u,...this.options,...dg(i)},this.options.interpolation={...u.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=u.overloadTranslationOptionHandler);const f=w=>w?typeof w=="function"?new w:w:null;if(!this.options.isClone){this.modules.logger?Ka.init(f(this.modules.logger),this.options):Ka.init(null,this.options);let w;this.modules.formatter?w=this.modules.formatter:w=G4;const A=new ig(this.options);this.store=new sg(this.options.resources,this.options);const j=this.services;j.logger=Ka,j.resourceStore=this.store,j.languageUtils=A,j.pluralResolver=new U4(A,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==u.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),w&&(!this.options.interpolation.format||this.options.interpolation.format===u.interpolation.format)&&(j.formatter=f(w),j.formatter.init&&j.formatter.init(j,this.options),this.options.interpolation.format=j.formatter.format.bind(j.formatter)),j.interpolator=new cg(this.options),j.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},j.backendConnector=new X4(f(this.modules.backend),j.resourceStore,j,this.options),j.backendConnector.on("*",(R,...B)=>{this.emit(R,...B)}),this.modules.languageDetector&&(j.languageDetector=f(this.modules.languageDetector),j.languageDetector.init&&j.languageDetector.init(j,this.options.detection,this.options)),this.modules.i18nFormat&&(j.i18nFormat=f(this.modules.i18nFormat),j.i18nFormat.init&&j.i18nFormat.init(this)),this.translator=new Ku(this.services,this.options),this.translator.on("*",(R,...B)=>{this.emit(R,...B)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,l||(l=Ou),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const w=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);w.length>0&&w[0]!=="dev"&&(this.options.lng=w[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(w=>{this[w]=(...A)=>this.store[w](...A)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(w=>{this[w]=(...A)=>(this.store[w](...A),this)});const v=zo(),S=()=>{const w=(A,j)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),v.resolve(j),l(A,j)};if(this.languages&&!this.isInitialized)return w(null,this.t.bind(this));this.changeLanguage(this.options.lng,w)};return this.options.resources||!this.options.initAsync?S():setTimeout(S,0),v}loadResources(i,l=Ou){let u=l;const f=jt(i)?i:this.language;if(typeof i=="function"&&(u=i),!this.options.resources||this.options.partialBundledLanguages){if(f?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return u();const p=[],g=v=>{if(!v||v==="cimode")return;this.services.languageUtils.toResolveHierarchy(v).forEach(w=>{w!=="cimode"&&p.indexOf(w)<0&&p.push(w)})};f?g(f):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(S=>g(S)),this.options.preload?.forEach?.(v=>g(v)),this.services.backendConnector.load(p,this.options.ns,v=>{!v&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),u(v)})}else u(null)}reloadResources(i,l,u){const f=zo();return typeof i=="function"&&(u=i,i=void 0),typeof l=="function"&&(u=l,l=void 0),i||(i=this.languages),l||(l=this.options.ns),u||(u=Ou),this.services.backendConnector.reload(i,l,p=>{f.resolve(),u(p)}),f}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&ly.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let l=0;l<this.languages.length;l++){const u=this.languages[l];if(!(["cimode","dev"].indexOf(u)>-1)&&this.store.hasLanguageSomeTranslations(u)){this.resolvedLanguage=u;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,l){this.isLanguageChangingTo=i;const u=zo();this.emit("languageChanging",i);const f=v=>{this.language=v,this.languages=this.services.languageUtils.toResolveHierarchy(v),this.resolvedLanguage=void 0,this.setResolvedLanguage(v)},p=(v,S)=>{S?this.isLanguageChangingTo===i&&(f(S),this.translator.changeLanguage(S),this.isLanguageChangingTo=void 0,this.emit("languageChanged",S),this.logger.log("languageChanged",S)):this.isLanguageChangingTo=void 0,u.resolve((...w)=>this.t(...w)),l&&l(v,(...w)=>this.t(...w))},g=v=>{!i&&!v&&this.services.languageDetector&&(v=[]);const S=jt(v)?v:v&&v[0],w=this.store.hasLanguageSomeTranslations(S)?S:this.services.languageUtils.getBestMatchFromCodes(jt(v)?[v]:v);w&&(this.language||f(w),this.translator.language||this.translator.changeLanguage(w),this.services.languageDetector?.cacheUserLanguage?.(w)),this.loadResources(w,A=>{p(A,w)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(i),u}getFixedT(i,l,u){const f=(p,g,...v)=>{let S;typeof g!="object"?S=this.options.overloadTranslationOptionHandler([p,g].concat(v)):S={...g},S.lng=S.lng||f.lng,S.lngs=S.lngs||f.lngs,S.ns=S.ns||f.ns,S.keyPrefix!==""&&(S.keyPrefix=S.keyPrefix||u||f.keyPrefix);const w=this.options.keySeparator||".";let A;return S.keyPrefix&&Array.isArray(p)?A=p.map(j=>(typeof j=="function"&&(j=w0(j,{...this.options,...g})),`${S.keyPrefix}${w}${j}`)):(typeof p=="function"&&(p=w0(p,{...this.options,...g})),A=S.keyPrefix?`${S.keyPrefix}${w}${p}`:p),this.t(A,S)};return jt(i)?f.lng=i:f.lngs=i,f.ns=l,f.keyPrefix=u,f}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,l={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const u=l.lng||this.resolvedLanguage||this.languages[0],f=this.options?this.options.fallbackLng:!1,p=this.languages[this.languages.length-1];if(u.toLowerCase()==="cimode")return!0;const g=(v,S)=>{const w=this.services.backendConnector.state[`${v}|${S}`];return w===-1||w===0||w===2};if(l.precheck){const v=l.precheck(this,g);if(v!==void 0)return v}return!!(this.hasResourceBundle(u,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||g(u,i)&&(!f||g(p,i)))}loadNamespaces(i,l){const u=zo();return this.options.ns?(jt(i)&&(i=[i]),i.forEach(f=>{this.options.ns.indexOf(f)<0&&this.options.ns.push(f)}),this.loadResources(f=>{u.resolve(),l&&l(f)}),u):(l&&l(),Promise.resolve())}loadLanguages(i,l){const u=zo();jt(i)&&(i=[i]);const f=this.options.preload||[],p=i.filter(g=>f.indexOf(g)<0&&this.services.languageUtils.isSupportedCode(g));return p.length?(this.options.preload=f.concat(p),this.loadResources(g=>{u.resolve(),l&&l(g)}),u):(l&&l(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";try{const f=new Intl.Locale(i);if(f&&f.getTextInfo){const p=f.getTextInfo();if(p&&p.direction)return p.direction}}catch{}const l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],u=this.services?.languageUtils||new ig(Af());return i.toLowerCase().indexOf("-latn")>1?"ltr":l.indexOf(u.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},l){const u=new Ko(i,l);return u.createInstance=Ko.createInstance,u}cloneInstance(i={},l=Ou){const u=i.forkResourceStore;u&&delete i.forkResourceStore;const f={...this.options,...i,isClone:!0},p=new Ko(f);if((i.debug!==void 0||i.prefix!==void 0)&&(p.logger=p.logger.clone(i)),["store","services","language"].forEach(v=>{p[v]=this[v]}),p.services={...this.services},p.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},u){const v=Object.keys(this.store.data).reduce((S,w)=>(S[w]={...this.store.data[w]},S[w]=Object.keys(S[w]).reduce((A,j)=>(A[j]={...S[w][j]},A),S[w]),S),{});p.store=new sg(v,f),p.services.resourceStore=p.store}if(i.interpolation){const S={...Af().interpolation,...this.options.interpolation,...i.interpolation},w={...f,interpolation:S};p.services.interpolator=new cg(w)}return p.translator=new Ku(p.services,f),p.translator.on("*",(v,...S)=>{p.emit(v,...S)}),p.init(f,l),p.translator.options=f,p.translator.backendConnector.services.utils={hasLoadedNamespace:p.hasLoadedNamespace.bind(p)},p}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const js=Ko.createInstance();js.createInstance;js.dir;js.init;js.loadResources;js.reloadResources;js.use;js.changeLanguage;js.getFixedT;js.t;js.exists;js.setDefaultNamespace;js.hasLoadedNamespace;js.loadNamespaces;js.loadLanguages;const W4=(s,i,l,u)=>{const f=[l,{code:i,...u||{}}];if(s?.services?.logger?.forward)return s.services.logger.forward(f,"warn","react-i18next::",!0);qr(f[0])&&(f[0]=`react-i18next:: ${f[0]}`),s?.services?.logger?.warn?s.services.logger.warn(...f):console?.warn&&console.warn(...f)},hg={},cy=(s,i,l,u)=>{qr(l)&&hg[l]||(qr(l)&&(hg[l]=new Date),W4(s,i,l,u))},uy=(s,i)=>()=>{if(s.isInitialized)i();else{const l=()=>{setTimeout(()=>{s.off("initialized",l)},0),i()};s.on("initialized",l)}},v0=(s,i,l)=>{s.loadNamespaces(i,uy(s,l))},fg=(s,i,l,u)=>{if(qr(l)&&(l=[l]),s.options.preload&&s.options.preload.indexOf(i)>-1)return v0(s,l,u);l.forEach(f=>{s.options.ns.indexOf(f)<0&&s.options.ns.push(f)}),s.loadLanguages(i,uy(s,u))},K4=(s,i,l={})=>!i.languages||!i.languages.length?(cy(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(s,{lng:l.lng,precheck:(u,f)=>{if(l.bindI18n&&l.bindI18n.indexOf("languageChanging")>-1&&u.services.backendConnector.backend&&u.isLanguageChangingTo&&!f(u.isLanguageChangingTo,s))return!1}}),qr=s=>typeof s=="string",Z4=s=>typeof s=="object"&&s!==null,Q4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,J4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},e6=s=>J4[s],t6=s=>s.replace(Q4,e6);let N0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t6,transDefaultProps:void 0};const n6=(s={})=>{N0={...N0,...s}},s6=()=>N0;let dy;const a6=s=>{dy=s},i6=()=>dy,r6={type:"3rdParty",init(s){n6(s.options.react),a6(s)}},hy=_.createContext();class l6{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(l=>{this.usedNamespaces[l]||(this.usedNamespaces[l]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var _f={exports:{}},Tf={};var mg;function o6(){if(mg)return Tf;mg=1;var s=ud();function i(j,T){return j===T&&(j!==0||1/j===1/T)||j!==j&&T!==T}var l=typeof Object.is=="function"?Object.is:i,u=s.useState,f=s.useEffect,p=s.useLayoutEffect,g=s.useDebugValue;function v(j,T){var R=T(),B=u({inst:{value:R,getSnapshot:T}}),D=B[0].inst,$=B[1];return p(function(){D.value=R,D.getSnapshot=T,S(D)&&$({inst:D})},[j,R,T]),f(function(){return S(D)&&$({inst:D}),j(function(){S(D)&&$({inst:D})})},[j]),g(R),R}function S(j){var T=j.getSnapshot;j=j.value;try{var R=T();return!l(j,R)}catch{return!0}}function w(j,T){return T()}var A=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w:v;return Tf.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:A,Tf}var xg;function c6(){return xg||(xg=1,_f.exports=o6()),_f.exports}var u6=c6();const d6=(s,i)=>qr(i)?i:Z4(i)&&qr(i.defaultValue)?i.defaultValue:Array.isArray(s)?s[s.length-1]:s,h6={t:d6,ready:!1},f6=()=>()=>{},Ot=(s,i={})=>{const{i18n:l}=i,{i18n:u,defaultNS:f}=_.useContext(hy)||{},p=l||u||i6();p&&!p.reportNamespaces&&(p.reportNamespaces=new l6),p||cy(p,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const g=_.useMemo(()=>({...s6(),...p?.options?.react,...i}),[p,i]),{useSuspense:v,keyPrefix:S}=g,w=f||p?.options?.defaultNS,A=qr(w)?[w]:w||["translation"],j=_.useMemo(()=>A,A);p?.reportNamespaces?.addUsedNamespaces?.(j);const T=_.useRef(0),R=_.useCallback(q=>{if(!p)return f6;const{bindI18n:Y,bindI18nStore:Ce}=g,he=()=>{T.current+=1,q()};return Y&&p.on(Y,he),Ce&&p.store.on(Ce,he),()=>{Y&&Y.split(" ").forEach(oe=>p.off(oe,he)),Ce&&Ce.split(" ").forEach(oe=>p.store.off(oe,he))}},[p,g]),B=_.useRef(),D=_.useCallback(()=>{if(!p)return h6;const q=!!(p.isInitialized||p.initializedStoreOnce)&&j.every(Z=>K4(Z,p,g)),Y=i.lng||p.language,Ce=T.current,he=B.current;if(he&&he.ready===q&&he.lng===Y&&he.keyPrefix===S&&he.revision===Ce)return he;const ge={t:p.getFixedT(Y,g.nsMode==="fallback"?j:j[0],S),ready:q,lng:Y,keyPrefix:S,revision:Ce};return B.current=ge,ge},[p,j,S,g,i.lng]),[$,P]=_.useState(0),{t:O,ready:L}=u6.useSyncExternalStore(R,D,D);_.useEffect(()=>{if(p&&!L&&!v){const q=()=>P(Y=>Y+1);i.lng?fg(p,i.lng,j,q):v0(p,j,q)}},[p,i.lng,j,L,v,$]);const W=p||{},de=_.useRef(null),ae=_.useRef(),X=q=>{const Y=Object.getOwnPropertyDescriptors(q);Y.__original&&delete Y.__original;const Ce=Object.create(Object.getPrototypeOf(q),Y);if(!Object.prototype.hasOwnProperty.call(Ce,"__original"))try{Object.defineProperty(Ce,"__original",{value:q,writable:!1,enumerable:!1,configurable:!1})}catch{}return Ce},ue=_.useMemo(()=>{const q=W,Y=q?.language;let Ce=q;q&&(de.current&&de.current.__original===q?ae.current!==Y?(Ce=X(q),de.current=Ce,ae.current=Y):Ce=de.current:(Ce=X(q),de.current=Ce,ae.current=Y));const he=[O,Ce,L];return he.t=O,he.i18n=Ce,he.ready=L,he},[O,W,L,W.resolvedLanguage,W.language,W.languages]);if(p&&v&&!L)throw new Promise(q=>{const Y=()=>q();i.lng?fg(p,i.lng,j,Y):v0(p,j,Y)});return ue};function m6({i18n:s,defaultNS:i,children:l}){const u=_.useMemo(()=>({i18n:s,defaultNS:i}),[s,i]);return _.createElement(hy.Provider,{value:u},l)}const Q0=_.createContext({});function J0(s){const i=_.useRef(null);return i.current===null&&(i.current=s()),i.current}const fy=typeof window<"u",my=fy?_.useLayoutEffect:_.useEffect,md=_.createContext(null);function em(s,i){s.indexOf(i)===-1&&s.push(i)}function tm(s,i){const l=s.indexOf(i);l>-1&&s.splice(l,1)}const Ja=(s,i,l)=>l>i?i:l<s?s:l;let nm=()=>{};const Fi={},xy=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function py(s){return typeof s=="object"&&s!==null}const gy=s=>/^0[^.\s]+$/u.test(s);function sm(s){let i;return()=>(i===void 0&&(i=s()),i)}const Na=s=>s,x6=(s,i)=>l=>i(s(l)),hc=(...s)=>s.reduce(x6),sc=(s,i,l)=>{const u=i-s;return u===0?1:(l-s)/u};class am{constructor(){this.subscriptions=[]}add(i){return em(this.subscriptions,i),()=>tm(this.subscriptions,i)}notify(i,l,u){const f=this.subscriptions.length;if(f)if(f===1)this.subscriptions[0](i,l,u);else for(let p=0;p<f;p++){const g=this.subscriptions[p];g&&g(i,l,u)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=s=>s*1e3,va=s=>s/1e3;function by(s,i){return i?s*(1e3/i):0}const yy=(s,i,l)=>(((1-3*l+3*i)*s+(3*l-6*i))*s+3*i)*s,p6=1e-7,g6=12;function b6(s,i,l,u,f){let p,g,v=0;do g=i+(l-i)/2,p=yy(g,u,f)-s,p>0?l=g:i=g;while(Math.abs(p)>p6&&++v<g6);return g}function fc(s,i,l,u){if(s===i&&l===u)return Na;const f=p=>b6(p,0,1,s,l);return p=>p===0||p===1?p:yy(f(p),i,u)}const wy=s=>i=>i<=.5?s(2*i)/2:(2-s(2*(1-i)))/2,vy=s=>i=>1-s(1-i),Ny=fc(.33,1.53,.69,.99),im=vy(Ny),Cy=wy(im),Sy=s=>(s*=2)<1?.5*im(s):.5*(2-Math.pow(2,-10*(s-1))),rm=s=>1-Math.sin(Math.acos(s)),jy=vy(rm),Ey=wy(rm),y6=fc(.42,0,1,1),w6=fc(0,0,.58,1),Ay=fc(.42,0,.58,1),v6=s=>Array.isArray(s)&&typeof s[0]!="number",_y=s=>Array.isArray(s)&&typeof s[0]=="number",N6={linear:Na,easeIn:y6,easeInOut:Ay,easeOut:w6,circIn:rm,circInOut:Ey,circOut:jy,backIn:im,backInOut:Cy,backOut:Ny,anticipate:Sy},C6=s=>typeof s=="string",pg=s=>{if(_y(s)){nm(s.length===4);const[i,l,u,f]=s;return fc(i,l,u,f)}else if(C6(s))return N6[s];return s},Bu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function S6(s,i){let l=new Set,u=new Set,f=!1,p=!1;const g=new WeakSet;let v={delta:0,timestamp:0,isProcessing:!1};function S(A){g.has(A)&&(w.schedule(A),s()),A(v)}const w={schedule:(A,j=!1,T=!1)=>{const B=T&&f?l:u;return j&&g.add(A),B.has(A)||B.add(A),A},cancel:A=>{u.delete(A),g.delete(A)},process:A=>{if(v=A,f){p=!0;return}f=!0,[l,u]=[u,l],l.forEach(S),l.clear(),f=!1,p&&(p=!1,w.process(A))}};return w}const j6=40;function Ty(s,i){let l=!1,u=!0;const f={delta:0,timestamp:0,isProcessing:!1},p=()=>l=!0,g=Bu.reduce((L,W)=>(L[W]=S6(p),L),{}),{setup:v,read:S,resolveKeyframes:w,preUpdate:A,update:j,preRender:T,render:R,postRender:B}=g,D=()=>{const L=Fi.useManualTiming?f.timestamp:performance.now();l=!1,Fi.useManualTiming||(f.delta=u?1e3/60:Math.max(Math.min(L-f.timestamp,j6),1)),f.timestamp=L,f.isProcessing=!0,v.process(f),S.process(f),w.process(f),A.process(f),j.process(f),T.process(f),R.process(f),B.process(f),f.isProcessing=!1,l&&i&&(u=!1,s(D))},$=()=>{l=!0,u=!0,f.isProcessing||s(D)};return{schedule:Bu.reduce((L,W)=>{const de=g[W];return L[W]=(ae,X=!1,ue=!1)=>(l||$(),de.schedule(ae,X,ue)),L},{}),cancel:L=>{for(let W=0;W<Bu.length;W++)g[Bu[W]].cancel(L)},state:f,steps:g}}const{schedule:kn,cancel:pr,state:Ns,steps:kf}=Ty(typeof requestAnimationFrame<"u"?requestAnimationFrame:Na,!0);let $u;function E6(){$u=void 0}const Is={now:()=>($u===void 0&&Is.set(Ns.isProcessing||Fi.useManualTiming?Ns.timestamp:performance.now()),$u),set:s=>{$u=s,queueMicrotask(E6)}},ky=s=>i=>typeof i=="string"&&i.startsWith(s),Fy=ky("--"),A6=ky("var(--"),lm=s=>A6(s)?_6.test(s.split("/*")[0].trim()):!1,_6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function gg(s){return typeof s!="string"?!1:s.split("/*")[0].includes("var(--")}const ql={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},ac={...ql,transform:s=>Ja(0,1,s)},Du={...ql,default:1},Zo=s=>Math.round(s*1e5)/1e5,om=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function T6(s){return s==null}const k6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cm=(s,i)=>l=>!!(typeof l=="string"&&k6.test(l)&&l.startsWith(s)||i&&!T6(l)&&Object.prototype.hasOwnProperty.call(l,i)),Ry=(s,i,l)=>u=>{if(typeof u!="string")return u;const[f,p,g,v]=u.match(om);return{[s]:parseFloat(f),[i]:parseFloat(p),[l]:parseFloat(g),alpha:v!==void 0?parseFloat(v):1}},F6=s=>Ja(0,255,s),Ff={...ql,transform:s=>Math.round(F6(s))},Vr={test:cm("rgb","red"),parse:Ry("red","green","blue"),transform:({red:s,green:i,blue:l,alpha:u=1})=>"rgba("+Ff.transform(s)+", "+Ff.transform(i)+", "+Ff.transform(l)+", "+Zo(ac.transform(u))+")"};function R6(s){let i="",l="",u="",f="";return s.length>5?(i=s.substring(1,3),l=s.substring(3,5),u=s.substring(5,7),f=s.substring(7,9)):(i=s.substring(1,2),l=s.substring(2,3),u=s.substring(3,4),f=s.substring(4,5),i+=i,l+=l,u+=u,f+=f),{red:parseInt(i,16),green:parseInt(l,16),blue:parseInt(u,16),alpha:f?parseInt(f,16)/255:1}}const C0={test:cm("#"),parse:R6,transform:Vr.transform},mc=s=>({test:i=>typeof i=="string"&&i.endsWith(s)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${s}`}),mr=mc("deg"),Za=mc("%"),st=mc("px"),O6=mc("vh"),B6=mc("vw"),bg={...Za,parse:s=>Za.parse(s)/100,transform:s=>Za.transform(s*100)},Ol={test:cm("hsl","hue"),parse:Ry("hue","saturation","lightness"),transform:({hue:s,saturation:i,lightness:l,alpha:u=1})=>"hsla("+Math.round(s)+", "+Za.transform(Zo(i))+", "+Za.transform(Zo(l))+", "+Zo(ac.transform(u))+")"},is={test:s=>Vr.test(s)||C0.test(s)||Ol.test(s),parse:s=>Vr.test(s)?Vr.parse(s):Ol.test(s)?Ol.parse(s):C0.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?Vr.transform(s):Ol.transform(s),getAnimatableNone:s=>{const i=is.parse(s);return i.alpha=0,is.transform(i)}},D6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M6(s){return isNaN(s)&&typeof s=="string"&&(s.match(om)?.length||0)+(s.match(D6)?.length||0)>0}const Oy="number",By="color",I6="var",L6="var(",yg="${}",P6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ic(s){const i=s.toString(),l=[],u={color:[],number:[],var:[]},f=[];let p=0;const v=i.replace(P6,S=>(is.test(S)?(u.color.push(p),f.push(By),l.push(is.parse(S))):S.startsWith(L6)?(u.var.push(p),f.push(I6),l.push(S)):(u.number.push(p),f.push(Oy),l.push(parseFloat(S))),++p,yg)).split(yg);return{values:l,split:v,indexes:u,types:f}}function Dy(s){return ic(s).values}function My(s){const{split:i,types:l}=ic(s),u=i.length;return f=>{let p="";for(let g=0;g<u;g++)if(p+=i[g],f[g]!==void 0){const v=l[g];v===Oy?p+=Zo(f[g]):v===By?p+=is.transform(f[g]):p+=f[g]}return p}}const $6=s=>typeof s=="number"?0:is.test(s)?is.getAnimatableNone(s):s;function z6(s){const i=Dy(s);return My(s)(i.map($6))}const gr={test:M6,parse:Dy,createTransformer:My,getAnimatableNone:z6};function Rf(s,i,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?s+(i-s)*6*l:l<1/2?i:l<2/3?s+(i-s)*(2/3-l)*6:s}function U6({hue:s,saturation:i,lightness:l,alpha:u}){s/=360,i/=100,l/=100;let f=0,p=0,g=0;if(!i)f=p=g=l;else{const v=l<.5?l*(1+i):l+i-l*i,S=2*l-v;f=Rf(S,v,s+1/3),p=Rf(S,v,s),g=Rf(S,v,s-1/3)}return{red:Math.round(f*255),green:Math.round(p*255),blue:Math.round(g*255),alpha:u}}function Zu(s,i){return l=>l>0?i:s}const Ln=(s,i,l)=>s+(i-s)*l,Of=(s,i,l)=>{const u=s*s,f=l*(i*i-u)+u;return f<0?0:Math.sqrt(f)},V6=[C0,Vr,Ol],H6=s=>V6.find(i=>i.test(s));function wg(s){const i=H6(s);if(!i)return!1;let l=i.parse(s);return i===Ol&&(l=U6(l)),l}const vg=(s,i)=>{const l=wg(s),u=wg(i);if(!l||!u)return Zu(s,i);const f={...l};return p=>(f.red=Of(l.red,u.red,p),f.green=Of(l.green,u.green,p),f.blue=Of(l.blue,u.blue,p),f.alpha=Ln(l.alpha,u.alpha,p),Vr.transform(f))},S0=new Set(["none","hidden"]);function G6(s,i){return S0.has(s)?l=>l<=0?s:i:l=>l>=1?i:s}function q6(s,i){return l=>Ln(s,i,l)}function um(s){return typeof s=="number"?q6:typeof s=="string"?lm(s)?Zu:is.test(s)?vg:W6:Array.isArray(s)?Iy:typeof s=="object"?is.test(s)?vg:X6:Zu}function Iy(s,i){const l=[...s],u=l.length,f=s.map((p,g)=>um(p)(p,i[g]));return p=>{for(let g=0;g<u;g++)l[g]=f[g](p);return l}}function X6(s,i){const l={...s,...i},u={};for(const f in l)s[f]!==void 0&&i[f]!==void 0&&(u[f]=um(s[f])(s[f],i[f]));return f=>{for(const p in u)l[p]=u[p](f);return l}}function Y6(s,i){const l=[],u={color:0,var:0,number:0};for(let f=0;f<i.values.length;f++){const p=i.types[f],g=s.indexes[p][u[p]],v=s.values[g]??0;l[f]=v,u[p]++}return l}const W6=(s,i)=>{const l=gr.createTransformer(i),u=ic(s),f=ic(i);return u.indexes.var.length===f.indexes.var.length&&u.indexes.color.length===f.indexes.color.length&&u.indexes.number.length>=f.indexes.number.length?S0.has(s)&&!f.values.length||S0.has(i)&&!u.values.length?G6(s,i):hc(Iy(Y6(u,f),f.values),l):Zu(s,i)};function Ly(s,i,l){return typeof s=="number"&&typeof i=="number"&&typeof l=="number"?Ln(s,i,l):um(s)(s,i)}const K6=s=>{const i=({timestamp:l})=>s(l);return{start:(l=!0)=>kn.update(i,l),stop:()=>pr(i),now:()=>Ns.isProcessing?Ns.timestamp:Is.now()}},Py=(s,i,l=10)=>{let u="";const f=Math.max(Math.round(i/l),2);for(let p=0;p<f;p++)u+=Math.round(s(p/(f-1))*1e4)/1e4+", ";return`linear(${u.substring(0,u.length-2)})`},Qu=2e4;function dm(s){let i=0;const l=50;let u=s.next(i);for(;!u.done&&i<Qu;)i+=l,u=s.next(i);return i>=Qu?1/0:i}function Z6(s,i=100,l){const u=l({...s,keyframes:[0,i]}),f=Math.min(dm(u),Qu);return{type:"keyframes",ease:p=>u.next(f*p).value/i,duration:va(f)}}const Q6=5;function $y(s,i,l){const u=Math.max(i-Q6,0);return by(l-s(u),i-u)}const Gn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bf=.001;function J6({duration:s=Gn.duration,bounce:i=Gn.bounce,velocity:l=Gn.velocity,mass:u=Gn.mass}){let f,p,g=1-i;g=Ja(Gn.minDamping,Gn.maxDamping,g),s=Ja(Gn.minDuration,Gn.maxDuration,va(s)),g<1?(f=w=>{const A=w*g,j=A*s,T=A-l,R=j0(w,g),B=Math.exp(-j);return Bf-T/R*B},p=w=>{const j=w*g*s,T=j*l+l,R=Math.pow(g,2)*Math.pow(w,2)*s,B=Math.exp(-j),D=j0(Math.pow(w,2),g);return(-f(w)+Bf>0?-1:1)*((T-R)*B)/D}):(f=w=>{const A=Math.exp(-w*s),j=(w-l)*s+1;return-Bf+A*j},p=w=>{const A=Math.exp(-w*s),j=(l-w)*(s*s);return A*j});const v=5/s,S=tC(f,p,v);if(s=Ti(s),isNaN(S))return{stiffness:Gn.stiffness,damping:Gn.damping,duration:s};{const w=Math.pow(S,2)*u;return{stiffness:w,damping:g*2*Math.sqrt(u*w),duration:s}}}const eC=12;function tC(s,i,l){let u=l;for(let f=1;f<eC;f++)u=u-s(u)/i(u);return u}function j0(s,i){return s*Math.sqrt(1-i*i)}const nC=["duration","bounce"],sC=["stiffness","damping","mass"];function Ng(s,i){return i.some(l=>s[l]!==void 0)}function aC(s){let i={velocity:Gn.velocity,stiffness:Gn.stiffness,damping:Gn.damping,mass:Gn.mass,isResolvedFromDuration:!1,...s};if(!Ng(s,sC)&&Ng(s,nC))if(s.visualDuration){const l=s.visualDuration,u=2*Math.PI/(l*1.2),f=u*u,p=2*Ja(.05,1,1-(s.bounce||0))*Math.sqrt(f);i={...i,mass:Gn.mass,stiffness:f,damping:p}}else{const l=J6(s);i={...i,...l,mass:Gn.mass},i.isResolvedFromDuration=!0}return i}function Ju(s=Gn.visualDuration,i=Gn.bounce){const l=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:i}:s;let{restSpeed:u,restDelta:f}=l;const p=l.keyframes[0],g=l.keyframes[l.keyframes.length-1],v={done:!1,value:p},{stiffness:S,damping:w,mass:A,duration:j,velocity:T,isResolvedFromDuration:R}=aC({...l,velocity:-va(l.velocity||0)}),B=T||0,D=w/(2*Math.sqrt(S*A)),$=g-p,P=va(Math.sqrt(S/A)),O=Math.abs($)<5;u||(u=O?Gn.restSpeed.granular:Gn.restSpeed.default),f||(f=O?Gn.restDelta.granular:Gn.restDelta.default);let L;if(D<1){const de=j0(P,D);L=ae=>{const X=Math.exp(-D*P*ae);return g-X*((B+D*P*$)/de*Math.sin(de*ae)+$*Math.cos(de*ae))}}else if(D===1)L=de=>g-Math.exp(-P*de)*($+(B+P*$)*de);else{const de=P*Math.sqrt(D*D-1);L=ae=>{const X=Math.exp(-D*P*ae),ue=Math.min(de*ae,300);return g-X*((B+D*P*$)*Math.sinh(ue)+de*$*Math.cosh(ue))/de}}const W={calculatedDuration:R&&j||null,next:de=>{const ae=L(de);if(R)v.done=de>=j;else{let X=de===0?B:0;D<1&&(X=de===0?Ti(B):$y(L,de,ae));const ue=Math.abs(X)<=u,q=Math.abs(g-ae)<=f;v.done=ue&&q}return v.value=v.done?g:ae,v},toString:()=>{const de=Math.min(dm(W),Qu),ae=Py(X=>W.next(de*X).value,de,30);return de+"ms "+ae},toTransition:()=>{}};return W}Ju.applyToOptions=s=>{const i=Z6(s,100,Ju);return s.ease=i.ease,s.duration=Ti(i.duration),s.type="keyframes",s};function E0({keyframes:s,velocity:i=0,power:l=.8,timeConstant:u=325,bounceDamping:f=10,bounceStiffness:p=500,modifyTarget:g,min:v,max:S,restDelta:w=.5,restSpeed:A}){const j=s[0],T={done:!1,value:j},R=ue=>v!==void 0&&ue<v||S!==void 0&&ue>S,B=ue=>v===void 0?S:S===void 0||Math.abs(v-ue)<Math.abs(S-ue)?v:S;let D=l*i;const $=j+D,P=g===void 0?$:g($);P!==$&&(D=P-j);const O=ue=>-D*Math.exp(-ue/u),L=ue=>P+O(ue),W=ue=>{const q=O(ue),Y=L(ue);T.done=Math.abs(q)<=w,T.value=T.done?P:Y};let de,ae;const X=ue=>{R(T.value)&&(de=ue,ae=Ju({keyframes:[T.value,B(T.value)],velocity:$y(L,ue,T.value),damping:f,stiffness:p,restDelta:w,restSpeed:A}))};return X(0),{calculatedDuration:null,next:ue=>{let q=!1;return!ae&&de===void 0&&(q=!0,W(ue),X(ue)),de!==void 0&&ue>=de?ae.next(ue-de):(!q&&W(ue),T)}}}function iC(s,i,l){const u=[],f=l||Fi.mix||Ly,p=s.length-1;for(let g=0;g<p;g++){let v=f(s[g],s[g+1]);if(i){const S=Array.isArray(i)?i[g]||Na:i;v=hc(S,v)}u.push(v)}return u}function rC(s,i,{clamp:l=!0,ease:u,mixer:f}={}){const p=s.length;if(nm(p===i.length),p===1)return()=>i[0];if(p===2&&i[0]===i[1])return()=>i[1];const g=s[0]===s[1];s[0]>s[p-1]&&(s=[...s].reverse(),i=[...i].reverse());const v=iC(i,u,f),S=v.length,w=A=>{if(g&&A<s[0])return i[0];let j=0;if(S>1)for(;j<s.length-2&&!(A<s[j+1]);j++);const T=sc(s[j],s[j+1],A);return v[j](T)};return l?A=>w(Ja(s[0],s[p-1],A)):w}function lC(s,i){const l=s[s.length-1];for(let u=1;u<=i;u++){const f=sc(0,i,u);s.push(Ln(l,1,f))}}function oC(s){const i=[0];return lC(i,s.length-1),i}function cC(s,i){return s.map(l=>l*i)}function uC(s,i){return s.map(()=>i||Ay).splice(0,s.length-1)}function Qo({duration:s=300,keyframes:i,times:l,ease:u="easeInOut"}){const f=v6(u)?u.map(pg):pg(u),p={done:!1,value:i[0]},g=cC(l&&l.length===i.length?l:oC(i),s),v=rC(g,i,{ease:Array.isArray(f)?f:uC(i,f)});return{calculatedDuration:s,next:S=>(p.value=v(S),p.done=S>=s,p)}}const dC=s=>s!==null;function hm(s,{repeat:i,repeatType:l="loop"},u,f=1){const p=s.filter(dC),v=f<0||i&&l!=="loop"&&i%2===1?0:p.length-1;return!v||u===void 0?p[v]:u}const hC={decay:E0,inertia:E0,tween:Qo,keyframes:Qo,spring:Ju};function zy(s){typeof s.type=="string"&&(s.type=hC[s.type])}class fm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,l){return this.finished.then(i,l)}}const fC=s=>s/100;class mm extends fm{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:l}=this.options;l&&l.updatedAt!==Is.now()&&this.tick(Is.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;zy(i);const{type:l=Qo,repeat:u=0,repeatDelay:f=0,repeatType:p,velocity:g=0}=i;let{keyframes:v}=i;const S=l||Qo;S!==Qo&&typeof v[0]!="number"&&(this.mixKeyframes=hc(fC,Ly(v[0],v[1])),v=[0,100]);const w=S({...i,keyframes:v});p==="mirror"&&(this.mirroredGenerator=S({...i,keyframes:[...v].reverse(),velocity:-g})),w.calculatedDuration===null&&(w.calculatedDuration=dm(w));const{calculatedDuration:A}=w;this.calculatedDuration=A,this.resolvedDuration=A+f,this.totalDuration=this.resolvedDuration*(u+1)-f,this.generator=w}updateTime(i){const l=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(i,l=!1){const{generator:u,totalDuration:f,mixKeyframes:p,mirroredGenerator:g,resolvedDuration:v,calculatedDuration:S}=this;if(this.startTime===null)return u.next(0);const{delay:w=0,keyframes:A,repeat:j,repeatType:T,repeatDelay:R,type:B,onUpdate:D,finalKeyframe:$}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-f/this.speed,this.startTime)),l?this.currentTime=i:this.updateTime(i);const P=this.currentTime-w*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?P<0:P>f;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let L=this.currentTime,W=u;if(j){const ue=Math.min(this.currentTime,f)/v;let q=Math.floor(ue),Y=ue%1;!Y&&ue>=1&&(Y=1),Y===1&&q--,q=Math.min(q,j+1),q%2&&(T==="reverse"?(Y=1-Y,R&&(Y-=R/v)):T==="mirror"&&(W=g)),L=Ja(0,1,Y)*v}const de=O?{done:!1,value:A[0]}:W.next(L);p&&(de.value=p(de.value));let{done:ae}=de;!O&&S!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=f:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return X&&B!==E0&&(de.value=hm(A,this.options,$,this.speed)),D&&D(de.value),X&&this.finish(),de}then(i,l){return this.finished.then(i,l)}get duration(){return va(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+va(i)}get time(){return va(this.currentTime)}set time(i){i=Ti(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Is.now());const l=this.playbackSpeed!==i;this.playbackSpeed=i,l&&(this.time=va(this.currentTime))}play(){if(this.isStopped)return;const{driver:i=K6,startTime:l}=this.options;this.driver||(this.driver=i(f=>this.tick(f))),this.options.onPlay?.();const u=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=u):this.holdTime!==null?this.startTime=u-this.holdTime:this.startTime||(this.startTime=l??u),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Is.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),i.observe(this)}}function mC(s){for(let i=1;i<s.length;i++)s[i]??(s[i]=s[i-1])}const Hr=s=>s*180/Math.PI,A0=s=>{const i=Hr(Math.atan2(s[1],s[0]));return _0(i)},xC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:A0,rotateZ:A0,skewX:s=>Hr(Math.atan(s[1])),skewY:s=>Hr(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},_0=s=>(s=s%360,s<0&&(s+=360),s),Cg=A0,Sg=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),jg=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),pC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sg,scaleY:jg,scale:s=>(Sg(s)+jg(s))/2,rotateX:s=>_0(Hr(Math.atan2(s[6],s[5]))),rotateY:s=>_0(Hr(Math.atan2(-s[2],s[0]))),rotateZ:Cg,rotate:Cg,skewX:s=>Hr(Math.atan(s[4])),skewY:s=>Hr(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function T0(s){return s.includes("scale")?1:0}function k0(s,i){if(!s||s==="none")return T0(i);const l=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let u,f;if(l)u=pC,f=l;else{const v=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);u=xC,f=v}if(!f)return T0(i);const p=u[i],g=f[1].split(",").map(bC);return typeof p=="function"?p(g):g[p]}const gC=(s,i)=>{const{transform:l="none"}=getComputedStyle(s);return k0(l,i)};function bC(s){return parseFloat(s.trim())}const Xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(Xl),Eg=s=>s===ql||s===st,yC=new Set(["x","y","z"]),wC=Xl.filter(s=>!yC.has(s));function vC(s){const i=[];return wC.forEach(l=>{const u=s.getValue(l);u!==void 0&&(i.push([l,u.get()]),u.set(l.startsWith("scale")?1:0))}),i}const xr={width:({x:s},{paddingLeft:i="0",paddingRight:l="0"})=>s.max-s.min-parseFloat(i)-parseFloat(l),height:({y:s},{paddingTop:i="0",paddingBottom:l="0"})=>s.max-s.min-parseFloat(i)-parseFloat(l),top:(s,{top:i})=>parseFloat(i),left:(s,{left:i})=>parseFloat(i),bottom:({y:s},{top:i})=>parseFloat(i)+(s.max-s.min),right:({x:s},{left:i})=>parseFloat(i)+(s.max-s.min),x:(s,{transform:i})=>k0(i,"x"),y:(s,{transform:i})=>k0(i,"y")};xr.translateX=xr.x;xr.translateY=xr.y;const Gr=new Set;let F0=!1,R0=!1,O0=!1;function Uy(){if(R0){const s=Array.from(Gr).filter(u=>u.needsMeasurement),i=new Set(s.map(u=>u.element)),l=new Map;i.forEach(u=>{const f=vC(u);f.length&&(l.set(u,f),u.render())}),s.forEach(u=>u.measureInitialState()),i.forEach(u=>{u.render();const f=l.get(u);f&&f.forEach(([p,g])=>{u.getValue(p)?.set(g)})}),s.forEach(u=>u.measureEndState()),s.forEach(u=>{u.suspendedScrollY!==void 0&&window.scrollTo(0,u.suspendedScrollY)})}R0=!1,F0=!1,Gr.forEach(s=>s.complete(O0)),Gr.clear()}function Vy(){Gr.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(R0=!0)})}function NC(){O0=!0,Vy(),Uy(),O0=!1}class xm{constructor(i,l,u,f,p,g=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=l,this.name=u,this.motionValue=f,this.element=p,this.isAsync=g}scheduleResolve(){this.state="scheduled",this.isAsync?(Gr.add(this),F0||(F0=!0,kn.read(Vy),kn.resolveKeyframes(Uy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:l,element:u,motionValue:f}=this;if(i[0]===null){const p=f?.get(),g=i[i.length-1];if(p!==void 0)i[0]=p;else if(u&&l){const v=u.readValue(l,g);v!=null&&(i[0]=v)}i[0]===void 0&&(i[0]=g),f&&p===void 0&&f.set(i[0])}mC(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),Gr.delete(this)}cancel(){this.state==="scheduled"&&(Gr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CC=s=>s.startsWith("--");function SC(s,i,l){CC(i)?s.style.setProperty(i,l):s.style[i]=l}const jC=sm(()=>window.ScrollTimeline!==void 0),EC={};function AC(s,i){const l=sm(s);return()=>EC[i]??l()}const Hy=AC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Go=([s,i,l,u])=>`cubic-bezier(${s}, ${i}, ${l}, ${u})`,Ag={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Go([0,.65,.55,1]),circOut:Go([.55,0,1,.45]),backIn:Go([.31,.01,.66,-.59]),backOut:Go([.33,1.53,.69,.99])};function Gy(s,i){if(s)return typeof s=="function"?Hy()?Py(s,i):"ease-out":_y(s)?Go(s):Array.isArray(s)?s.map(l=>Gy(l,i)||Ag.easeOut):Ag[s]}function _C(s,i,l,{delay:u=0,duration:f=300,repeat:p=0,repeatType:g="loop",ease:v="easeOut",times:S}={},w=void 0){const A={[i]:l};S&&(A.offset=S);const j=Gy(v,f);Array.isArray(j)&&(A.easing=j);const T={delay:u,duration:f,easing:Array.isArray(j)?"linear":j,fill:"both",iterations:p+1,direction:g==="reverse"?"alternate":"normal"};return w&&(T.pseudoElement=w),s.animate(A,T)}function qy(s){return typeof s=="function"&&"applyToOptions"in s}function TC({type:s,...i}){return qy(s)&&Hy()?s.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class kC extends fm{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!i)return;const{element:l,name:u,keyframes:f,pseudoElement:p,allowFlatten:g=!1,finalKeyframe:v,onComplete:S}=i;this.isPseudoElement=!!p,this.allowFlatten=g,this.options=i,nm(typeof i.type!="string");const w=TC(i);this.animation=_C(l,u,f,w,p),w.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!p){const A=hm(f,this.options,v,this.speed);this.updateMotionValue?this.updateMotionValue(A):SC(l,u,A),this.animation.cancel()}S?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const i=this.animation.effect?.getComputedTiming?.().duration||0;return va(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+va(i)}get time(){return va(Number(this.animation.currentTime)||0)}set time(i){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ti(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(i){this.manualStartTime=this.animation.startTime=i}attachTimeline({timeline:i,observe:l}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,i&&jC()?(this.animation.timeline=i,Na):l(this)}}const Xy={anticipate:Sy,backInOut:Cy,circInOut:Ey};function FC(s){return s in Xy}function RC(s){typeof s.ease=="string"&&FC(s.ease)&&(s.ease=Xy[s.ease])}const Df=10;class OC extends kC{constructor(i){RC(i),zy(i),super(i),i.startTime!==void 0&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:l,onUpdate:u,onComplete:f,element:p,...g}=this.options;if(!l)return;if(i!==void 0){l.set(i);return}const v=new mm({...g,autoplay:!1}),S=Math.max(Df,Is.now()-this.startTime),w=Ja(0,Df,S-Df);l.setWithVelocity(v.sample(Math.max(0,S-w)).value,v.sample(S).value,w),v.stop()}}const _g=(s,i)=>i==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(gr.test(s)||s==="0")&&!s.startsWith("url("));function BC(s){const i=s[0];if(s.length===1)return!0;for(let l=0;l<s.length;l++)if(s[l]!==i)return!0}function DC(s,i,l,u){const f=s[0];if(f===null)return!1;if(i==="display"||i==="visibility")return!0;const p=s[s.length-1],g=_g(f,i),v=_g(p,i);return!g||!v?!1:BC(s)||(l==="spring"||qy(l))&&u}function B0(s){s.duration=0,s.type="keyframes"}const MC=new Set(["opacity","clipPath","filter","transform"]),IC=sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LC(s){const{motionValue:i,name:l,repeatDelay:u,repeatType:f,damping:p,type:g}=s;if(!(i?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:S,transformTemplate:w}=i.owner.getProps();return IC()&&l&&MC.has(l)&&(l!=="transform"||!w)&&!S&&!u&&f!=="mirror"&&p!==0&&g!=="inertia"}const PC=40;class $C extends fm{constructor({autoplay:i=!0,delay:l=0,type:u="keyframes",repeat:f=0,repeatDelay:p=0,repeatType:g="loop",keyframes:v,name:S,motionValue:w,element:A,...j}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Is.now();const T={autoplay:i,delay:l,type:u,repeat:f,repeatDelay:p,repeatType:g,name:S,motionValue:w,element:A,...j},R=A?.KeyframeResolver||xm;this.keyframeResolver=new R(v,(B,D,$)=>this.onKeyframesResolved(B,D,T,!$),S,w,A),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(i,l,u,f){this.keyframeResolver=void 0;const{name:p,type:g,velocity:v,delay:S,isHandoff:w,onUpdate:A}=u;this.resolvedAt=Is.now(),DC(i,p,g,v)||((Fi.instantAnimations||!S)&&A?.(hm(i,u,l)),i[0]=i[i.length-1],B0(u),u.repeat=0);const T={startTime:f?this.resolvedAt?this.resolvedAt-this.createdAt>PC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...u,keyframes:i},R=!w&&LC(T)?new OC({...T,element:T.motionValue.owner.current}):new mm(T);R.finished.then(()=>this.notifyFinished()).catch(Na),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(i,l){return this.finished.finally(i).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),NC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const zC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UC(s){const i=zC.exec(s);if(!i)return[,];const[,l,u,f]=i;return[`--${l??u}`,f]}function Yy(s,i,l=1){const[u,f]=UC(s);if(!u)return;const p=window.getComputedStyle(i).getPropertyValue(u);if(p){const g=p.trim();return xy(g)?parseFloat(g):g}return lm(f)?Yy(f,i,l+1):f}function pm(s,i){return s?.[i]??s?.default??s}const VC={type:"spring",stiffness:500,damping:25,restSpeed:10},HC=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),GC={type:"keyframes",duration:.8},qC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XC=(s,{keyframes:i})=>i.length>2?GC:Yl.has(s)?s.startsWith("scale")?HC(i[1]):VC:qC;function YC({when:s,delay:i,delayChildren:l,staggerChildren:u,staggerDirection:f,repeat:p,repeatType:g,repeatDelay:v,from:S,elapsed:w,...A}){return!!Object.keys(A).length}const WC=s=>s!==null;function KC(s,{repeat:i,repeatType:l="loop"},u){const f=s.filter(WC),p=i&&l!=="loop"&&i%2===1?0:f.length-1;return f[p]}function Wy(s,i,l,u=0,f=1){const p=Array.from(s).sort((w,A)=>w.sortNodePosition(A)).indexOf(i),g=s.size,v=(g-1)*u;return typeof l=="function"?l(p,g):f===1?p*u:v-p*u}const gm=(s,i,l,u={},f,p)=>g=>{const v=pm(u,s)||{},S=v.delay||u.delay||0;let{elapsed:w=0}=u;w=w-Ti(S);const A={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:i.getVelocity(),...v,delay:-w,onUpdate:T=>{i.set(T),v.onUpdate&&v.onUpdate(T)},onComplete:()=>{g(),v.onComplete&&v.onComplete()},name:s,motionValue:i,element:p?void 0:f};YC(v)||Object.assign(A,XC(s,A)),A.duration&&(A.duration=Ti(A.duration)),A.repeatDelay&&(A.repeatDelay=Ti(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let j=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(B0(A),A.delay===0&&(j=!0)),(Fi.instantAnimations||Fi.skipAnimations)&&(j=!0,B0(A),A.delay=0),A.allowFlatten=!v.type&&!v.ease,j&&!p&&i.get()!==void 0){const T=KC(A.keyframes,v);if(T!==void 0){kn.update(()=>{A.onUpdate(T),A.onComplete()});return}}return v.isSync?new mm(A):new $C(A)},Ky=new Set(["width","height","top","left","right","bottom",...Xl]),Tg=30,ZC=s=>!isNaN(parseFloat(s));class QC{constructor(i,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=u=>{const f=Is.now();if(this.updatedAt!==f&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(u),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const p of this.dependents)p.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=l.owner}setCurrent(i){this.current=i,this.updatedAt=Is.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=ZC(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,l){this.events[i]||(this.events[i]=new am);const u=this.events[i].add(l);return i==="change"?()=>{u(),kn.read(()=>{this.events.change.getSize()||this.stop()})}:u}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,l){this.passiveEffect=i,this.stopPassiveEffect=l}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,l,u){this.set(l),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-u}jump(i,l=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Is.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>Tg)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,Tg);return by(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(i){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=i(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $l(s,i){return new QC(s,i)}function kg(s){const i=[{},{}];return s?.values.forEach((l,u)=>{i[0][u]=l.get(),i[1][u]=l.getVelocity()}),i}function bm(s,i,l,u){if(typeof i=="function"){const[f,p]=kg(u);i=i(l!==void 0?l:s.custom,f,p)}if(typeof i=="string"&&(i=s.variants&&s.variants[i]),typeof i=="function"){const[f,p]=kg(u);i=i(l!==void 0?l:s.custom,f,p)}return i}function Ll(s,i,l){const u=s.getProps();return bm(u,i,l!==void 0?l:u.custom,s)}const D0=s=>Array.isArray(s);function JC(s,i,l){s.hasValue(i)?s.getValue(i).set(l):s.addValue(i,$l(l))}function eS(s){return D0(s)?s[s.length-1]||0:s}function tS(s,i){const l=Ll(s,i);let{transitionEnd:u={},transition:f={},...p}=l||{};p={...p,...u};for(const g in p){const v=eS(p[g]);JC(s,g,v)}}const Ts=s=>!!(s&&s.getVelocity);function nS(s){return!!(Ts(s)&&s.add)}function M0(s,i){const l=s.getValue("willChange");if(nS(l))return l.add(i);if(!l&&Fi.WillChange){const u=new Fi.WillChange("auto");s.addValue("willChange",u),u.add(i)}}function ym(s){return s.replace(/([A-Z])/g,i=>`-${i.toLowerCase()}`)}const sS="framerAppearId",Zy="data-"+ym(sS);function Qy(s){return s.props[Zy]}function aS({protectedKeys:s,needsAnimating:i},l){const u=s.hasOwnProperty(l)&&i[l]!==!0;return i[l]=!1,u}function Jy(s,i,{delay:l=0,transitionOverride:u,type:f}={}){let{transition:p=s.getDefaultTransition(),transitionEnd:g,...v}=i;u&&(p=u);const S=[],w=f&&s.animationState&&s.animationState.getState()[f];for(const A in v){const j=s.getValue(A,s.latestValues[A]??null),T=v[A];if(T===void 0||w&&aS(w,A))continue;const R={delay:l,...pm(p||{},A)},B=j.get();if(B!==void 0&&!j.isAnimating&&!Array.isArray(T)&&T===B&&!R.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const P=Qy(s);if(P){const O=window.MotionHandoffAnimation(P,A,kn);O!==null&&(R.startTime=O,D=!0)}}M0(s,A),j.start(gm(A,j,T,s.shouldReduceMotion&&Ky.has(A)?{type:!1}:R,s,D));const $=j.animation;$&&S.push($)}return g&&Promise.all(S).then(()=>{kn.update(()=>{g&&tS(s,g)})}),S}function I0(s,i,l={}){const u=Ll(s,i,l.type==="exit"?s.presenceContext?.custom:void 0);let{transition:f=s.getDefaultTransition()||{}}=u||{};l.transitionOverride&&(f=l.transitionOverride);const p=u?()=>Promise.all(Jy(s,u,l)):()=>Promise.resolve(),g=s.variantChildren&&s.variantChildren.size?(S=0)=>{const{delayChildren:w=0,staggerChildren:A,staggerDirection:j}=f;return iS(s,i,S,w,A,j,l)}:()=>Promise.resolve(),{when:v}=f;if(v){const[S,w]=v==="beforeChildren"?[p,g]:[g,p];return S().then(()=>w())}else return Promise.all([p(),g(l.delay)])}function iS(s,i,l=0,u=0,f=0,p=1,g){const v=[];for(const S of s.variantChildren)S.notify("AnimationStart",i),v.push(I0(S,i,{...g,delay:l+(typeof u=="function"?0:u)+Wy(s.variantChildren,S,u,f,p)}).then(()=>S.notify("AnimationComplete",i)));return Promise.all(v)}function rS(s,i,l={}){s.notify("AnimationStart",i);let u;if(Array.isArray(i)){const f=i.map(p=>I0(s,p,l));u=Promise.all(f)}else if(typeof i=="string")u=I0(s,i,l);else{const f=typeof i=="function"?Ll(s,i,l.custom):i;u=Promise.all(Jy(s,f,l))}return u.then(()=>{s.notify("AnimationComplete",i)})}const lS={test:s=>s==="auto",parse:s=>s},ew=s=>i=>i.test(s),tw=[ql,st,Za,mr,B6,O6,lS],Fg=s=>tw.find(ew(s));function oS(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||gy(s):!0}const cS=new Set(["brightness","contrast","saturate","opacity"]);function uS(s){const[i,l]=s.slice(0,-1).split("(");if(i==="drop-shadow")return s;const[u]=l.match(om)||[];if(!u)return s;const f=l.replace(u,"");let p=cS.has(i)?1:0;return u!==l&&(p*=100),i+"("+p+f+")"}const dS=/\b([a-z-]*)\(.*?\)/gu,L0={...gr,getAnimatableNone:s=>{const i=s.match(dS);return i?i.map(uS).join(" "):s}},Rg={...ql,transform:Math.round},hS={rotate:mr,rotateX:mr,rotateY:mr,rotateZ:mr,scale:Du,scaleX:Du,scaleY:Du,scaleZ:Du,skew:mr,skewX:mr,skewY:mr,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:ac,originX:bg,originY:bg,originZ:st},wm={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,inset:st,insetBlock:st,insetBlockStart:st,insetBlockEnd:st,insetInline:st,insetInlineStart:st,insetInlineEnd:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,paddingBlock:st,paddingBlockStart:st,paddingBlockEnd:st,paddingInline:st,paddingInlineStart:st,paddingInlineEnd:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,marginBlock:st,marginBlockStart:st,marginBlockEnd:st,marginInline:st,marginInlineStart:st,marginInlineEnd:st,backgroundPositionX:st,backgroundPositionY:st,...hS,zIndex:Rg,fillOpacity:ac,strokeOpacity:ac,numOctaves:Rg},fS={...wm,color:is,backgroundColor:is,outlineColor:is,fill:is,stroke:is,borderColor:is,borderTopColor:is,borderRightColor:is,borderBottomColor:is,borderLeftColor:is,filter:L0,WebkitFilter:L0},nw=s=>fS[s];function sw(s,i){let l=nw(s);return l!==L0&&(l=gr),l.getAnimatableNone?l.getAnimatableNone(i):void 0}const mS=new Set(["auto","none","0"]);function xS(s,i,l){let u=0,f;for(;u<s.length&&!f;){const p=s[u];typeof p=="string"&&!mS.has(p)&&ic(p).values.length&&(f=s[u]),u++}if(f&&l)for(const p of i)s[p]=sw(l,f)}class pS extends xm{constructor(i,l,u,f,p){super(i,l,u,f,p,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:l,name:u}=this;if(!l||!l.current)return;super.readKeyframes();for(let A=0;A<i.length;A++){let j=i[A];if(typeof j=="string"&&(j=j.trim(),lm(j))){const T=Yy(j,l.current);T!==void 0&&(i[A]=T),A===i.length-1&&(this.finalKeyframe=j)}}if(this.resolveNoneKeyframes(),!Ky.has(u)||i.length!==2)return;const[f,p]=i,g=Fg(f),v=Fg(p),S=gg(f),w=gg(p);if(S!==w&&xr[u]){this.needsMeasurement=!0;return}if(g!==v)if(Eg(g)&&Eg(v))for(let A=0;A<i.length;A++){const j=i[A];typeof j=="string"&&(i[A]=parseFloat(j))}else xr[u]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:l}=this,u=[];for(let f=0;f<i.length;f++)(i[f]===null||oS(i[f]))&&u.push(f);u.length&&xS(i,u,l)}measureInitialState(){const{element:i,unresolvedKeyframes:l,name:u}=this;if(!i||!i.current)return;u==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xr[u](i.measureViewportBox(),window.getComputedStyle(i.current)),l[0]=this.measuredOrigin;const f=l[l.length-1];f!==void 0&&i.getValue(u,f).jump(f,!1)}measureEndState(){const{element:i,name:l,unresolvedKeyframes:u}=this;if(!i||!i.current)return;const f=i.getValue(l);f&&f.jump(this.measuredOrigin,!1);const p=u.length-1,g=u[p];u[p]=xr[l](i.measureViewportBox(),window.getComputedStyle(i.current)),g!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=g),this.removedTransforms?.length&&this.removedTransforms.forEach(([v,S])=>{i.getValue(v).set(S)}),this.resolveNoneKeyframes()}}function gS(s,i,l){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let u=document;const f=l?.[s]??u.querySelectorAll(s);return f?Array.from(f):[]}return Array.from(s)}const aw=(s,i)=>i&&typeof s=="number"?i.transform(s):s;function iw(s){return py(s)&&"offsetHeight"in s}const{schedule:vm}=Ty(queueMicrotask,!1),Ia={x:!1,y:!1};function rw(){return Ia.x||Ia.y}function bS(s){return s==="x"||s==="y"?Ia[s]?null:(Ia[s]=!0,()=>{Ia[s]=!1}):Ia.x||Ia.y?null:(Ia.x=Ia.y=!0,()=>{Ia.x=Ia.y=!1})}function lw(s,i){const l=gS(s),u=new AbortController,f={passive:!0,...i,signal:u.signal};return[l,f,()=>u.abort()]}function Og(s){return!(s.pointerType==="touch"||rw())}function yS(s,i,l={}){const[u,f,p]=lw(s,l),g=v=>{if(!Og(v))return;const{target:S}=v,w=i(S,v);if(typeof w!="function"||!S)return;const A=j=>{Og(j)&&(w(j),S.removeEventListener("pointerleave",A))};S.addEventListener("pointerleave",A,f)};return u.forEach(v=>{v.addEventListener("pointerenter",g,f)}),p}const ow=(s,i)=>i?s===i?!0:ow(s,i.parentElement):!1,Nm=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,wS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cw(s){return wS.has(s.tagName)||s.isContentEditable===!0}const zu=new WeakSet;function Bg(s){return i=>{i.key==="Enter"&&s(i)}}function Mf(s,i){s.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const vS=(s,i)=>{const l=s.currentTarget;if(!l)return;const u=Bg(()=>{if(zu.has(l))return;Mf(l,"down");const f=Bg(()=>{Mf(l,"up")}),p=()=>Mf(l,"cancel");l.addEventListener("keyup",f,i),l.addEventListener("blur",p,i)});l.addEventListener("keydown",u,i),l.addEventListener("blur",()=>l.removeEventListener("keydown",u),i)};function Dg(s){return Nm(s)&&!rw()}function NS(s,i,l={}){const[u,f,p]=lw(s,l),g=v=>{const S=v.currentTarget;if(!Dg(v))return;zu.add(S);const w=i(S,v),A=(R,B)=>{window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",T),zu.has(S)&&zu.delete(S),Dg(R)&&typeof w=="function"&&w(R,{success:B})},j=R=>{A(R,S===window||S===document||l.useGlobalTarget||ow(S,R.target))},T=R=>{A(R,!1)};window.addEventListener("pointerup",j,f),window.addEventListener("pointercancel",T,f)};return u.forEach(v=>{(l.useGlobalTarget?window:v).addEventListener("pointerdown",g,f),iw(v)&&(v.addEventListener("focus",w=>vS(w,f)),!cw(v)&&!v.hasAttribute("tabindex")&&(v.tabIndex=0))}),p}function uw(s){return py(s)&&"ownerSVGElement"in s}function CS(s){return uw(s)&&s.tagName==="svg"}const SS=[...tw,is,gr],jS=s=>SS.find(ew(s)),Mg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bl=()=>({x:Mg(),y:Mg()}),Ig=()=>({min:0,max:0}),fs=()=>({x:Ig(),y:Ig()}),P0={current:null},dw={current:!1},ES=typeof window<"u";function AS(){if(dw.current=!0,!!ES)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),i=()=>P0.current=s.matches;s.addEventListener("change",i),i()}else P0.current=!1}const _S=new WeakMap;function xd(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function rc(s){return typeof s=="string"||Array.isArray(s)}const Cm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sm=["initial",...Cm];function pd(s){return xd(s.animate)||Sm.some(i=>rc(s[i]))}function hw(s){return!!(pd(s)||s.variants)}function TS(s,i,l){for(const u in i){const f=i[u],p=l[u];if(Ts(f))s.addValue(u,f);else if(Ts(p))s.addValue(u,$l(f,{owner:s}));else if(p!==f)if(s.hasValue(u)){const g=s.getValue(u);g.liveStyle===!0?g.jump(f):g.hasAnimated||g.set(f)}else{const g=s.getStaticValue(u);s.addValue(u,$l(g!==void 0?g:f,{owner:s}))}}for(const u in l)i[u]===void 0&&s.removeValue(u);return i}const Lg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ed={};function fw(s){ed=s}function kS(){return ed}class FS{scrapeMotionValuesFromProps(i,l,u){return{}}constructor({parent:i,props:l,presenceContext:u,reducedMotionConfig:f,blockInitialAnimation:p,visualState:g},v={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Is.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,kn.render(this.render,!1,!0))};const{latestValues:S,renderState:w}=g;this.latestValues=S,this.baseTarget={...S},this.initialValues=l.initial?{...S}:{},this.renderState=w,this.parent=i,this.props=l,this.presenceContext=u,this.depth=i?i.depth+1:0,this.reducedMotionConfig=f,this.options=v,this.blockInitialAnimation=!!p,this.isControllingVariants=pd(l),this.isVariantNode=hw(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:A,...j}=this.scrapeMotionValuesFromProps(l,{},this);for(const T in j){const R=j[T];S[T]!==void 0&&Ts(R)&&R.set(S[T])}}mount(i){this.current=i,_S.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,u)=>this.bindToMotionValue(u,l)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dw.current||AS(),this.shouldReduceMotion=P0.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const l=this.features[i];l&&(l.unmount(),l.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,l){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const u=Yl.has(i);u&&this.onBindTransform&&this.onBindTransform();const f=l.on("change",g=>{this.latestValues[i]=g,this.props.onUpdate&&kn.preRender(this.notifyUpdate),u&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let p;typeof window<"u"&&window.MotionCheckAppearSync&&(p=window.MotionCheckAppearSync(this,i,l)),this.valueSubscriptions.set(i,()=>{f(),p&&p(),l.owner&&l.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in ed){const l=ed[i];if(!l)continue;const{isEnabled:u,Feature:f}=l;if(!this.features[i]&&f&&u(this.props)&&(this.features[i]=new f(this)),this.features[i]){const p=this.features[i];p.isMounted?p.update():(p.mount(),p.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fs()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,l){this.latestValues[i]=l}update(i,l){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let u=0;u<Lg.length;u++){const f=Lg[u];this.propEventSubscriptions[f]&&(this.propEventSubscriptions[f](),delete this.propEventSubscriptions[f]);const p="on"+f,g=i[p];g&&(this.propEventSubscriptions[f]=this.on(f,g))}this.prevMotionValues=TS(this,this.scrapeMotionValuesFromProps(i,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(i),()=>l.variantChildren.delete(i)}addValue(i,l){const u=this.values.get(i);l!==u&&(u&&this.removeValue(i),this.bindToMotionValue(i,l),this.values.set(i,l),this.latestValues[i]=l.get())}removeValue(i){this.values.delete(i);const l=this.valueSubscriptions.get(i);l&&(l(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,l){if(this.props.values&&this.props.values[i])return this.props.values[i];let u=this.values.get(i);return u===void 0&&l!==void 0&&(u=$l(l===null?void 0:l,{owner:this}),this.addValue(i,u)),u}readValue(i,l){let u=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return u!=null&&(typeof u=="string"&&(xy(u)||gy(u))?u=parseFloat(u):!jS(u)&&gr.test(l)&&(u=sw(i,l)),this.setBaseTarget(i,Ts(u)?u.get():u)),Ts(u)?u.get():u}setBaseTarget(i,l){this.baseTarget[i]=l}getBaseTarget(i){const{initial:l}=this.props;let u;if(typeof l=="string"||typeof l=="object"){const p=bm(this.props,l,this.presenceContext?.custom);p&&(u=p[i])}if(l&&u!==void 0)return u;const f=this.getBaseTargetFromProps(this.props,i);return f!==void 0&&!Ts(f)?f:this.initialValues[i]!==void 0&&u===void 0?void 0:this.baseTarget[i]}on(i,l){return this.events[i]||(this.events[i]=new am),this.events[i].add(l)}notify(i,...l){this.events[i]&&this.events[i].notify(...l)}scheduleRenderMicrotask(){vm.render(this.render)}}class br{constructor(i){this.isMounted=!1,this.node=i}update(){}}class mw extends FS{constructor(){super(...arguments),this.KeyframeResolver=pS}sortInstanceNodePosition(i,l){return i.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(i,l){const u=i.style;return u?u[l]:void 0}removeValueFromRenderState(i,{vars:l,style:u}){delete l[i],delete u[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Ts(i)&&(this.childSubscription=i.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function xw({top:s,left:i,right:l,bottom:u}){return{x:{min:i,max:l},y:{min:s,max:u}}}function RS({x:s,y:i}){return{top:i.min,right:s.max,bottom:i.max,left:s.min}}function OS(s,i){if(!i)return s;const l=i({x:s.left,y:s.top}),u=i({x:s.right,y:s.bottom});return{top:l.y,left:l.x,bottom:u.y,right:u.x}}function If(s){return s===void 0||s===1}function $0({scale:s,scaleX:i,scaleY:l}){return!If(s)||!If(i)||!If(l)}function Ur(s){return $0(s)||pw(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function pw(s){return Pg(s.x)||Pg(s.y)}function Pg(s){return s&&s!=="0%"}function td(s,i,l){const u=s-l,f=i*u;return l+f}function $g(s,i,l,u,f){return f!==void 0&&(s=td(s,f,u)),td(s,l,u)+i}function z0(s,i=0,l=1,u,f){s.min=$g(s.min,i,l,u,f),s.max=$g(s.max,i,l,u,f)}function gw(s,{x:i,y:l}){z0(s.x,i.translate,i.scale,i.originPoint),z0(s.y,l.translate,l.scale,l.originPoint)}const zg=.999999999999,Ug=1.0000000000001;function BS(s,i,l,u=!1){const f=l.length;if(!f)return;i.x=i.y=1;let p,g;for(let v=0;v<f;v++){p=l[v],g=p.projectionDelta;const{visualElement:S}=p.options;S&&S.props.style&&S.props.style.display==="contents"||(u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ml(s,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),g&&(i.x*=g.x.scale,i.y*=g.y.scale,gw(s,g)),u&&Ur(p.latestValues)&&Ml(s,p.latestValues))}i.x<Ug&&i.x>zg&&(i.x=1),i.y<Ug&&i.y>zg&&(i.y=1)}function Dl(s,i){s.min=s.min+i,s.max=s.max+i}function Vg(s,i,l,u,f=.5){const p=Ln(s.min,s.max,f);z0(s,i,l,p,u)}function Ml(s,i){Vg(s.x,i.x,i.scaleX,i.scale,i.originX),Vg(s.y,i.y,i.scaleY,i.scale,i.originY)}function bw(s,i){return xw(OS(s.getBoundingClientRect(),i))}function DS(s,i,l){const u=bw(s,l),{scroll:f}=i;return f&&(Dl(u.x,f.offset.x),Dl(u.y,f.offset.y)),u}const MS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IS=Xl.length;function LS(s,i,l){let u="",f=!0;for(let p=0;p<IS;p++){const g=Xl[p],v=s[g];if(v===void 0)continue;let S=!0;if(typeof v=="number"?S=v===(g.startsWith("scale")?1:0):S=parseFloat(v)===0,!S||l){const w=aw(v,wm[g]);if(!S){f=!1;const A=MS[g]||g;u+=`${A}(${w}) `}l&&(i[g]=w)}}return u=u.trim(),l?u=l(i,f?"":u):f&&(u="none"),u}function jm(s,i,l){const{style:u,vars:f,transformOrigin:p}=s;let g=!1,v=!1;for(const S in i){const w=i[S];if(Yl.has(S)){g=!0;continue}else if(Fy(S)){f[S]=w;continue}else{const A=aw(w,wm[S]);S.startsWith("origin")?(v=!0,p[S]=A):u[S]=A}}if(i.transform||(g||l?u.transform=LS(i,s.transform,l):u.transform&&(u.transform="none")),v){const{originX:S="50%",originY:w="50%",originZ:A=0}=p;u.transformOrigin=`${S} ${w} ${A}`}}function yw(s,{style:i,vars:l},u,f){const p=s.style;let g;for(g in i)p[g]=i[g];f?.applyProjectionStyles(p,u);for(g in l)p.setProperty(g,l[g])}function Hg(s,i){return i.max===i.min?0:s/(i.max-i.min)*100}const Uo={correct:(s,i)=>{if(!i.target)return s;if(typeof s=="string")if(st.test(s))s=parseFloat(s);else return s;const l=Hg(s,i.target.x),u=Hg(s,i.target.y);return`${l}% ${u}%`}},PS={correct:(s,{treeScale:i,projectionDelta:l})=>{const u=s,f=gr.parse(s);if(f.length>5)return u;const p=gr.createTransformer(s),g=typeof f[0]!="number"?1:0,v=l.x.scale*i.x,S=l.y.scale*i.y;f[0+g]/=v,f[1+g]/=S;const w=Ln(v,S,.5);return typeof f[2+g]=="number"&&(f[2+g]/=w),typeof f[3+g]=="number"&&(f[3+g]/=w),p(f)}},U0={borderRadius:{...Uo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uo,borderTopRightRadius:Uo,borderBottomLeftRadius:Uo,borderBottomRightRadius:Uo,boxShadow:PS};function ww(s,{layout:i,layoutId:l}){return Yl.has(s)||s.startsWith("origin")||(i||l!==void 0)&&(!!U0[s]||s==="opacity")}function Em(s,i,l){const u=s.style,f=i?.style,p={};if(!u)return p;for(const g in u)(Ts(u[g])||f&&Ts(f[g])||ww(g,s)||l?.getValue(g)?.liveStyle!==void 0)&&(p[g]=u[g]);return p}function $S(s){return window.getComputedStyle(s)}class zS extends mw{constructor(){super(...arguments),this.type="html",this.renderInstance=yw}readValueFromInstance(i,l){if(Yl.has(l))return this.projection?.isProjecting?T0(l):gC(i,l);{const u=$S(i),f=(Fy(l)?u.getPropertyValue(l):u[l])||0;return typeof f=="string"?f.trim():f}}measureInstanceViewportBox(i,{transformPagePoint:l}){return bw(i,l)}build(i,l,u){jm(i,l,u.transformTemplate)}scrapeMotionValuesFromProps(i,l,u){return Em(i,l,u)}}const US={offset:"stroke-dashoffset",array:"stroke-dasharray"},VS={offset:"strokeDashoffset",array:"strokeDasharray"};function HS(s,i,l=1,u=0,f=!0){s.pathLength=1;const p=f?US:VS;s[p.offset]=st.transform(-u);const g=st.transform(i),v=st.transform(l);s[p.array]=`${g} ${v}`}const GS=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function vw(s,{attrX:i,attrY:l,attrScale:u,pathLength:f,pathSpacing:p=1,pathOffset:g=0,...v},S,w,A){if(jm(s,v,w),S){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:j,style:T}=s;j.transform&&(T.transform=j.transform,delete j.transform),(T.transform||j.transformOrigin)&&(T.transformOrigin=j.transformOrigin??"50% 50%",delete j.transformOrigin),T.transform&&(T.transformBox=A?.transformBox??"fill-box",delete j.transformBox);for(const R of GS)j[R]!==void 0&&(T[R]=j[R],delete j[R]);i!==void 0&&(j.x=i),l!==void 0&&(j.y=l),u!==void 0&&(j.scale=u),f!==void 0&&HS(j,f,p,g,!1)}const Nw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Cw=s=>typeof s=="string"&&s.toLowerCase()==="svg";function qS(s,i,l,u){yw(s,i,void 0,u);for(const f in i.attrs)s.setAttribute(Nw.has(f)?f:ym(f),i.attrs[f])}function Sw(s,i,l){const u=Em(s,i,l);for(const f in s)if(Ts(s[f])||Ts(i[f])){const p=Xl.indexOf(f)!==-1?"attr"+f.charAt(0).toUpperCase()+f.substring(1):f;u[p]=s[f]}return u}class XS extends mw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fs}getBaseTargetFromProps(i,l){return i[l]}readValueFromInstance(i,l){if(Yl.has(l)){const u=nw(l);return u&&u.default||0}return l=Nw.has(l)?l:ym(l),i.getAttribute(l)}scrapeMotionValuesFromProps(i,l,u){return Sw(i,l,u)}build(i,l,u){vw(i,l,this.isSVGTag,u.transformTemplate,u.style)}renderInstance(i,l,u,f){qS(i,l,u,f)}mount(i){this.isSVGTag=Cw(i.tagName),super.mount(i)}}const YS=Sm.length;function jw(s){if(!s)return;if(!s.isControllingVariants){const l=s.parent?jw(s.parent)||{}:{};return s.props.initial!==void 0&&(l.initial=s.props.initial),l}const i={};for(let l=0;l<YS;l++){const u=Sm[l],f=s.props[u];(rc(f)||f===!1)&&(i[u]=f)}return i}function Ew(s,i){if(!Array.isArray(i))return!1;const l=i.length;if(l!==s.length)return!1;for(let u=0;u<l;u++)if(i[u]!==s[u])return!1;return!0}const WS=[...Cm].reverse(),KS=Cm.length;function ZS(s){return i=>Promise.all(i.map(({animation:l,options:u})=>rS(s,l,u)))}function QS(s){let i=ZS(s),l=Gg(),u=!0;const f=S=>(w,A)=>{const j=Ll(s,A,S==="exit"?s.presenceContext?.custom:void 0);if(j){const{transition:T,transitionEnd:R,...B}=j;w={...w,...B,...R}}return w};function p(S){i=S(s)}function g(S){const{props:w}=s,A=jw(s.parent)||{},j=[],T=new Set;let R={},B=1/0;for(let $=0;$<KS;$++){const P=WS[$],O=l[P],L=w[P]!==void 0?w[P]:A[P],W=rc(L),de=P===S?O.isActive:null;de===!1&&(B=$);let ae=L===A[P]&&L!==w[P]&&W;if(ae&&u&&s.manuallyAnimateOnMount&&(ae=!1),O.protectedKeys={...R},!O.isActive&&de===null||!L&&!O.prevProp||xd(L)||typeof L=="boolean")continue;const X=JS(O.prevProp,L);let ue=X||P===S&&O.isActive&&!ae&&W||$>B&&W,q=!1;const Y=Array.isArray(L)?L:[L];let Ce=Y.reduce(f(P),{});de===!1&&(Ce={});const{prevResolvedValues:he={}}=O,oe={...he,...Ce},ge=J=>{ue=!0,T.has(J)&&(q=!0,T.delete(J)),O.needsAnimating[J]=!0;const ke=s.getValue(J);ke&&(ke.liveStyle=!1)};for(const J in oe){const ke=Ce[J],ne=he[J];if(R.hasOwnProperty(J))continue;let ee=!1;D0(ke)&&D0(ne)?ee=!Ew(ke,ne):ee=ke!==ne,ee?ke!=null?ge(J):T.add(J):ke!==void 0&&T.has(J)?ge(J):O.protectedKeys[J]=!0}O.prevProp=L,O.prevResolvedValues=Ce,O.isActive&&(R={...R,...Ce}),u&&s.blockInitialAnimation&&(ue=!1);const Z=ae&&X;ue&&(!Z||q)&&j.push(...Y.map(J=>{const ke={type:P};if(typeof J=="string"&&u&&!Z&&s.manuallyAnimateOnMount&&s.parent){const{parent:ne}=s,ee=Ll(ne,J);if(ne.enteringChildren&&ee){const{delayChildren:U}=ee.transition||{};ke.delay=Wy(ne.enteringChildren,s,U)}}return{animation:J,options:ke}}))}if(T.size){const $={};if(typeof w.initial!="boolean"){const P=Ll(s,Array.isArray(w.initial)?w.initial[0]:w.initial);P&&P.transition&&($.transition=P.transition)}T.forEach(P=>{const O=s.getBaseTarget(P),L=s.getValue(P);L&&(L.liveStyle=!0),$[P]=O??null}),j.push({animation:$})}let D=!!j.length;return u&&(w.initial===!1||w.initial===w.animate)&&!s.manuallyAnimateOnMount&&(D=!1),u=!1,D?i(j):Promise.resolve()}function v(S,w){if(l[S].isActive===w)return Promise.resolve();s.variantChildren?.forEach(j=>j.animationState?.setActive(S,w)),l[S].isActive=w;const A=g(S);for(const j in l)l[j].protectedKeys={};return A}return{animateChanges:g,setActive:v,setAnimateFunction:p,getState:()=>l,reset:()=>{l=Gg()}}}function JS(s,i){return typeof i=="string"?i!==s:Array.isArray(i)?!Ew(i,s):!1}function $r(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gg(){return{animate:$r(!0),whileInView:$r(),whileHover:$r(),whileTap:$r(),whileDrag:$r(),whileFocus:$r(),exit:$r()}}const Aw=1e-4,ej=1-Aw,tj=1+Aw,_w=.01,nj=0-_w,sj=0+_w;function Ls(s){return s.max-s.min}function aj(s,i,l){return Math.abs(s-i)<=l}function qg(s,i,l,u=.5){s.origin=u,s.originPoint=Ln(i.min,i.max,s.origin),s.scale=Ls(l)/Ls(i),s.translate=Ln(l.min,l.max,s.origin)-s.originPoint,(s.scale>=ej&&s.scale<=tj||isNaN(s.scale))&&(s.scale=1),(s.translate>=nj&&s.translate<=sj||isNaN(s.translate))&&(s.translate=0)}function Jo(s,i,l,u){qg(s.x,i.x,l.x,u?u.originX:void 0),qg(s.y,i.y,l.y,u?u.originY:void 0)}function Xg(s,i,l){s.min=l.min+i.min,s.max=s.min+Ls(i)}function ij(s,i,l){Xg(s.x,i.x,l.x),Xg(s.y,i.y,l.y)}function Yg(s,i,l){s.min=i.min-l.min,s.max=s.min+Ls(i)}function nd(s,i,l){Yg(s.x,i.x,l.x),Yg(s.y,i.y,l.y)}function Wg(s,i,l,u,f){return s-=i,s=td(s,1/l,u),f!==void 0&&(s=td(s,1/f,u)),s}function rj(s,i=0,l=1,u=.5,f,p=s,g=s){if(Za.test(i)&&(i=parseFloat(i),i=Ln(g.min,g.max,i/100)-g.min),typeof i!="number")return;let v=Ln(p.min,p.max,u);s===p&&(v-=i),s.min=Wg(s.min,i,l,v,f),s.max=Wg(s.max,i,l,v,f)}function Kg(s,i,[l,u,f],p,g){rj(s,i[l],i[u],i[f],i.scale,p,g)}const lj=["x","scaleX","originX"],oj=["y","scaleY","originY"];function Zg(s,i,l,u){Kg(s.x,i,lj,l?l.x:void 0,u?u.x:void 0),Kg(s.y,i,oj,l?l.y:void 0,u?u.y:void 0)}function Qg(s,i){s.min=i.min,s.max=i.max}function Ma(s,i){Qg(s.x,i.x),Qg(s.y,i.y)}function Jg(s,i){s.translate=i.translate,s.scale=i.scale,s.originPoint=i.originPoint,s.origin=i.origin}function eb(s){return s.translate===0&&s.scale===1}function Tw(s){return eb(s.x)&&eb(s.y)}function tb(s,i){return s.min===i.min&&s.max===i.max}function cj(s,i){return tb(s.x,i.x)&&tb(s.y,i.y)}function nb(s,i){return Math.round(s.min)===Math.round(i.min)&&Math.round(s.max)===Math.round(i.max)}function kw(s,i){return nb(s.x,i.x)&&nb(s.y,i.y)}function sb(s){return Ls(s.x)/Ls(s.y)}function ab(s,i){return s.translate===i.translate&&s.scale===i.scale&&s.originPoint===i.originPoint}function wa(s){return[s("x"),s("y")]}function uj(s,i,l){let u="";const f=s.x.translate/i.x,p=s.y.translate/i.y,g=l?.z||0;if((f||p||g)&&(u=`translate3d(${f}px, ${p}px, ${g}px) `),(i.x!==1||i.y!==1)&&(u+=`scale(${1/i.x}, ${1/i.y}) `),l){const{transformPerspective:w,rotate:A,rotateX:j,rotateY:T,skewX:R,skewY:B}=l;w&&(u=`perspective(${w}px) ${u}`),A&&(u+=`rotate(${A}deg) `),j&&(u+=`rotateX(${j}deg) `),T&&(u+=`rotateY(${T}deg) `),R&&(u+=`skewX(${R}deg) `),B&&(u+=`skewY(${B}deg) `)}const v=s.x.scale*i.x,S=s.y.scale*i.y;return(v!==1||S!==1)&&(u+=`scale(${v}, ${S})`),u||"none"}const Fw=["TopLeft","TopRight","BottomLeft","BottomRight"],dj=Fw.length,ib=s=>typeof s=="string"?parseFloat(s):s,rb=s=>typeof s=="number"||st.test(s);function hj(s,i,l,u,f,p){f?(s.opacity=Ln(0,l.opacity??1,fj(u)),s.opacityExit=Ln(i.opacity??1,0,mj(u))):p&&(s.opacity=Ln(i.opacity??1,l.opacity??1,u));for(let g=0;g<dj;g++){const v=`border${Fw[g]}Radius`;let S=lb(i,v),w=lb(l,v);if(S===void 0&&w===void 0)continue;S||(S=0),w||(w=0),S===0||w===0||rb(S)===rb(w)?(s[v]=Math.max(Ln(ib(S),ib(w),u),0),(Za.test(w)||Za.test(S))&&(s[v]+="%")):s[v]=w}(i.rotate||l.rotate)&&(s.rotate=Ln(i.rotate||0,l.rotate||0,u))}function lb(s,i){return s[i]!==void 0?s[i]:s.borderRadius}const fj=Rw(0,.5,jy),mj=Rw(.5,.95,Na);function Rw(s,i,l){return u=>u<s?0:u>i?1:l(sc(s,i,u))}function xj(s,i){const l=Is.now(),u=({timestamp:f})=>{const p=f-l;p>=i&&(pr(u),s(p-i))};return kn.setup(u,!0),()=>pr(u)}function lc(s,i,l,u={passive:!0}){return s.addEventListener(i,l,u),()=>s.removeEventListener(i,l)}function Uu(s){return Ts(s)?s.get():s}function pj(s,i,l){const u=Ts(s)?s:$l(s);return u.start(gm("",u,i,l)),u.animation}const gj=(s,i)=>s.depth-i.depth;class bj{constructor(){this.children=[],this.isDirty=!1}add(i){em(this.children,i),this.isDirty=!0}remove(i){tm(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(gj),this.isDirty=!1,this.children.forEach(i)}}class yj{constructor(){this.members=[]}add(i){em(this.members,i),i.scheduleRender()}remove(i){if(tm(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(i){const l=this.members.findIndex(f=>i===f);if(l===0)return!1;let u;for(let f=l;f>=0;f--){const p=this.members[f];if(p.isPresent!==!1){u=p;break}}return u?(this.promote(u),!0):!1}promote(i,l){const u=this.lead;if(i!==u&&(this.prevLead=u,this.lead=i,i.show(),u)){u.instance&&u.scheduleRender(),i.scheduleRender(),i.resumeFrom=u,l&&(i.resumeFrom.preserveOpacity=!0),u.snapshot&&(i.snapshot=u.snapshot,i.snapshot.latestValues=u.animationValues||u.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:f}=i.options;f===!1&&u.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:l,resumingFrom:u}=i;l.onExitComplete&&l.onExitComplete(),u&&u.options.onExitComplete&&u.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vu={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Lf=["","X","Y","Z"],wj=1e3;let vj=0;function Pf(s,i,l,u){const{latestValues:f}=i;f[s]&&(l[s]=f[s],i.setStaticValue(s,0),u&&(u[s]=0))}function Ow(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:i}=s.options;if(!i)return;const l=Qy(i);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:f,layoutId:p}=s.options;window.MotionCancelOptimisedAnimation(l,"transform",kn,!(f||p))}const{parent:u}=s;u&&!u.hasCheckedOptimisedAppear&&Ow(u)}function Bw({attachResizeListener:s,defaultParent:i,measureScroll:l,checkIsScrollRoot:u,resetTransform:f}){return class{constructor(g={},v=i?.()){this.id=vj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Sj),this.nodes.forEach(_j),this.nodes.forEach(Tj),this.nodes.forEach(jj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=g,this.root=v?v.root||v:this,this.path=v?[...v.path,v]:[],this.parent=v,this.depth=v?v.depth+1:0;for(let S=0;S<this.path.length;S++)this.path[S].shouldResetTransform=!0;this.root===this&&(this.nodes=new bj)}addEventListener(g,v){return this.eventHandlers.has(g)||this.eventHandlers.set(g,new am),this.eventHandlers.get(g).add(v)}notifyListeners(g,...v){const S=this.eventHandlers.get(g);S&&S.notify(...v)}hasListeners(g){return this.eventHandlers.has(g)}mount(g){if(this.instance)return;this.isSVG=uw(g)&&!CS(g),this.instance=g;const{layoutId:v,layout:S,visualElement:w}=this.options;if(w&&!w.current&&w.mount(g),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(S||v)&&(this.isLayoutDirty=!0),s){let A,j=0;const T=()=>this.root.updateBlockedByResize=!1;kn.read(()=>{j=window.innerWidth}),s(g,()=>{const R=window.innerWidth;R!==j&&(j=R,this.root.updateBlockedByResize=!0,A&&A(),A=xj(T,250),Vu.hasAnimatedSinceResize&&(Vu.hasAnimatedSinceResize=!1,this.nodes.forEach(ub)))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&w&&(v||S)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:j,hasRelativeLayoutChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||w.getDefaultTransition()||Bj,{onLayoutAnimationStart:D,onLayoutAnimationComplete:$}=w.getProps(),P=!this.targetLayout||!kw(this.targetLayout,R),O=!j&&T;if(this.options.layoutRoot||this.resumeFrom||O||j&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...pm(B,"layout"),onPlay:D,onComplete:$};(w.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(A,O)}else j||ub(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const g=this.getStack();g&&g.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kj),this.animationId++)}getTransformTemplate(){const{visualElement:g}=this.options;return g&&g.getProps().transformTemplate}willUpdate(g=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ow(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const j=this.path[A];j.shouldResetTransform=!0,j.updateScroll("snapshot"),j.options.layoutRoot&&j.willUpdate(!1)}const{layoutId:v,layout:S}=this.options;if(v===void 0&&!S)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),g&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ob);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Aj),this.nodes.forEach(Nj),this.nodes.forEach(Cj)):this.nodes.forEach(cb),this.clearAllSnapshots();const v=Is.now();Ns.delta=Ja(0,1e3/60,v-Ns.timestamp),Ns.timestamp=v,Ns.isProcessing=!0,kf.update.process(Ns),kf.preRender.process(Ns),kf.render.process(Ns),Ns.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ej),this.sharedNodes.forEach(Fj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ls(this.snapshot.measuredBox.x)&&!Ls(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let S=0;S<this.path.length;S++)this.path[S].updateScroll();const g=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=fs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:v}=this.options;v&&v.notify("LayoutMeasure",this.layout.layoutBox,g?g.layoutBox:void 0)}updateScroll(g="measure"){let v=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===g&&(v=!1),v&&this.instance){const S=u(this.instance);this.scroll={animationId:this.root.animationId,phase:g,isRoot:S,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:S}}}resetTransform(){if(!f)return;const g=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,v=this.projectionDelta&&!Tw(this.projectionDelta),S=this.getTransformTemplate(),w=S?S(this.latestValues,""):void 0,A=w!==this.prevTransformTemplateValue;g&&this.instance&&(v||Ur(this.latestValues)||A)&&(f(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(g=!0){const v=this.measurePageBox();let S=this.removeElementScroll(v);return g&&(S=this.removeTransform(S)),Dj(S),{animationId:this.root.animationId,measuredBox:v,layoutBox:S,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:g}=this.options;if(!g)return fs();const v=g.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Mj))){const{scroll:w}=this.root;w&&(Dl(v.x,w.offset.x),Dl(v.y,w.offset.y))}return v}removeElementScroll(g){const v=fs();if(Ma(v,g),this.scroll?.wasRoot)return v;for(let S=0;S<this.path.length;S++){const w=this.path[S],{scroll:A,options:j}=w;w!==this.root&&A&&j.layoutScroll&&(A.wasRoot&&Ma(v,g),Dl(v.x,A.offset.x),Dl(v.y,A.offset.y))}return v}applyTransform(g,v=!1){const S=fs();Ma(S,g);for(let w=0;w<this.path.length;w++){const A=this.path[w];!v&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Ml(S,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Ur(A.latestValues)&&Ml(S,A.latestValues)}return Ur(this.latestValues)&&Ml(S,this.latestValues),S}removeTransform(g){const v=fs();Ma(v,g);for(let S=0;S<this.path.length;S++){const w=this.path[S];if(!w.instance||!Ur(w.latestValues))continue;$0(w.latestValues)&&w.updateSnapshot();const A=fs(),j=w.measurePageBox();Ma(A,j),Zg(v,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,A)}return Ur(this.latestValues)&&Zg(v,this.latestValues),v}setTargetDelta(g){this.targetDelta=g,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(g){this.options={...this.options,...g,crossfade:g.crossfade!==void 0?g.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ns.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(g=!1){const v=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=v.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=v.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=v.isSharedProjectionDirty);const S=!!this.resumingFrom||this!==v;if(!(g||S&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:j}=this.options;if(!this.layout||!(A||j))return;this.resolvedRelativeTargetAt=Ns.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fs(),this.targetWithTransforms=fs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ij(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ma(this.target,this.layout.layoutBox),gw(this.target,this.targetDelta)):Ma(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$0(this.parent.latestValues)||pw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(g,v,S){this.relativeParent=g,this.linkedParentVersion=g.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fs(),this.relativeTargetOrigin=fs(),nd(this.relativeTargetOrigin,v,S),Ma(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const g=this.getLead(),v=!!this.resumingFrom||this!==g;let S=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(S=!1),v&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(S=!1),this.resolvedRelativeTargetAt===Ns.timestamp&&(S=!1),S)return;const{layout:w,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||A))return;Ma(this.layoutCorrected,this.layout.layoutBox);const j=this.treeScale.x,T=this.treeScale.y;BS(this.layoutCorrected,this.treeScale,this.path,v),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox,g.targetWithTransforms=fs());const{target:R}=g;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jg(this.prevProjectionDelta.x,this.projectionDelta.x),Jg(this.prevProjectionDelta.y,this.projectionDelta.y)),Jo(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==j||this.treeScale.y!==T||!ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(g=!0){if(this.options.visualElement?.scheduleRender(),g){const v=this.getStack();v&&v.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bl(),this.projectionDelta=Bl(),this.projectionDeltaWithTransform=Bl()}setAnimationOrigin(g,v=!1){const S=this.snapshot,w=S?S.latestValues:{},A={...this.latestValues},j=Bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!v;const T=fs(),R=S?S.source:void 0,B=this.layout?this.layout.source:void 0,D=R!==B,$=this.getStack(),P=!$||$.members.length<=1,O=!!(D&&!P&&this.options.crossfade===!0&&!this.path.some(Oj));this.animationProgress=0;let L;this.mixTargetDelta=W=>{const de=W/1e3;db(j.x,g.x,de),db(j.y,g.y,de),this.setTargetDelta(j),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nd(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rj(this.relativeTarget,this.relativeTargetOrigin,T,de),L&&cj(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=fs()),Ma(L,this.relativeTarget)),D&&(this.animationValues=A,hj(A,w,this.latestValues,de,O,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=de},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(g){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kn.update(()=>{Vu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$l(0)),this.currentAnimation=pj(this.motionValue,[0,1e3],{...g,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),g.onUpdate&&g.onUpdate(v)},onStop:()=>{},onComplete:()=>{g.onComplete&&g.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const g=this.getStack();g&&g.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const g=this.getLead();let{targetWithTransforms:v,target:S,layout:w,latestValues:A}=g;if(!(!v||!S||!w)){if(this!==g&&this.layout&&w&&Dw(this.options.animationType,this.layout.layoutBox,w.layoutBox)){S=this.target||fs();const j=Ls(this.layout.layoutBox.x);S.x.min=g.target.x.min,S.x.max=S.x.min+j;const T=Ls(this.layout.layoutBox.y);S.y.min=g.target.y.min,S.y.max=S.y.min+T}Ma(v,S),Ml(v,A),Jo(this.projectionDeltaWithTransform,this.layoutCorrected,v,A)}}registerSharedNode(g,v){this.sharedNodes.has(g)||this.sharedNodes.set(g,new yj),this.sharedNodes.get(g).add(v);const w=v.options.initialPromotionConfig;v.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(v):void 0})}isLead(){const g=this.getStack();return g?g.lead===this:!0}getLead(){const{layoutId:g}=this.options;return g?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:g}=this.options;return g?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:g}=this.options;if(g)return this.root.sharedNodes.get(g)}promote({needsReset:g,transition:v,preserveFollowOpacity:S}={}){const w=this.getStack();w&&w.promote(this,S),g&&(this.projectionDelta=void 0,this.needsReset=!0),v&&this.setOptions({transition:v})}relegate(){const g=this.getStack();return g?g.relegate(this):!1}resetSkewAndRotation(){const{visualElement:g}=this.options;if(!g)return;let v=!1;const{latestValues:S}=g;if((S.z||S.rotate||S.rotateX||S.rotateY||S.rotateZ||S.skewX||S.skewY)&&(v=!0),!v)return;const w={};S.z&&Pf("z",g,w,this.animationValues);for(let A=0;A<Lf.length;A++)Pf(`rotate${Lf[A]}`,g,w,this.animationValues),Pf(`skew${Lf[A]}`,g,w,this.animationValues);g.render();for(const A in w)g.setStaticValue(A,w[A]),this.animationValues&&(this.animationValues[A]=w[A]);g.scheduleRender()}applyProjectionStyles(g,v){if(!this.instance||this.isSVG)return;if(!this.isVisible){g.visibility="hidden";return}const S=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,g.visibility="",g.opacity="",g.pointerEvents=Uu(v?.pointerEvents)||"",g.transform=S?S(this.latestValues,""):"none";return}const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Uu(v?.pointerEvents)||""),this.hasProjected&&!Ur(this.latestValues)&&(g.transform=S?S({},""):"none",this.hasProjected=!1);return}g.visibility="";const A=w.animationValues||w.latestValues;this.applyTransformsToTarget();let j=uj(this.projectionDeltaWithTransform,this.treeScale,A);S&&(j=S(A,j)),g.transform=j;const{x:T,y:R}=this.projectionDelta;g.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,w.animationValues?g.opacity=w===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:g.opacity=w===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const B in U0){if(A[B]===void 0)continue;const{correct:D,applyTo:$,isCSSVariable:P}=U0[B],O=j==="none"?A[B]:D(A[B],w);if($){const L=$.length;for(let W=0;W<L;W++)g[$[W]]=O}else P?this.options.visualElement.renderState.vars[B]=O:g[B]=O}this.options.layoutId&&(g.pointerEvents=w===this?Uu(v?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(g=>g.currentAnimation?.stop()),this.root.nodes.forEach(ob),this.root.sharedNodes.clear()}}}function Nj(s){s.updateLayout()}function Cj(s){const i=s.resumeFrom?.snapshot||s.snapshot;if(s.isLead()&&s.layout&&i&&s.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:u}=s.layout,{animationType:f}=s.options,p=i.source!==s.layout.source;f==="size"?wa(A=>{const j=p?i.measuredBox[A]:i.layoutBox[A],T=Ls(j);j.min=l[A].min,j.max=j.min+T}):Dw(f,i.layoutBox,l)&&wa(A=>{const j=p?i.measuredBox[A]:i.layoutBox[A],T=Ls(l[A]);j.max=j.min+T,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[A].max=s.relativeTarget[A].min+T)});const g=Bl();Jo(g,l,i.layoutBox);const v=Bl();p?Jo(v,s.applyTransform(u,!0),i.measuredBox):Jo(v,l,i.layoutBox);const S=!Tw(g);let w=!1;if(!s.resumeFrom){const A=s.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:j,layout:T}=A;if(j&&T){const R=fs();nd(R,i.layoutBox,j.layoutBox);const B=fs();nd(B,l,T.layoutBox),kw(R,B)||(w=!0),A.options.layoutRoot&&(s.relativeTarget=B,s.relativeTargetOrigin=R,s.relativeParent=A)}}}s.notifyListeners("didUpdate",{layout:l,snapshot:i,delta:v,layoutDelta:g,hasLayoutChanged:S,hasRelativeLayoutChanged:w})}else if(s.isLead()){const{onExitComplete:l}=s.options;l&&l()}s.options.transition=void 0}function Sj(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function jj(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function Ej(s){s.clearSnapshot()}function ob(s){s.clearMeasurements()}function cb(s){s.isLayoutDirty=!1}function Aj(s){const{visualElement:i}=s.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),s.resetTransform()}function ub(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function _j(s){s.resolveTargetDelta()}function Tj(s){s.calcProjection()}function kj(s){s.resetSkewAndRotation()}function Fj(s){s.removeLeadSnapshot()}function db(s,i,l){s.translate=Ln(i.translate,0,l),s.scale=Ln(i.scale,1,l),s.origin=i.origin,s.originPoint=i.originPoint}function hb(s,i,l,u){s.min=Ln(i.min,l.min,u),s.max=Ln(i.max,l.max,u)}function Rj(s,i,l,u){hb(s.x,i.x,l.x,u),hb(s.y,i.y,l.y,u)}function Oj(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const Bj={duration:.45,ease:[.4,0,.1,1]},fb=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),mb=fb("applewebkit/")&&!fb("chrome/")?Math.round:Na;function xb(s){s.min=mb(s.min),s.max=mb(s.max)}function Dj(s){xb(s.x),xb(s.y)}function Dw(s,i,l){return s==="position"||s==="preserve-aspect"&&!aj(sb(i),sb(l),.2)}function Mj(s){return s!==s.root&&s.scroll?.wasRoot}const Ij=Bw({attachResizeListener:(s,i)=>lc(s,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$f={current:void 0},Mw=Bw({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!$f.current){const s=new Ij({});s.mount(window),s.setOptions({layoutScroll:!0}),$f.current=s}return $f.current},resetTransform:(s,i)=>{s.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),Am=_.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function pb(s,i){if(typeof s=="function")return s(i);s!=null&&(s.current=i)}function Lj(...s){return i=>{let l=!1;const u=s.map(f=>{const p=pb(f,i);return!l&&typeof p=="function"&&(l=!0),p});if(l)return()=>{for(let f=0;f<u.length;f++){const p=u[f];typeof p=="function"?p():pb(s[f],null)}}}}function Pj(...s){return _.useCallback(Lj(...s),s)}class $j extends _.Component{getSnapshotBeforeUpdate(i){const l=this.props.childRef.current;if(l&&i.isPresent&&!this.props.isPresent){const u=l.offsetParent,f=iw(u)&&u.offsetWidth||0,p=this.props.sizeRef.current;p.height=l.offsetHeight||0,p.width=l.offsetWidth||0,p.top=l.offsetTop,p.left=l.offsetLeft,p.right=f-p.width-p.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zj({children:s,isPresent:i,anchorX:l,root:u}){const f=_.useId(),p=_.useRef(null),g=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:v}=_.useContext(Am),S=s.props?.ref??s?.ref,w=Pj(p,S);return _.useInsertionEffect(()=>{const{width:A,height:j,top:T,left:R,right:B}=g.current;if(i||!p.current||!A||!j)return;const D=l==="left"?`left: ${R}`:`right: ${B}`;p.current.dataset.motionPopId=f;const $=document.createElement("style");v&&($.nonce=v);const P=u??document.head;return P.appendChild($),$.sheet&&$.sheet.insertRule(`
          [data-motion-pop-id="${f}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${j}px !important;
            ${D}px !important;
            top: ${T}px !important;
          }
        `),()=>{P.contains($)&&P.removeChild($)}},[i]),t.jsx($j,{isPresent:i,childRef:p,sizeRef:g,children:_.cloneElement(s,{ref:w})})}const Uj=({children:s,initial:i,isPresent:l,onExitComplete:u,custom:f,presenceAffectsLayout:p,mode:g,anchorX:v,root:S})=>{const w=J0(Vj),A=_.useId();let j=!0,T=_.useMemo(()=>(j=!1,{id:A,initial:i,isPresent:l,custom:f,onExitComplete:R=>{w.set(R,!0);for(const B of w.values())if(!B)return;u&&u()},register:R=>(w.set(R,!1),()=>w.delete(R))}),[l,w,u]);return p&&j&&(T={...T}),_.useMemo(()=>{w.forEach((R,B)=>w.set(B,!1))},[l]),_.useEffect(()=>{!l&&!w.size&&u&&u()},[l]),g==="popLayout"&&(s=t.jsx(zj,{isPresent:l,anchorX:v,root:S,children:s})),t.jsx(md.Provider,{value:T,children:s})};function Vj(){return new Map}function Iw(s=!0){const i=_.useContext(md);if(i===null)return[!0,null];const{isPresent:l,onExitComplete:u,register:f}=i,p=_.useId();_.useEffect(()=>{if(s)return f(p)},[s]);const g=_.useCallback(()=>s&&u&&u(p),[p,u,s]);return!l&&u?[!1,g]:[!0]}const Mu=s=>s.key||"";function gb(s){const i=[];return _.Children.forEach(s,l=>{_.isValidElement(l)&&i.push(l)}),i}const rs=({children:s,custom:i,initial:l=!0,onExitComplete:u,presenceAffectsLayout:f=!0,mode:p="sync",propagate:g=!1,anchorX:v="left",root:S})=>{const[w,A]=Iw(g),j=_.useMemo(()=>gb(s),[s]),T=g&&!w?[]:j.map(Mu),R=_.useRef(!0),B=_.useRef(j),D=J0(()=>new Map),$=_.useRef(new Set),[P,O]=_.useState(j),[L,W]=_.useState(j);my(()=>{R.current=!1,B.current=j;for(let X=0;X<L.length;X++){const ue=Mu(L[X]);T.includes(ue)?(D.delete(ue),$.current.delete(ue)):D.get(ue)!==!0&&D.set(ue,!1)}},[L,T.length,T.join("-")]);const de=[];if(j!==P){let X=[...j];for(let ue=0;ue<L.length;ue++){const q=L[ue],Y=Mu(q);T.includes(Y)||(X.splice(ue,0,q),de.push(q))}return p==="wait"&&de.length&&(X=de),W(gb(X)),O(j),null}const{forceRender:ae}=_.useContext(Q0);return t.jsx(t.Fragment,{children:L.map(X=>{const ue=Mu(X),q=g&&!w?!1:j===L||T.includes(ue),Y=()=>{if($.current.has(ue))return;if($.current.add(ue),D.has(ue))D.set(ue,!0);else return;let Ce=!0;D.forEach(he=>{he||(Ce=!1)}),Ce&&(ae?.(),W(B.current),g&&A?.(),u&&u())};return t.jsx(Uj,{isPresent:q,initial:!R.current||l?void 0:!1,custom:i,presenceAffectsLayout:f,mode:p,root:S,onExitComplete:q?void 0:Y,anchorX:v,children:X},ue)})})},Lw=_.createContext({strict:!1}),bb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let yb=!1;function Hj(){if(yb)return;const s={};for(const i in bb)s[i]={isEnabled:l=>bb[i].some(u=>!!l[u])};fw(s),yb=!0}function Pw(){return Hj(),kS()}function Gj(s){const i=Pw();for(const l in s)i[l]={...i[l],...s[l]};fw(i)}const qj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sd(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||qj.has(s)}let $w=s=>!sd(s);function Xj(s){typeof s=="function"&&($w=i=>i.startsWith("on")?!sd(i):s(i))}try{Xj(require("@emotion/is-prop-valid").default)}catch{}function Yj(s,i,l){const u={};for(const f in s)f==="values"&&typeof s.values=="object"||($w(f)||l===!0&&sd(f)||!i&&!sd(f)||s.draggable&&f.startsWith("onDrag"))&&(u[f]=s[f]);return u}const gd=_.createContext({});function Wj(s,i){if(pd(s)){const{initial:l,animate:u}=s;return{initial:l===!1||rc(l)?l:void 0,animate:rc(u)?u:void 0}}return s.inherit!==!1?i:{}}function Kj(s){const{initial:i,animate:l}=Wj(s,_.useContext(gd));return _.useMemo(()=>({initial:i,animate:l}),[wb(i),wb(l)])}function wb(s){return Array.isArray(s)?s.join(" "):s}const _m=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zw(s,i,l){for(const u in i)!Ts(i[u])&&!ww(u,l)&&(s[u]=i[u])}function Zj({transformTemplate:s},i){return _.useMemo(()=>{const l=_m();return jm(l,i,s),Object.assign({},l.vars,l.style)},[i])}function Qj(s,i){const l=s.style||{},u={};return zw(u,l,s),Object.assign(u,Zj(s,i)),u}function Jj(s,i){const l={},u=Qj(s,i);return s.drag&&s.dragListener!==!1&&(l.draggable=!1,u.userSelect=u.WebkitUserSelect=u.WebkitTouchCallout="none",u.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(l.tabIndex=0),l.style=u,l}const Uw=()=>({..._m(),attrs:{}});function e5(s,i,l,u){const f=_.useMemo(()=>{const p=Uw();return vw(p,i,Cw(u),s.transformTemplate,s.style),{...p.attrs,style:{...p.style}}},[i]);if(s.style){const p={};zw(p,s.style,s),f.style={...p,...f.style}}return f}const t5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tm(s){return typeof s!="string"||s.includes("-")?!1:!!(t5.indexOf(s)>-1||/[A-Z]/u.test(s))}function n5(s,i,l,{latestValues:u},f,p=!1,g){const S=(g??Tm(s)?e5:Jj)(i,u,f,s),w=Yj(i,typeof s=="string",p),A=s!==_.Fragment?{...w,...S,ref:l}:{},{children:j}=i,T=_.useMemo(()=>Ts(j)?j.get():j,[j]);return _.createElement(s,{...A,children:T})}function s5({scrapeMotionValuesFromProps:s,createRenderState:i},l,u,f){return{latestValues:a5(l,u,f,s),renderState:i()}}function a5(s,i,l,u){const f={},p=u(s,{});for(const T in p)f[T]=Uu(p[T]);let{initial:g,animate:v}=s;const S=pd(s),w=hw(s);i&&w&&!S&&s.inherit!==!1&&(g===void 0&&(g=i.initial),v===void 0&&(v=i.animate));let A=l?l.initial===!1:!1;A=A||g===!1;const j=A?v:g;if(j&&typeof j!="boolean"&&!xd(j)){const T=Array.isArray(j)?j:[j];for(let R=0;R<T.length;R++){const B=bm(s,T[R]);if(B){const{transitionEnd:D,transition:$,...P}=B;for(const O in P){let L=P[O];if(Array.isArray(L)){const W=A?L.length-1:0;L=L[W]}L!==null&&(f[O]=L)}for(const O in D)f[O]=D[O]}}}return f}const Vw=s=>(i,l)=>{const u=_.useContext(gd),f=_.useContext(md),p=()=>s5(s,i,u,f);return l?p():J0(p)},i5=Vw({scrapeMotionValuesFromProps:Em,createRenderState:_m}),r5=Vw({scrapeMotionValuesFromProps:Sw,createRenderState:Uw}),l5=Symbol.for("motionComponentSymbol");function o5(s,i,l){const u=_.useRef(l);_.useInsertionEffect(()=>{u.current=l});const f=_.useRef(null);return _.useCallback(p=>{p&&s.onMount?.(p),i&&(p?i.mount(p):i.unmount());const g=u.current;if(typeof g=="function")if(p){const v=g(p);typeof v=="function"&&(f.current=v)}else f.current?(f.current(),f.current=null):g(p);else g&&(g.current=p)},[i])}const Hw=_.createContext({});function qo(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function c5(s,i,l,u,f,p){const{visualElement:g}=_.useContext(gd),v=_.useContext(Lw),S=_.useContext(md),w=_.useContext(Am).reducedMotion,A=_.useRef(null);u=u||v.renderer,!A.current&&u&&(A.current=u(s,{visualState:i,parent:g,props:l,presenceContext:S,blockInitialAnimation:S?S.initial===!1:!1,reducedMotionConfig:w,isSVG:p}));const j=A.current,T=_.useContext(Hw);j&&!j.projection&&f&&(j.type==="html"||j.type==="svg")&&u5(A.current,l,f,T);const R=_.useRef(!1);_.useInsertionEffect(()=>{j&&R.current&&j.update(l,S)});const B=l[Zy],D=_.useRef(!!B&&!window.MotionHandoffIsComplete?.(B)&&window.MotionHasOptimisedAnimation?.(B));return my(()=>{j&&(R.current=!0,window.MotionIsMounted=!0,j.updateFeatures(),j.scheduleRenderMicrotask(),D.current&&j.animationState&&j.animationState.animateChanges())}),_.useEffect(()=>{j&&(!D.current&&j.animationState&&j.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(B)}),D.current=!1),j.enteringChildren=void 0)}),j}function u5(s,i,l,u){const{layoutId:f,layout:p,drag:g,dragConstraints:v,layoutScroll:S,layoutRoot:w,layoutCrossfade:A}=i;s.projection=new l(s.latestValues,i["data-framer-portal-id"]?void 0:Gw(s.parent)),s.projection.setOptions({layoutId:f,layout:p,alwaysMeasureLayout:!!g||v&&qo(v),visualElement:s,animationType:typeof p=="string"?p:"both",initialPromotionConfig:u,crossfade:A,layoutScroll:S,layoutRoot:w})}function Gw(s){if(s)return s.options.allowProjection!==!1?s.projection:Gw(s.parent)}function zf(s,{forwardMotionProps:i=!1,type:l}={},u,f){u&&Gj(u);const p=l?l==="svg":Tm(s),g=p?r5:i5;function v(w,A){let j;const T={..._.useContext(Am),...w,layoutId:d5(w)},{isStatic:R}=T,B=Kj(w),D=g(w,R);if(!R&&fy){h5();const $=f5(T);j=$.MeasureLayout,B.visualElement=c5(s,D,T,f,$.ProjectionNode,p)}return t.jsxs(gd.Provider,{value:B,children:[j&&B.visualElement?t.jsx(j,{visualElement:B.visualElement,...T}):null,n5(s,w,o5(D,B.visualElement,A),D,R,i,p)]})}v.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const S=_.forwardRef(v);return S[l5]=s,S}function d5({layoutId:s}){const i=_.useContext(Q0).id;return i&&s!==void 0?i+"-"+s:s}function h5(s,i){_.useContext(Lw).strict}function f5(s){const i=Pw(),{drag:l,layout:u}=i;if(!l&&!u)return{};const f={...l,...u};return{MeasureLayout:l?.isEnabled(s)||u?.isEnabled(s)?f.MeasureLayout:void 0,ProjectionNode:f.ProjectionNode}}function m5(s,i){if(typeof Proxy>"u")return zf;const l=new Map,u=(p,g)=>zf(p,g,s,i),f=(p,g)=>u(p,g);return new Proxy(f,{get:(p,g)=>g==="create"?u:(l.has(g)||l.set(g,zf(g,void 0,s,i)),l.get(g))})}const x5=(s,i)=>i.isSVG??Tm(s)?new XS(i):new zS(i,{allowProjection:s!==_.Fragment});class p5 extends br{constructor(i){super(i),i.animationState||(i.animationState=QS(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();xd(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:l}=this.node.prevProps||{};i!==l&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let g5=0;class b5 extends br{constructor(){super(...arguments),this.id=g5++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:l}=this.node.presenceContext,{isPresent:u}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===u)return;const f=this.node.animationState.setActive("exit",!i);l&&!i&&f.then(()=>{l(this.id)})}mount(){const{register:i,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const y5={animation:{Feature:p5},exit:{Feature:b5}};function xc(s){return{point:{x:s.pageX,y:s.pageY}}}const w5=s=>i=>Nm(i)&&s(i,xc(i));function ec(s,i,l,u){return lc(s,i,w5(l),u)}const qw=({current:s})=>s?s.ownerDocument.defaultView:null,vb=(s,i)=>Math.abs(s-i);function v5(s,i){const l=vb(s.x,i.x),u=vb(s.y,i.y);return Math.sqrt(l**2+u**2)}const Nb=new Set(["auto","scroll"]);class Xw{constructor(i,l,{transformPagePoint:u,contextWindow:f=window,dragSnapToOrigin:p=!1,distanceThreshold:g=3,element:v}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Vf(this.lastMoveEventInfo,this.history),B=this.startEvent!==null,D=v5(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!B&&!D)return;const{point:$}=R,{timestamp:P}=Ns;this.history.push({...$,timestamp:P});const{onStart:O,onMove:L}=this.handlers;B||(O&&O(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,R)},this.handlePointerMove=(R,B)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=Uf(B,this.transformPagePoint),kn.update(this.updatePoint,!0)},this.handlePointerUp=(R,B)=>{this.end();const{onEnd:D,onSessionEnd:$,resumeAnimation:P}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Vf(R.type==="pointercancel"?this.lastMoveEventInfo:Uf(B,this.transformPagePoint),this.history);this.startEvent&&D&&D(R,O),$&&$(R,O)},!Nm(i))return;this.dragSnapToOrigin=p,this.handlers=l,this.transformPagePoint=u,this.distanceThreshold=g,this.contextWindow=f||window;const S=xc(i),w=Uf(S,this.transformPagePoint),{point:A}=w,{timestamp:j}=Ns;this.history=[{...A,timestamp:j}];const{onSessionStart:T}=l;T&&T(i,Vf(w,this.history)),this.removeListeners=hc(ec(this.contextWindow,"pointermove",this.handlePointerMove),ec(this.contextWindow,"pointerup",this.handlePointerUp),ec(this.contextWindow,"pointercancel",this.handlePointerUp)),v&&this.startScrollTracking(v)}startScrollTracking(i){let l=i.parentElement;for(;l;){const u=getComputedStyle(l);(Nb.has(u.overflowX)||Nb.has(u.overflowY))&&this.scrollPositions.set(l,{x:l.scrollLeft,y:l.scrollTop}),l=l.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(i){const l=this.scrollPositions.get(i);if(!l)return;const u=i===window,f=u?{x:window.scrollX,y:window.scrollY}:{x:i.scrollLeft,y:i.scrollTop},p={x:f.x-l.x,y:f.y-l.y};p.x===0&&p.y===0||(u?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=p.x,this.lastMoveEventInfo.point.y+=p.y):this.history.length>0&&(this.history[0].x-=p.x,this.history[0].y-=p.y),this.scrollPositions.set(i,f),kn.update(this.updatePoint,!0))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),pr(this.updatePoint)}}function Uf(s,i){return i?{point:i(s.point)}:s}function Cb(s,i){return{x:s.x-i.x,y:s.y-i.y}}function Vf({point:s},i){return{point:s,delta:Cb(s,Yw(i)),offset:Cb(s,N5(i)),velocity:C5(i,.1)}}function N5(s){return s[0]}function Yw(s){return s[s.length-1]}function C5(s,i){if(s.length<2)return{x:0,y:0};let l=s.length-1,u=null;const f=Yw(s);for(;l>=0&&(u=s[l],!(f.timestamp-u.timestamp>Ti(i)));)l--;if(!u)return{x:0,y:0};const p=va(f.timestamp-u.timestamp);if(p===0)return{x:0,y:0};const g={x:(f.x-u.x)/p,y:(f.y-u.y)/p};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}function S5(s,{min:i,max:l},u){return i!==void 0&&s<i?s=u?Ln(i,s,u.min):Math.max(s,i):l!==void 0&&s>l&&(s=u?Ln(l,s,u.max):Math.min(s,l)),s}function Sb(s,i,l){return{min:i!==void 0?s.min+i:void 0,max:l!==void 0?s.max+l-(s.max-s.min):void 0}}function j5(s,{top:i,left:l,bottom:u,right:f}){return{x:Sb(s.x,l,f),y:Sb(s.y,i,u)}}function jb(s,i){let l=i.min-s.min,u=i.max-s.max;return i.max-i.min<s.max-s.min&&([l,u]=[u,l]),{min:l,max:u}}function E5(s,i){return{x:jb(s.x,i.x),y:jb(s.y,i.y)}}function A5(s,i){let l=.5;const u=Ls(s),f=Ls(i);return f>u?l=sc(i.min,i.max-u,s.min):u>f&&(l=sc(s.min,s.max-f,i.min)),Ja(0,1,l)}function _5(s,i){const l={};return i.min!==void 0&&(l.min=i.min-s.min),i.max!==void 0&&(l.max=i.max-s.min),l}const V0=.35;function T5(s=V0){return s===!1?s=0:s===!0&&(s=V0),{x:Eb(s,"left","right"),y:Eb(s,"top","bottom")}}function Eb(s,i,l){return{min:Ab(s,i),max:Ab(s,l)}}function Ab(s,i){return typeof s=="number"?s:s[i]||0}const k5=new WeakMap;class F5{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:l=!1,distanceThreshold:u}={}){const{presenceContext:f}=this.visualElement;if(f&&f.isPresent===!1)return;const p=j=>{l?(this.stopAnimation(),this.snapToCursor(xc(j).point)):this.pauseAnimation()},g=(j,T)=>{this.stopAnimation();const{drag:R,dragPropagation:B,onDragStart:D}=this.getProps();if(R&&!B&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bS(R),!this.openDragLock))return;this.latestPointerEvent=j,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wa(P=>{let O=this.getAxisMotionValue(P).get()||0;if(Za.test(O)){const{projection:L}=this.visualElement;if(L&&L.layout){const W=L.layout.layoutBox[P];W&&(O=Ls(W)*(parseFloat(O)/100))}}this.originPoint[P]=O}),D&&kn.postRender(()=>D(j,T)),M0(this.visualElement,"transform");const{animationState:$}=this.visualElement;$&&$.setActive("whileDrag",!0)},v=(j,T)=>{this.latestPointerEvent=j,this.latestPanInfo=T;const{dragPropagation:R,dragDirectionLock:B,onDirectionLock:D,onDrag:$}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:P}=T;if(B&&this.currentDirection===null){this.currentDirection=R5(P),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",T.point,P),this.updateAxis("y",T.point,P),this.visualElement.render(),$&&$(j,T)},S=(j,T)=>{this.latestPointerEvent=j,this.latestPanInfo=T,this.stop(j,T),this.latestPointerEvent=null,this.latestPanInfo=null},w=()=>wa(j=>this.getAnimationState(j)==="paused"&&this.getAxisMotionValue(j).animation?.play()),{dragSnapToOrigin:A}=this.getProps();this.panSession=new Xw(i,{onSessionStart:p,onStart:g,onMove:v,onSessionEnd:S,resumeAnimation:w},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:u,contextWindow:qw(this.visualElement),element:this.visualElement.current})}stop(i,l){const u=i||this.latestPointerEvent,f=l||this.latestPanInfo,p=this.isDragging;if(this.cancel(),!p||!f||!u)return;const{velocity:g}=f;this.startAnimation(g);const{onDragEnd:v}=this.getProps();v&&kn.postRender(()=>v(u,f))}cancel(){this.isDragging=!1;const{projection:i,animationState:l}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:u}=this.getProps();!u&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(i,l,u){const{drag:f}=this.getProps();if(!u||!Iu(i,f,this.currentDirection))return;const p=this.getAxisMotionValue(i);let g=this.originPoint[i]+u[i];this.constraints&&this.constraints[i]&&(g=S5(g,this.constraints[i],this.elastic[i])),p.set(g)}resolveConstraints(){const{dragConstraints:i,dragElastic:l}=this.getProps(),u=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,f=this.constraints;i&&qo(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&u?this.constraints=j5(u.layoutBox,i):this.constraints=!1,this.elastic=T5(l),f!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&wa(p=>{this.constraints!==!1&&this.getAxisMotionValue(p)&&(this.constraints[p]=_5(u.layoutBox[p],this.constraints[p]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:l}=this.getProps();if(!i||!qo(i))return!1;const u=i.current,{projection:f}=this.visualElement;if(!f||!f.layout)return!1;const p=DS(u,f.root,this.visualElement.getTransformPagePoint());let g=E5(f.layout.layoutBox,p);if(l){const v=l(RS(g));this.hasMutatedConstraints=!!v,v&&(g=xw(v))}return g}startAnimation(i){const{drag:l,dragMomentum:u,dragElastic:f,dragTransition:p,dragSnapToOrigin:g,onDragTransitionEnd:v}=this.getProps(),S=this.constraints||{},w=wa(A=>{if(!Iu(A,l,this.currentDirection))return;let j=S&&S[A]||{};g&&(j={min:0,max:0});const T=f?200:1e6,R=f?40:1e7,B={type:"inertia",velocity:u?i[A]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...p,...j};return this.startAxisValueAnimation(A,B)});return Promise.all(w).then(v)}startAxisValueAnimation(i,l){const u=this.getAxisMotionValue(i);return M0(this.visualElement,i),u.start(gm(i,u,0,l,this.visualElement,!1))}stopAnimation(){wa(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){wa(i=>this.getAxisMotionValue(i).animation?.pause())}getAnimationState(i){return this.getAxisMotionValue(i).animation?.state}getAxisMotionValue(i){const l=`_drag${i.toUpperCase()}`,u=this.visualElement.getProps(),f=u[l];return f||this.visualElement.getValue(i,(u.initial?u.initial[i]:void 0)||0)}snapToCursor(i){wa(l=>{const{drag:u}=this.getProps();if(!Iu(l,u,this.currentDirection))return;const{projection:f}=this.visualElement,p=this.getAxisMotionValue(l);if(f&&f.layout){const{min:g,max:v}=f.layout.layoutBox[l],S=p.get()||0;p.set(i[l]-Ln(g,v,.5)+S)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:l}=this.getProps(),{projection:u}=this.visualElement;if(!qo(l)||!u||!this.constraints)return;this.stopAnimation();const f={x:0,y:0};wa(g=>{const v=this.getAxisMotionValue(g);if(v&&this.constraints!==!1){const S=v.get();f[g]=A5({min:S,max:S},this.constraints[g])}});const{transformTemplate:p}=this.visualElement.getProps();this.visualElement.current.style.transform=p?p({},""):"none",u.root&&u.root.updateScroll(),u.updateLayout(),this.resolveConstraints(),wa(g=>{if(!Iu(g,i,null))return;const v=this.getAxisMotionValue(g),{min:S,max:w}=this.constraints[g];v.set(Ln(S,w,f[g]))})}addListeners(){if(!this.visualElement.current)return;k5.set(this.visualElement,this);const i=this.visualElement.current,l=ec(i,"pointerdown",S=>{const{drag:w,dragListener:A=!0}=this.getProps();w&&A&&!cw(S.target)&&this.start(S)}),u=()=>{const{dragConstraints:S}=this.getProps();qo(S)&&S.current&&(this.constraints=this.resolveRefConstraints())},{projection:f}=this.visualElement,p=f.addEventListener("measure",u);f&&!f.layout&&(f.root&&f.root.updateScroll(),f.updateLayout()),kn.read(u);const g=lc(window,"resize",()=>this.scalePositionWithinConstraints()),v=f.addEventListener("didUpdate",(({delta:S,hasLayoutChanged:w})=>{this.isDragging&&w&&(wa(A=>{const j=this.getAxisMotionValue(A);j&&(this.originPoint[A]+=S[A].translate,j.set(j.get()+S[A].translate))}),this.visualElement.render())}));return()=>{g(),l(),p(),v&&v()}}getProps(){const i=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:u=!1,dragPropagation:f=!1,dragConstraints:p=!1,dragElastic:g=V0,dragMomentum:v=!0}=i;return{...i,drag:l,dragDirectionLock:u,dragPropagation:f,dragConstraints:p,dragElastic:g,dragMomentum:v}}}function Iu(s,i,l){return(i===!0||i===s)&&(l===null||l===s)}function R5(s,i=10){let l=null;return Math.abs(s.y)>i?l="y":Math.abs(s.x)>i&&(l="x"),l}class O5 extends br{constructor(i){super(i),this.removeGroupControls=Na,this.removeListeners=Na,this.controls=new F5(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Na}update(){const{dragControls:i}=this.node.getProps(),{dragControls:l}=this.node.prevProps||{};i!==l&&(this.removeGroupControls(),i&&(this.removeGroupControls=i.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const _b=s=>(i,l)=>{s&&kn.postRender(()=>s(i,l))};class B5 extends br{constructor(){super(...arguments),this.removePointerDownListener=Na}onPointerDown(i){this.session=new Xw(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qw(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:l,onPan:u,onPanEnd:f}=this.node.getProps();return{onSessionStart:_b(i),onStart:_b(l),onMove:u,onEnd:(p,g)=>{delete this.session,f&&kn.postRender(()=>f(p,g))}}}mount(){this.removePointerDownListener=ec(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Hf=!1;class D5 extends _.Component{componentDidMount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:u,layoutId:f}=this.props,{projection:p}=i;p&&(l.group&&l.group.add(p),u&&u.register&&f&&u.register(p),Hf&&p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),Vu.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:l,visualElement:u,drag:f,isPresent:p}=this.props,{projection:g}=u;return g&&(g.isPresent=p,Hf=!0,f||i.layoutDependency!==l||l===void 0||i.isPresent!==p?g.willUpdate():this.safeToRemove(),i.isPresent!==p&&(p?g.promote():g.relegate()||kn.postRender(()=>{const v=g.getStack();(!v||!v.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),vm.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:l,switchLayoutGroup:u}=this.props,{projection:f}=i;Hf=!0,f&&(f.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(f),u&&u.deregister&&u.deregister(f))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function Ww(s){const[i,l]=Iw(),u=_.useContext(Q0);return t.jsx(D5,{...s,layoutGroup:u,switchLayoutGroup:_.useContext(Hw),isPresent:i,safeToRemove:l})}const M5={pan:{Feature:B5},drag:{Feature:O5,ProjectionNode:Mw,MeasureLayout:Ww}};function Tb(s,i,l){const{props:u}=s;s.animationState&&u.whileHover&&s.animationState.setActive("whileHover",l==="Start");const f="onHover"+l,p=u[f];p&&kn.postRender(()=>p(i,xc(i)))}class I5 extends br{mount(){const{current:i}=this.node;i&&(this.unmount=yS(i,(l,u)=>(Tb(this.node,u,"Start"),f=>Tb(this.node,f,"End"))))}unmount(){}}class L5 extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hc(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kb(s,i,l){const{props:u}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&u.whileTap&&s.animationState.setActive("whileTap",l==="Start");const f="onTap"+(l==="End"?"":l),p=u[f];p&&kn.postRender(()=>p(i,xc(i)))}class P5 extends br{mount(){const{current:i}=this.node;i&&(this.unmount=NS(i,(l,u)=>(kb(this.node,u,"Start"),(f,{success:p})=>kb(this.node,f,p?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const H0=new WeakMap,Gf=new WeakMap,$5=s=>{const i=H0.get(s.target);i&&i(s)},z5=s=>{s.forEach($5)};function U5({root:s,...i}){const l=s||document;Gf.has(l)||Gf.set(l,{});const u=Gf.get(l),f=JSON.stringify(i);return u[f]||(u[f]=new IntersectionObserver(z5,{root:s,...i})),u[f]}function V5(s,i,l){const u=U5(i);return H0.set(s,l),u.observe(s),()=>{H0.delete(s),u.unobserve(s)}}const H5={some:0,all:1};class G5 extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:l,margin:u,amount:f="some",once:p}=i,g={root:l?l.current:void 0,rootMargin:u,threshold:typeof f=="number"?f:H5[f]},v=S=>{const{isIntersecting:w}=S;if(this.isInView===w||(this.isInView=w,p&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:A,onViewportLeave:j}=this.node.getProps(),T=w?A:j;T&&T(S)};return V5(this.node.current,g,v)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:l}=this.node;["amount","margin","root"].some(q5(i,l))&&this.startObserver()}unmount(){}}function q5({viewport:s={}},{viewport:i={}}={}){return l=>s[l]!==i[l]}const X5={inView:{Feature:G5},tap:{Feature:P5},focus:{Feature:L5},hover:{Feature:I5}},Y5={layout:{ProjectionNode:Mw,MeasureLayout:Ww}},W5={...y5,...X5,...M5,...Y5},qe=m5(W5,x5),Kw=_.createContext(void 0),bd=()=>{const s=_.useContext(Kw);if(!s)throw new Error("useCart must be used within a CartProvider");return s},qf="https://yasndeco-api.andrey-gaffer.workers.dev/api",K5=({children:s})=>{const[i,l]=_.useState([]),[u,f]=_.useState(!1),[p,g]=_.useState("");_.useEffect(()=>{(async()=>{let D=localStorage.getItem("cart_session");D||(D=`cart_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,localStorage.setItem("cart_session",D)),g(D);try{const P=await(await fetch(`${qf}/cart`,{headers:{"X-Session-ID":D}})).json();P.success&&P.data.items&&l(P.data.items)}catch($){console.error("Failed to load cart from API:",$)}})()},[]);const v=async B=>{if(p)try{await fetch(`${qf}/cart`,{method:"POST",headers:{"Content-Type":"application/json","X-Session-ID":p},body:JSON.stringify({items:B})})}catch(D){console.error("Failed to save cart to API:",D)}},S=B=>{l(D=>{const $=D.find(O=>O.id===B.id);let P;return $?P=D.map(O=>O.id===B.id?{...O,quantity:O.quantity+B.quantity}:O):P=[...D,B],v(P),P}),f(!0)},w=B=>{l(D=>{const $=D.filter(P=>P.id!==B);return v($),$})},A=(B,D)=>{if(D<=0){w(B);return}l($=>{const P=$.map(O=>O.id===B?{...O,quantity:D}:O);return v(P),P})},j=()=>{l([]),p&&fetch(`${qf}/cart`,{method:"DELETE",headers:{"X-Session-ID":p}}).catch(console.error)},T=i.reduce((B,D)=>B+D.quantity,0),R=i.reduce((B,D)=>B+D.price*D.quantity,0);return t.jsx(Kw.Provider,{value:{items:i,addItem:S,removeItem:w,updateQuantity:A,clearCart:j,totalItems:T,totalPrice:R,isCartOpen:u,setIsCartOpen:f,sessionId:p},children:s})},Zw=_.createContext(void 0),yd=()=>{const s=_.useContext(Zw);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},Vo="https://yasndeco-api.andrey-gaffer.workers.dev/api",Z5=({children:s})=>{const[i,l]=_.useState(null),[u,f]=_.useState(null),[p,g]=_.useState(!0);_.useEffect(()=>{(async()=>{const R=localStorage.getItem("auth_token"),B=localStorage.getItem("auth_client");if(R&&B)try{f(R),l(JSON.parse(B));const $=await(await fetch(`${Vo}/clients/me`,{headers:{Authorization:`Bearer ${R}`}})).json();$.success&&$.data.client?(l($.data.client),localStorage.setItem("auth_client",JSON.stringify($.data.client))):A()}catch(D){console.error("Failed to restore auth:",D),A()}g(!1)})()},[]);const v=async(T,R)=>{try{const D=await(await fetch(`${Vo}/clients/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:T,password:R})})).json();return D.success?(f(D.data.token),l(D.data.client),localStorage.setItem("auth_token",D.data.token),localStorage.setItem("auth_client",JSON.stringify(D.data.client)),{success:!0}):{success:!1,error:D.error}}catch{return{success:!1,error:"Network error"}}},S=async(T,R,B,D)=>{try{const P=await(await fetch(`${Vo}/clients/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:T,phone:R,email:B,password:D})})).json();return P.success?(f(P.data.token),l(P.data.client),localStorage.setItem("auth_token",P.data.token),localStorage.setItem("auth_client",JSON.stringify(P.data.client)),{success:!0}):{success:!1,error:P.error}}catch{return{success:!1,error:"Network error"}}},w=async(T,R,B,D)=>{try{const P=await(await fetch(`${Vo}/clients/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({googleId:T,name:R,email:B,avatarUrl:D})})).json();return P.success?(f(P.data.token),l(P.data.client),localStorage.setItem("auth_token",P.data.token),localStorage.setItem("auth_client",JSON.stringify(P.data.client)),{success:!0}):{success:!1,error:P.error}}catch{return{success:!1,error:"Network error"}}},A=()=>{f(null),l(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_client")},j=async T=>{if(!u)return{success:!1,error:"Not authenticated"};try{const B=await(await fetch(`${Vo}/clients/me`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(T)})).json();if(B.success){const D={...i,...T};return l(D),localStorage.setItem("auth_client",JSON.stringify(D)),{success:!0}}else return{success:!1,error:B.error}}catch{return{success:!1,error:"Network error"}}};return t.jsx(Zw.Provider,{value:{client:i,token:u,isLoading:p,isAuthenticated:!!u,login:v,register:S,loginWithGoogle:w,logout:A,updateProfile:j},children:s})};const Q5=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J5=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,l,u)=>u?u.toUpperCase():l.toLowerCase()),Fb=s=>{const i=J5(s);return i.charAt(0).toUpperCase()+i.slice(1)},Qw=(...s)=>s.filter((i,l,u)=>!!i&&i.trim()!==""&&u.indexOf(i)===l).join(" ").trim(),eE=s=>{for(const i in s)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};var tE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nE=_.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:f="",children:p,iconNode:g,...v},S)=>_.createElement("svg",{ref:S,...tE,width:i,height:i,stroke:s,strokeWidth:u?Number(l)*24/Number(i):l,className:Qw("lucide",f),...!p&&!eE(v)&&{"aria-hidden":"true"},...v},[...g.map(([w,A])=>_.createElement(w,A)),...Array.isArray(p)?p:[p]]));const tt=(s,i)=>{const l=_.forwardRef(({className:u,...f},p)=>_.createElement(nE,{ref:p,iconNode:i,className:Qw(`lucide-${Q5(Fb(s))}`,`lucide-${s}`,u),...f}));return l.displayName=Fb(s),l};const sE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jw=tt("arrow-left",sE);const aE=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],iE=tt("arrow-up-down",aE);const rE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ni=tt("award",rE);const lE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oE=tt("bell",lE);const cE=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Rb=tt("building",cE);const uE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],$a=tt("calculator",uE);const dE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ev=tt("calendar",dE);const hE=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],zl=tt("camera",hE);const fE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dn=tt("check",fE);const mE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tv=tt("chevron-down",mE);const xE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],G0=tt("chevron-left",xE);const pE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ft=tt("chevron-right",pE);const gE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bE=tt("circle-alert",gE);const yE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nv=tt("circle-check-big",yE);const wE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xf=tt("circle-check",wE);const vE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],NE=tt("circle-x",vE);const CE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],km=tt("clock",CE);const SE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],sv=tt("cloud",SE);const jE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],EE=tt("database",jE);const AE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],av=tt("download",AE);const _E=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],TE=tt("external-link",_E);const kE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ad=tt("eye-off",kE);const FE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xr=tt("eye",FE);const RE=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],iv=tt("facebook",RE);const OE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ob=tt("file-text",OE);const BE=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],DE=tt("folder-tree",BE);const ME=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],IE=tt("funnel",ME);const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ws=tt("globe",LE);const PE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$E=tt("house",PE);const zE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],UE=tt("image",zE);const VE=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rv=tt("instagram",VE);const HE=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],GE=tt("languages",HE);const qE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hu=tt("lock",qE);const XE=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],YE=tt("log-in",XE);const WE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ja=tt("log-out",WE);const KE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ul=tt("mail",KE);const ZE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oc=tt("map-pin",ZE);const QE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Bb=tt("maximize-2",QE);const JE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eA=tt("menu",JE);const tA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lv=tt("message-square",tA);const nA=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Db=tt("minimize-2",nA);const sA=[["path",{d:"M5 12h14",key:"1ays0h"}]],ov=tt("minus",sA);const aA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],iA=tt("moon",aA);const rA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cn=tt("package",rA);const lA=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cv=tt("pen-line",lA);const oA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Gu=tt("pen",oA);const cA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],uA=tt("pencil",cA);const dA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Pl=tt("phone",dA);const hA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ks=tt("plus",hA);const fA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nt=tt("refresh-cw",fA);const mA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xs=tt("save",mA);const xA=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],pA=tt("scale",xA);const gA=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],bA=tt("scan-line",gA);const yA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wd=tt("search",yA);const wA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mb=tt("send",wA);const vA=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],uv=tt("server",vA);const NA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],za=tt("settings",NA);const CA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fm=tt("shield",CA);const SA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Vl=tt("shopping-bag",SA);const jA=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Xo=tt("shopping-cart",jA);const EA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],AA=tt("smartphone",EA);const _A=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qa=tt("sparkles",_A);const TA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ei=tt("square-pen",TA);const kA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],FA=tt("sun",kA);const RA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ys=tt("tag",RA);const OA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ca=tt("trash-2",OA);const BA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Yf=tt("truck",BA);const DA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ri=tt("upload",DA);const MA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IA=tt("user-plus",MA);const LA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cs=tt("user",LA);const PA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],id=tt("users",PA);const $A=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],dv=tt("video",$A);const zA=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],hv=tt("wand-sparkles",zA);const UA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=tt("x",UA);const VA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ib=tt("zap",VA),fv=({isOpen:s,onClose:i,theme:l})=>{const{t:u}=Ot(),{login:f,register:p,loginWithGoogle:g}=yd(),[v,S]=_.useState("login"),[w,A]=_.useState(!1),[j,T]=_.useState(!1),[R,B]=_.useState(""),[D,$]=_.useState(""),[P,O]=_.useState(""),[L,W]=_.useState(""),[de,ae]=_.useState(""),[X,ue]=_.useState(""),[q,Y]=_.useState(""),[Ce,he]=_.useState(""),oe=l==="light",ge=oe?"text-zinc-900":"text-white",Z=oe?"text-zinc-600":"text-gray-400",re=oe?"bg-white":"bg-zinc-900",J=oe?"border-zinc-200":"border-zinc-700",ke=oe?"bg-white":"bg-black/50",ne="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com";_.useEffect(()=>{s&&window.google&&window.google.accounts.id.initialize({client_id:ne,callback:ee,auto_select:!1,cancel_on_tap_outside:!0})},[s]);const ee=async te=>{T(!0),B("");try{const se=JSON.parse(atob(te.credential)),xe=await g(se.sub,se.name,se.email,se.picture);xe.success?(i(),be()):B(xe.error||"Google login failed")}catch{B("Google login failed")}T(!1)},U=()=>{window.google?window.google.accounts.id.prompt(te=>{te.isNotDisplayed()&&B("Google login is not available. Please try again or use email login.")}):B("Google login is not available")},G=async te=>{te.preventDefault(),T(!0),B("");const se=await f(D,P);se.success?(i(),be()):B(se.error||"Login failed"),T(!1)},ie=async te=>{if(te.preventDefault(),T(!0),B(""),q!==Ce){B("Passwords do not match"),T(!1);return}if(q.length<6){B("Password must be at least 6 characters"),T(!1);return}const se=await p(L,de,X,q);se.success?(i(),be()):B(se.error||"Registration failed"),T(!1)},be=()=>{$(""),O(""),W(""),ae(""),ue(""),Y(""),he(""),B("")},V=()=>{S(v==="login"?"register":"login"),B("")};return t.jsx(rs,{children:s&&t.jsxs(t.Fragment,{children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[70]",onClick:i}),t.jsxs(qe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md z-[80] ${re} rounded-2xl shadow-2xl overflow-hidden`,children:[t.jsxs("div",{className:`relative p-6 border-b ${J}`,children:[t.jsx("button",{onClick:i,className:`absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-lg transition-colors ${oe?"hover:bg-gray-100":"hover:bg-white/10"}`,children:t.jsx(qn,{className:`w-5 h-5 ${ge}`})}),t.jsx("h2",{className:`font-black italic text-2xl uppercase tracking-tight ${ge}`,children:u(v==="login"?"auth.login":"auth.register")}),t.jsx("p",{className:`text-sm ${Z} mt-1`,children:u(v==="login"?"auth.welcomeBack":"auth.createAccount")})]}),t.jsxs("div",{className:"p-6",children:[R&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:R}),v==="login"?t.jsxs("form",{onSubmit:G,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Z}`,children:u("auth.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ul,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Z}`}),t.jsx("input",{type:"email",value:D,onChange:te=>$(te.target.value),className:`w-full pl-10 pr-4 py-3 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${ge} ${ke}`,placeholder:"email@example.com",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Z}`,children:u("auth.password")}),t.jsxs("div",{className:"relative",children:[t.jsx(Hu,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Z}`}),t.jsx("input",{type:w?"text":"password",value:P,onChange:te=>O(te.target.value),className:`w-full pl-10 pr-12 py-3 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${ge} ${ke}`,placeholder:"",required:!0}),t.jsx("button",{type:"button",onClick:()=>A(!w),className:`absolute right-3 top-1/2 -translate-y-1/2 p-1 ${Z} hover:text-[#FF6B00]`,children:w?t.jsx(ad,{className:"w-5 h-5"}):t.jsx(Xr,{className:"w-5 h-5"})})]})]}),t.jsx("button",{type:"submit",disabled:j,className:"w-full bg-[#FF6B00] text-black py-4 text-sm font-bold uppercase tracking-wider rounded-xl hover:bg-[#FF8533] transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:j?t.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(YE,{className:"w-5 h-5"}),u("auth.login")]})})]}):t.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Z}`,children:u("auth.name")}),t.jsxs("div",{className:"relative",children:[t.jsx(Cs,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Z}`}),t.jsx("input",{type:"text",value:L,onChange:te=>W(te.target.value),className:`w-full pl-10 pr-4 py-3 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${ge} ${ke}`,placeholder:"John Doe",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Z}`,children:u("auth.phone")}),t.jsxs("div",{className:"relative",children:[t.jsx(Pl,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Z}`}),t.jsx("input",{type:"tel",value:de,onChange:te=>ae(te.target.value),className:`w-full pl-10 pr-4 py-3 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${ge} ${ke}`,placeholder:"+33 6 12 34 56 78"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Z}`,children:u("auth.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Ul,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Z}`}),t.jsx("input",{type:"email",value:X,onChange:te=>ue(te.target.value),className:`w-full pl-10 pr-4 py-3 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${ge} ${ke}`,placeholder:"email@example.com",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Z}`,children:u("auth.password")}),t.jsxs("div",{className:"relative",children:[t.jsx(Hu,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Z}`}),t.jsx("input",{type:w?"text":"password",value:q,onChange:te=>Y(te.target.value),className:`w-full pl-10 pr-12 py-3 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${ge} ${ke}`,placeholder:"",required:!0}),t.jsx("button",{type:"button",onClick:()=>A(!w),className:`absolute right-3 top-1/2 -translate-y-1/2 p-1 ${Z} hover:text-[#FF6B00]`,children:w?t.jsx(ad,{className:"w-5 h-5"}):t.jsx(Xr,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Z}`,children:u("auth.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Hu,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${Z}`}),t.jsx("input",{type:w?"text":"password",value:Ce,onChange:te=>he(te.target.value),className:`w-full pl-10 pr-4 py-3 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${ge} ${ke}`,placeholder:"",required:!0})]})]}),t.jsx("button",{type:"submit",disabled:j,className:"w-full bg-[#FF6B00] text-black py-4 text-sm font-bold uppercase tracking-wider rounded-xl hover:bg-[#FF8533] transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:j?t.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(IA,{className:"w-5 h-5"}),u("auth.register")]})})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:`flex items-center gap-4 ${Z}`,children:[t.jsx("div",{className:"flex-1 h-px bg-current opacity-20"}),t.jsx("span",{className:"text-xs uppercase tracking-wide",children:u("auth.or")}),t.jsx("div",{className:"flex-1 h-px bg-current opacity-20"})]}),t.jsxs("button",{onClick:U,disabled:j,className:`w-full mt-4 py-3 border ${J} rounded-xl text-sm font-bold uppercase tracking-wide transition-all duration-200 flex items-center justify-center gap-2 ${ge} hover:bg-[#FF6B00]/10 hover:border-[#FF6B00]`,children:[t.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[t.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),t.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),t.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),t.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),u("auth.google")]})]}),t.jsx("button",{onClick:V,className:`w-full mt-6 text-center text-sm ${Z} hover:text-[#FF6B00] transition-colors`,children:v==="login"?t.jsxs(t.Fragment,{children:[u("auth.noAccount")," ",t.jsx("span",{className:"font-bold text-[#FF6B00]",children:u("auth.register")})]}):t.jsxs(t.Fragment,{children:[u("auth.haveAccount")," ",t.jsx("span",{className:"font-bold text-[#FF6B00]",children:u("auth.login")})]})})]})]})]})})},HA=({theme:s,onToggleTheme:i})=>{const{t:l,i18n:u}=Ot(),[f,p]=_.useState(!1),[g,v]=_.useState(null),{totalItems:S,setIsCartOpen:w}=bd(),{client:A,isAuthenticated:j,logout:T}=yd(),[R,B]=_.useState(!1),D=s==="light";_.useEffect(()=>{$()},[]);const $=async()=>{try{const ue=await(await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/site-config")).json();ue.success&&v(ue.data)}catch(X){console.error("Error fetching site config:",X)}},P=X=>{if(!g||!(X in g))return"";const ue=u.language,q=g[X];return q&&(q[ue]||q.fr)||""},O=u.language,L=[{key:"accueil",label:l("nav.home"),path:"/"},{key:"catalogue",label:l("nav.catalogue"),path:"/catalogue"},{key:"marques",label:l("nav.brands"),path:"/marques"},{key:"services",label:l("nav.services"),path:"/services"},{key:"calculateurs",label:l("nav.calculators"),path:"/calculateurs"},{key:"contact",label:l("nav.contact"),path:"/contact"},{key:"legal",label:l("nav.legal"),path:"/legal"}],W=Sn(),de=X=>{p(!1),W(X)},ae=[{code:"fr",label:"FR"},{code:"en",label:"EN"},{code:"ru",label:"RU"}];return t.jsxs(t.Fragment,{children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-3 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${D?"bg-white/90 backdrop-blur-md border-gray-200":"bg-black/80 backdrop-blur-md border-gray-800"}`,children:[t.jsx("button",{className:`p-1.5 sm:p-2 transition-colors lg:hidden ${D?"text-black hover:text-[#FF6B00]":"text-white hover:text-[#FF6B00]"}`,onClick:()=>p(!0),"aria-label":"Menu",children:t.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),t.jsx(b0,{to:"/",className:"flex-shrink-0 hover:opacity-80 transition-opacity",children:t.jsxs("h1",{className:"font-bold text-xl sm:text-2xl tracking-wide",children:[t.jsx("span",{className:"text-[#FF6B00]",children:"YAN'S"}),t.jsx("span",{className:D?"text-black":"text-white",children:"DECO"})]})}),t.jsx("nav",{className:"hidden lg:flex items-center gap-4",children:L.map(X=>t.jsx(b0,{to:X.path,className:({isActive:ue})=>`text-[10px] xl:text-xs uppercase tracking-widest font-medium transition-colors duration-200 ${ue?"text-[#FF6B00]":D?"text-black hover:text-[#FF6B00]":"text-white hover:text-[#FF6B00]"}`,children:X.label},X.key))}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[t.jsxs("div",{className:`hidden xs:flex flex-col items-end text-[9px] sm:text-[10px] font-medium leading-tight ${D?"text-gray-600":"text-gray-400"}`,children:[t.jsx("span",{children:P("phone1")||l("header.phone1")}),t.jsx("span",{children:P("phone2")||l("header.phone2")})]}),t.jsx("div",{className:"flex gap-0.5 sm:gap-1 text-[10px] sm:text-xs",children:ae.map(X=>t.jsx("button",{onClick:()=>u.changeLanguage(X.code),className:`px-1.5 sm:px-2 py-1 rounded transition-all duration-200 font-medium ${O===X.code?"bg-[#FF6B00] text-black":D?"text-gray-600 hover:text-black":"text-gray-400 hover:text-white"}`,children:X.label},X.code))}),t.jsxs("button",{className:`relative p-1.5 transition-colors duration-200 ${D?"text-black hover:text-[#FF6B00]":"text-white hover:text-[#FF6B00]"}`,"aria-label":"Panier",onClick:()=>w(!0),children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),S>0&&t.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 sm:w-5 sm:h-5 bg-[#FF6B00] text-black text-[9px] sm:text-xs font-bold rounded-full flex items-center justify-center",children:S>99?"99+":S})]}),j&&A?t.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 relative group",children:[t.jsxs("button",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wide hover:text-[#FF6B00] transition-colors",children:[t.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx("span",{className:"text-black text-[10px] sm:text-xs font-bold",children:A.name.charAt(0).toUpperCase()})}),t.jsx("span",{className:`hidden sm:inline ${D?"text-black":"text-white"}`,children:A.name.split(" ")[0]}),t.jsx("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx("div",{className:"absolute top-full right-0 mt-2 w-44 sm:w-48 bg-white dark:bg-zinc-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:t.jsxs("div",{className:"p-1.5 sm:p-2",children:[t.jsx("button",{onClick:()=>W("/profile"),className:"w-full text-left px-3 py-2 text-xs sm:text-sm hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors",children:l("auth.profile")}),t.jsx("button",{onClick:T,className:"w-full text-left px-3 py-2 text-xs sm:text-sm text-red-500 hover:bg-gray-100 dark:hover:bg-white/10 rounded-lg transition-colors",children:l("auth.logout")})]})})]}):t.jsxs("button",{onClick:()=>B(!0),className:"hidden sm:flex items-center gap-1.5 bg-[#FF6B00] text-black px-3 py-1.5 sm:px-4 sm:py-2 text-[10px] sm:text-xs font-bold uppercase tracking-wider rounded-none hover:opacity-90 transition-opacity duration-200",children:[t.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),t.jsx("span",{className:"hidden xs:inline",children:"Connexion"})]}),t.jsx("button",{onClick:X=>{X.preventDefault(),i()},className:`p-1.5 transition-colors duration-200 ${D?"text-black hover:text-[#FF6B00]":"text-gray-400 hover:text-[#FF6B00]"}`,"aria-label":"Toggle theme",children:D?t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})]})]}),f&&t.jsxs("div",{className:"fixed inset-0 z-[60]",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:()=>p(!1)}),t.jsxs("div",{className:`absolute left-0 top-0 bottom-0 w-full max-w-sm sm:max-w-xs ${D?"bg-white/95 backdrop-blur-xl border-r border-gray-200":"bg-zinc-900/95 backdrop-blur-xl border-r border-gray-800"}`,children:[t.jsxs("div",{className:"p-4 sm:p-6 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[t.jsx("h2",{className:`font-bold text-lg sm:text-xl ${D?"text-black":"text-white"}`,children:"MENU"}),t.jsx("button",{onClick:()=>p(!1),className:`p-1.5 sm:p-2 transition-colors ${D?"text-black hover:text-[#FF6B00]":"text-white hover:text-[#FF6B00]"}`,children:t.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"flex gap-1.5 sm:gap-2 text-xs sm:text-sm mb-3 sm:mb-4",children:ae.map(X=>t.jsx("button",{onClick:()=>u.changeLanguage(X.code),className:`px-2 sm:px-3 py-1 sm:py-1.5 rounded-md font-medium transition-all duration-200 ${O===X.code?"bg-[#FF6B00] text-black":D?"bg-gray-100 text-gray-600 hover:text-black":"bg-white/10 text-gray-400 hover:text-white"}`,children:X.label},X.code))}),t.jsxs("div",{className:`text-[10px] sm:text-xs ${D?"text-gray-600":"text-gray-400"}`,children:[t.jsx("span",{children:P("phone1")||l("header.phone1")}),t.jsx("br",{}),t.jsx("span",{children:P("phone2")||l("header.phone2")})]})]}),t.jsxs("nav",{className:"p-3 sm:p-4",children:[t.jsx("ul",{className:"space-y-1 sm:space-y-2",children:L.map(X=>t.jsx("li",{children:t.jsx("button",{onClick:()=>de(X.path),className:`w-full text-left px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg text-xs sm:text-sm uppercase tracking-wide font-medium transition-all duration-200 ${D?"text-black hover:bg-[#FF6B00] hover:text-black":"text-white hover:bg-[#FF6B00] hover:text-black"}`,children:X.label})},X.key))}),t.jsx("div",{className:"mt-6 pt-4 border-t border-white/10 space-y-2 sm:space-y-3",children:j&&A?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg ${D?"bg-gray-100":"bg-white/10"}`,children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx("span",{className:"text-black font-bold text-xs sm:text-sm",children:A.name.charAt(0).toUpperCase()})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`font-bold text-xs sm:text-sm truncate ${D?"text-black":"text-white"}`,children:A.name}),t.jsx("p",{className:`text-[10px] sm:text-xs truncate ${D?"text-gray-600":"text-gray-400"}`,children:A.email})]})]}),t.jsxs("button",{onClick:()=>{p(!1),W("/profile")},className:"w-full flex items-center justify-center gap-1.5 sm:gap-2 border border-[#FF6B00] text-[#FF6B00] px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-bold uppercase tracking-wider rounded-lg hover:bg-[#FF6B00] hover:text-black transition-colors",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),l("auth.profile")]}),t.jsxs("button",{onClick:()=>{p(!1),T()},className:"w-full flex items-center justify-center gap-1.5 sm:gap-2 border border-red-500 text-red-500 px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-bold uppercase tracking-wider rounded-lg hover:bg-red-500 hover:text-white transition-colors",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),l("auth.logout")]})]}):t.jsxs("button",{onClick:()=>{p(!1),B(!0)},className:"w-full flex items-center justify-center gap-1.5 sm:gap-2 bg-[#FF6B00] text-black px-3 sm:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-bold uppercase tracking-wider rounded-lg hover:opacity-90 transition-opacity",children:[t.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Connexion"]})})]})]})]}),t.jsx(fv,{isOpen:R,onClose:()=>B(!1),theme:s})]})},GA=()=>{const{t:s}=Ot(),i=Ss(),[l,u]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[f,p]=_.useState(!1),[g,v]=_.useState(()=>typeof window<"u"?window.innerWidth<768:!1),S=()=>{u(localStorage.getItem("site-theme")==="light")};_.useEffect(()=>{const B=()=>{const D=window.innerWidth<768;D!==g&&v(D)};return B(),window.addEventListener("resize",B),window.addEventListener("themechange",S),()=>{window.removeEventListener("resize",B),window.removeEventListener("themechange",S)}},[g]),_.useEffect(()=>(window.addEventListener("storage",S),()=>{window.removeEventListener("storage",S)}),[]);const w=()=>{const B=l?"dark":"light";localStorage.setItem("site-theme",B),u(!l),window.dispatchEvent(new Event("themechange"))},A=i.pathname==="/v-terminal",j=[{id:"dashboard",label:s("admin.nav.dashboard"),icon:t.jsx($E,{className:"w-4 h-4"}),path:"/admin"},{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"clients",label:"CLIENTS",icon:t.jsx(id,{className:"w-4 h-4"}),path:"/admin/clients"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}],T=B=>B==="/admin"?i.pathname==="/admin":i.pathname.startsWith(B),R=()=>p(!1);return t.jsxs(t.Fragment,{children:[t.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 safe-area-top ${l?"bg-white/95 backdrop-blur-md border-gray-200":"bg-zinc-950/95 backdrop-blur-md border-white/10"}`,children:[t.jsxs("div",{className:"flex items-center justify-between h-14 px-3 sm:px-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[g&&!A?t.jsx("button",{onClick:()=>p(!0),className:`p-2 -ml-2 transition-colors ${l?"text-black hover:text-[#FF6B00]":"text-white hover:text-[#FF6B00]"}`,"aria-label":"Menu",children:t.jsx(eA,{className:"w-5 h-5"})}):t.jsx(Bn,{to:"/admin",className:`p-2 -ml-2 transition-colors ${l?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,"aria-label":"Back",children:t.jsx(Ft,{className:"w-5 h-5 rotate-180"})}),!A&&t.jsxs(Bn,{to:"/",className:`hidden sm:flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${l?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToSite")]})]}),!A&&t.jsx("nav",{className:"hidden md:flex items-center gap-0.5",children:j.slice(0,5).map(B=>t.jsx(Bn,{to:B.path,className:`flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-bold uppercase tracking-wider rounded transition-all duration-200 ${T(B.path)?"bg-[#FF6B00] text-black":l?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:B.icon},B.id))}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:w,className:`p-2 transition-all duration-300 ${l?"text-black hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,title:s(l?"admin.theme.dark":"admin.theme.light"),children:l?t.jsx(iA,{className:"w-4 h-4"}):t.jsx(FA,{className:"w-4 h-4"})}),t.jsx("div",{className:"w-8 h-8 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-4 h-4 text-black"})}),!A&&t.jsx("button",{onClick:()=>window.location.href="/",className:`hidden sm:flex items-center gap-1.5 ml-1 px-2 py-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${l?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:t.jsx(ja,{className:"w-3.5 h-3.5"})})]})]}),!A&&!g&&t.jsx("div",{className:"hidden lg:block border-t border-white/5 px-4 py-1.5",children:t.jsx("nav",{className:"flex items-center gap-0.5",children:j.slice(5).map(B=>t.jsxs(Bn,{to:B.path,className:`flex items-center gap-1.5 px-2.5 py-1.5 text-xs font-bold uppercase tracking-wider rounded transition-all duration-200 ${T(B.path)?"bg-[#FF6B00] text-black":l?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[B.icon,B.label]},B.id))})})]}),g&&!A&&f&&t.jsxs("div",{className:"fixed inset-0 z-[60]",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:R}),t.jsxs("div",{className:`absolute left-0 top-0 bottom-0 w-80 max-w-[85vw] transform transition-transform duration-300 ease-out ${l?"bg-white/95 backdrop-blur-xl border-r border-gray-200":"bg-zinc-900/95 backdrop-blur-xl border-r border-gray-800"}`,children:[t.jsx("div",{className:"pt-safe pr-4 pb-4 pl-3 border-b border-white/10",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h2",{className:`font-bold text-lg ${l?"text-black":"text-white"}`,children:s("admin.menu")}),t.jsx("button",{onClick:R,className:`p-2 -mr-2 transition-colors ${l?"text-black hover:text-[#FF6B00]":"text-white hover:text-[#FF6B00]"}`,children:t.jsx(qn,{className:"w-5 h-5"})})]})}),t.jsx("nav",{className:"p-3",children:t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:t.jsxs("button",{onClick:()=>{R(),window.history.back()},className:`flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sm uppercase tracking-wide font-medium transition-all duration-200 ${l?"text-black hover:bg-gray-100 hover:text-[#FF6B00]":"text-white hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"})," "]})}),j.map(B=>t.jsx("li",{children:t.jsxs(Bn,{to:B.path,onClick:R,className:`flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sm uppercase tracking-wide font-medium transition-all duration-200 ${T(B.path)?"bg-[#FF6B00] text-black":l?"text-black hover:bg-gray-100 hover:text-[#FF6B00]":"text-white hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[B.icon,B.label]})},B.id))]})})]})]}),t.jsx("main",{className:"pt-14 sm:pt-14",children:t.jsx(ty,{})})]})},qA=({theme:s})=>{const{t:i,i18n:l}=Ot(),u=Ss(),[f,p]=_.useState(null),g=s==="light",v=u.pathname==="/contact";_.useEffect(()=>{S()},[]);const S=async()=>{try{const R=await(await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/site-config")).json();R.success&&p(R.data)}catch(T){console.error("Error fetching site config:",T)}},w=T=>{if(!f||!(T in f))return"";const R=l.language,B=f[T];return B&&(B[R]||B.fr)||""},A=[{label:i("nav.home"),path:"/"},{label:i("nav.catalogue"),path:"/catalogue"},{label:i("nav.calculators"),path:"/calculateurs"},{label:i("nav.legal"),path:"/legal"}],j=[{href:"https://www.instagram.com/yans_deco?igsh=ZnY4dTY2OGcwNTdv",icon:rv,label:"Instagram"},{href:"https://www.facebook.com/share/1BqkghiSWn/?mibextid=wwXIfr",icon:iv,label:"Facebook"},{href:"https://www.tiktok.com/@yans.deco?_r=1&_t=ZN-936CikheAsg",icon:dv,label:"TikTok"}];return t.jsx("footer",{className:"relative z-10 border-t pt-8 pb-6 sm:pt-16 sm:pb-8 bg-transparent group",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 lg:gap-12",children:[t.jsxs("div",{children:[t.jsxs(Bn,{to:"/",className:"text-xl sm:text-2xl font-bold tracking-wider mb-3 sm:mb-4 hover:opacity-80 transition-opacity inline-block",children:[t.jsx("span",{className:"text-[#FF6B00]",children:"YAN'S"}),t.jsx("span",{className:g?"text-zinc-900":"text-white",children:"DECO"})]}),t.jsx("p",{className:`mb-3 sm:mb-4 font-light text-xs sm:text-sm leading-relaxed ${g?"text-zinc-700":"text-white"}`,children:i("footer.tagline")}),t.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[t.jsx("p",{className:g?"text-zinc-700":"text-white",children:w("phone1")||"+33 1 23 45 67 89"}),t.jsx("p",{className:g?"text-zinc-700":"text-white",children:w("email")||"contact@yansdeco.fr"})]}),t.jsx("div",{className:"flex gap-2 sm:gap-3 mt-3 sm:mt-4",children:j.map(T=>t.jsx("a",{href:T.href,target:"_blank",rel:"noopener noreferrer",className:`p-1.5 sm:p-2 rounded-full transition-all duration-300 ${g?"bg-gray-100 text-gray-600 hover:bg-[#FF6B00] hover:text-black":"bg-white/10 text-gray-400 hover:bg-[#FF6B00] hover:text-black"}`,"aria-label":T.label,children:t.jsx(T.icon,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})},T.label))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:`font-bold uppercase tracking-wider text-[10px] sm:text-xs mb-3 sm:mb-4 ${g?"text-zinc-900":"text-white"}`,children:i("footer.quickLinks")}),t.jsx("ul",{className:"space-y-1.5 sm:space-y-2",children:A.map(T=>t.jsx("li",{children:t.jsx(Bn,{to:T.path,className:`text-xs sm:text-sm transition-colors ${g?"text-zinc-700 hover:text-[#FF6B00]":"text-white hover:text-[#FF6B00]"}`,children:T.label})},T.label))})]}),t.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[t.jsx("h4",{className:`font-bold uppercase tracking-wider text-[10px] sm:text-xs mb-2 sm:mb-4 ${g?"text-zinc-900":"text-white"}`,children:"Yan's Deco"}),t.jsx("p",{className:`text-xs sm:text-sm ${g?"text-zinc-700":"text-white"}`,children:i("footer.copyright")}),t.jsx("p",{className:"text-[#FF6B00] font-semibold text-xs sm:text-sm mt-1.5 sm:mt-2",children:i("footer.location")}),v&&t.jsx("div",{className:"relative inline-block mt-3 sm:mt-4",children:t.jsxs(Bn,{to:"/admin",className:"inline-flex items-center gap-1.5 sm:gap-2 text-[9px] sm:text-[10px] uppercase tracking-wider text-gray-500 hover:text-[#FF6B00] opacity-0 hover:opacity-100 transition-all duration-300",children:[t.jsx(Fm,{className:"w-3 h-3 sm:w-4 sm:h-4"}),i("admin.title").split(" ").slice(1).join(" ")||"Admin"]})})]})]}),t.jsx("div",{className:`mt-8 pt-6 sm:mt-12 sm:pt-8 text-center text-[10px] sm:text-xs border-t ${g?"text-zinc-600 border-zinc-300":"text-gray-400 border-gray-700"}`,children:t.jsx("p",{children:i("footer.rights")})})]})})},XA=()=>{const{pathname:s,search:i}=Ss(),l=_.useRef(!1),u=_.useRef(!1),f=_.useCallback(()=>{if(!(u.current&&!l.current))try{if(performance.now()<100)return;window.scrollTo(0,0),u.current=!0,l.current=!1,"scrollRestoration"in history&&(history.scrollRestoration="manual")}catch(p){console.error("Scroll error:",p)}},[]);return _.useEffect(()=>{if(!u.current||l.current){const p=setTimeout(()=>{f()},10);return()=>clearTimeout(p)}},[s,i,f]),_.useEffect(()=>{const p=()=>{l.current=!0,u.current=!1,sessionStorage.setItem("scrollReset",Date.now().toString())},g=S=>{S.persisted&&(u.current=!1,window.scrollTo(0,0))};window.addEventListener("beforeunload",p),window.addEventListener("pageshow",g);const v=sessionStorage.getItem("scrollReset");return v&&Date.now()-parseInt(v)<100&&(l.current=!0,u.current=!1),()=>{window.removeEventListener("beforeunload",p),window.removeEventListener("pageshow",g)}},[]),null},YA=({theme:s})=>{const{t:i,i18n:l}=Ot(),u=Sn(),f=s==="light",[p,g]=_.useState(0),[v,S]=_.useState([]),[w,A]=_.useState(!0),[j,T]=_.useState([]),R=_.useRef(!1),B=_.useRef(!1),D="https://yasndeco-api.andrey-gaffer.workers.dev/api",$=f?"text-zinc-900":"text-white",P="text-[#FF6B00]",O=f?"text-zinc-600":"text-gray-400",L=3;_.useEffect(()=>{const he=setInterval(()=>{g(oe=>(oe+1)%L)},5250);return()=>clearInterval(he)},[]),_.useEffect(()=>{R.current||(R.current=!0,X())},[]),_.useEffect(()=>{B.current||(B.current=!0,W())},[]);const W=async()=>{try{const oe=await(await fetch(`${D}/admin/slides`)).json();oe.success&&oe.data&&oe.data.length>0&&T(oe.data)}catch{console.log("Using fallback i18n slides")}},de=(he,oe)=>{const ge=l.language,Z=`${oe}_${ge}`,re=`${oe}_fr`;return he[Z]||he[re]||""},ae=he=>{const oe=j.find(Z=>Z.slide_index===he+1);if(oe)return{label:de(oe,"label"),title:de(oe,"title"),description:de(oe,"content")};const ge=`slide${he+1}`;return{label:i(`home.slider.${ge}.label`),title:i(`home.slider.${ge}.title`),description:i(`home.slider.${ge}.description`)}},X=async()=>{try{const oe=await(await fetch(`${D}/products`)).json();if(oe.success){const ge=oe.data.filter(Z=>Z.is_popular===1);S(ge.slice(0,4))}}catch(he){console.error("Failed to load popular products:",he)}finally{A(!1)}},ue=he=>{const oe=l.language;return oe==="ru"?he.name_ru||he.name_fr||he.name_en||"":oe==="en"?he.name_en||he.name_fr||he.name_ru||"Product":he.name_fr||he.name_ru||he.name_en||"Produit"},q=ae(p),[Y,Ce]=_.useState(0);return _.useEffect(()=>{if(v.length<=1)return;const he=setInterval(()=>{Ce(oe=>(oe+1)%v.length)},5e3);return()=>clearInterval(he)},[v.length]),t.jsx("div",{className:"min-h-screen",children:t.jsx("main",{className:"min-h-[90vh] flex flex-col justify-center items-center py-12 lg:py-20",children:t.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-16 items-end",children:[t.jsxs("div",{className:"flex flex-col justify-between h-[600px] sm:h-[640px] lg:h-[680px] w-full max-w-xl pb-4",children:[t.jsx("div",{className:"relative flex-grow flex flex-col justify-center",children:t.jsx(rs,{mode:"wait",children:t.jsxs(qe.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.6,ease:[.25,.1,.25,1],opacity:{duration:.25}},className:"flex flex-col",children:[t.jsx("span",{className:`text-xs md:text-sm font-bold uppercase tracking-widest ${P} block mb-2`,children:q.label}),t.jsx("h1",{className:`font-black italic text-4xl md:text-5xl lg:text-6xl uppercase leading-none tracking-tight ${$}`,children:q.title}),t.jsx("div",{className:"h-[80px] mt-3",children:t.jsx("p",{className:"text-sm md:text-base leading-relaxed max-w-md text-gray-400 line-clamp-3",children:q.description})})]},`${p}-${l.language}`)})}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("div",{className:"flex gap-2",children:Array.from({length:L}).map((he,oe)=>t.jsx("button",{onClick:()=>g(oe),className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${oe===p?"bg-[#FF6B00]":"bg-white/30 hover:bg-white/50"}`,"aria-label":i(`home.slider.slide${oe+1}.label`)},oe))}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{onClick:()=>u("/calculateurs"),className:"bg-[#FF6B00] text-black px-5 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold uppercase tracking-wider rounded-lg hover:bg-[#FF8533] transition-all duration-200",children:i("home.cta.calculate")}),t.jsx("button",{onClick:()=>u("/contact"),className:`border-2 px-5 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${f?"border-zinc-900 text-zinc-900 hover:bg-zinc-900 hover:text-white":"border-white/30 text-white hover:bg-white hover:text-black"}`,children:i("home.cta.quote")})]})]})]}),t.jsxs("div",{className:"flex flex-col justify-center mt-8 lg:mt-0 h-full",children:[t.jsx("div",{className:"text-center mb-4 sm:mb-6",children:t.jsx("span",{className:`text-[10px] sm:text-xs md:text-sm font-medium uppercase tracking-widest ${P}`,children:i("home.popular")})}),w?t.jsxs("div",{className:`p-4 sm:p-6 rounded-xl sm:rounded-2xl flex flex-col ${f?"bg-white/40":"bg-black/40"} h-full min-h-[400px] sm:min-h-[500px] lg:min-h-[680px]`,children:[t.jsx("div",{className:"aspect-[4/3] w-full bg-black/20 rounded-lg mb-4"}),t.jsx("div",{className:"h-6 bg-black/20 rounded mb-2 w-3/4"}),t.jsx("div",{className:"h-4 bg-black/20 rounded mb-2 w-1/2"}),t.jsx("div",{className:"h-8 bg-black/20 rounded mt-auto w-1/3"})]}):v.length>0?t.jsxs("div",{className:"relative h-full",children:[t.jsx(rs,{mode:"wait",children:t.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:`p-4 sm:p-6 rounded-xl sm:rounded-2xl cursor-pointer flex flex-col h-full min-h-[400px] sm:min-h-[500px] lg:min-h-[680px] ${f?"bg-white/40":"bg-black/40"} hover:bg-[#FF6B00]/20 transition-all duration-300`,onClick:()=>u(`/product/${v[Y].id}`),children:[t.jsx("div",{className:"aspect-[4/3] w-full flex items-center justify-center mb-4 flex-shrink-0 bg-white/5 rounded-lg overflow-hidden",children:v[Y].image_url?t.jsx("img",{src:v[Y].image_url,alt:ue(v[Y]),className:"w-full h-full object-contain p-3",loading:"eager"}):t.jsx(Cn,{className:`w-16 h-16 sm:w-20 sm:h-20 ${O}`})}),t.jsxs("div",{className:"flex flex-col flex-grow h-full",children:[t.jsx("h4",{className:`font-black italic text-sm sm:text-base lg:text-lg uppercase tracking-tight mb-2 line-clamp-2 min-h-[3rem] flex-shrink-0 ${$}`,children:ue(v[Y])}),t.jsx("p",{className:`text-[10px] sm:text-xs ${O} line-clamp-1 mb-3`,children:v[Y].brand_name&&`Marque: ${v[Y].brand_name}`}),t.jsxs("p",{className:`text-lg sm:text-xl lg:text-2xl font-bold ${P} mt-auto`,children:[v[Y].price.toFixed(2)," "]})]})]},Y)}),v.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Ce(he=>(he-1+v.length)%v.length),className:`absolute left-1 sm:left-2 top-1/2 -translate-y-1/2 p-2 sm:p-2.5 rounded-full transition-colors ${f?"bg-white/80 text-black":"bg-black/50 text-white"} hover:bg-[#FF6B00] hover:text-black z-10`,"aria-label":"Produit prcdent",children:t.jsx(Ft,{className:"w-4 h-4 sm:w-5 sm:h-5 rotate-180"})}),t.jsx("button",{onClick:()=>Ce(he=>(he+1)%v.length),className:`absolute right-1 sm:right-2 top-1/2 -translate-y-1/2 p-2 sm:p-2.5 rounded-full transition-colors ${f?"bg-white/80 text-black":"bg-black/50 text-white"} hover:bg-[#FF6B00] hover:text-black z-10`,"aria-label":"Produit suivant",children:t.jsx(Ft,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),t.jsx("div",{className:"flex justify-center gap-1.5 sm:gap-2 absolute bottom-4 left-0 right-0",children:v.map((he,oe)=>t.jsx("button",{onClick:()=>Ce(oe),className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${oe===Y?"bg-[#FF6B00]":"bg-white/30 hover:bg-white/50"}`,"aria-label":`Voir le produit ${oe+1}`},oe))})]})]}):t.jsxs("div",{className:`p-6 sm:p-8 rounded-xl sm:rounded-2xl backdrop-blur-sm ${f?"bg-white/20":"bg-black/20"}`,children:[t.jsx("p",{className:`text-center text-base sm:text-lg italic ${$}`,children:i("home.comingSoon")}),t.jsxs("button",{onClick:()=>u("/catalogue"),className:`mt-3 sm:mt-4 mx-auto flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm font-bold uppercase tracking-wide ${P} hover:underline`,children:[i("catalogue.products"),t.jsx(Ft,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})]})]})]})})})})},Lb=({theme:s})=>{const{t:i,i18n:l}=Ot(),u=Sn(),{categoryId:f}=ti(),p=s==="light",[g,v]=_.useState([]),[S,w]=_.useState(!0),[A,j]=_.useState(""),T=_.useRef(!1),R="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{T.current||(T.current=!0,B())},[]);const B=async()=>{w(!0),j("");try{console.log("Fetching categories...");const q=await fetch(`${R}/categories`);console.log("Response status:",q.status);const Y=await q.json();console.log("Categories data:",Y),Y.success?v(Y.data):j("Failed to load categories")}catch(q){console.error("Failed to load categories:",q),j("Failed to load categories. Please check your connection.")}finally{w(!1)}},D=q=>{const Y=l.language;return Y==="ru"?q.name_ru||q.name_fr||q.name_en||` ${q.id}`:Y==="fr"?q.name_fr||q.name_ru||q.name_en||`Catgorie ${q.id}`:Y==="en"?q.name_en||q.name_ru||q.name_fr||`Category ${q.id}`:q.name_fr||`Category ${q.id}`},$=q=>{const Y=l.language;return Y==="ru"?q.desc_ru||q.desc_fr||q.desc_en||"":Y==="fr"?q.desc_fr||q.desc_ru||q.desc_en||"":Y==="en"?q.desc_en||q.desc_ru||q.desc_fr||"":q.desc_fr||""},P=q=>{u(`/catalogue/${q}`)},O=()=>{u(-1)},L=(q,Y)=>{for(const Ce of q){if(Ce.id===Y)return Ce;if(Ce.children&&Ce.children.length>0){const he=L(Ce.children,Y);if(he)return he}}},W=p?"text-gray-600":"text-gray-400",de=p?"text-black":"text-white",X=(q=>{const Y=new Map,Ce=[];return q.forEach(he=>{Y.set(he.id,{...he,children:[]})}),q.forEach(he=>{const oe=Y.get(he.id);he.parent_id&&Y.has(he.parent_id)?Y.get(he.parent_id).children.push(oe):Ce.push(oe)}),Ce})(g),ue=X;return S?t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Nt,{className:"w-10 h-10 text-[#FF6B00] animate-spin mx-auto"}),t.jsx("p",{className:`mt-4 ${W}`,children:" ..."})]})})})})}):A?t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-500",children:A}),t.jsx("button",{onClick:B,className:"mt-4 px-4 py-2 bg-[#FF6B00] text-black rounded-lg",children:"Retry"})]})})})})}):t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:f?t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:O,className:`mb-8 transition-colors duration-200 text-sm uppercase tracking-wide flex items-center gap-2 ${p?"text-gray-600 hover:text-[#FF6B00]":"text-gray-400 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"}),i("catalogue.back")]}),(()=>{const q=L(X,parseInt(f));if(!q)return t.jsx("div",{className:`text-center py-12 ${W}`,children:t.jsx("p",{children:"  "})});const Y=q.children||[];return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:`font-black italic text-2xl sm:text-3xl md:text-4xl uppercase tracking-tight mb-2 ${de}`,children:D(q)}),t.jsx("p",{className:`text-xs sm:text-sm ${W}`,children:$(q)})]}),Y.length>0?t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Y.map((Ce,he)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.05},onClick:()=>u(`/catalogue/${f}/${Ce.id}`),className:"rounded-xl overflow-hidden group cursor-pointer transition-all duration-300 border border-transparent hover:border-[#FF6B00] hover:scale-[1.02] bg-transparent",children:[t.jsx("div",{className:"aspect-square flex items-center justify-center p-4 bg-transparent",children:Ce.image_url?t.jsx("img",{src:Ce.image_url,alt:D(Ce),className:"max-w-full max-h-full object-contain transition-transform duration-1000 group-hover:scale-110"}):t.jsx(Cn,{className:`w-12 h-12 ${W} opacity-30`})}),t.jsxs("div",{className:"p-3",children:[t.jsx("h3",{className:`font-bold italic text-base uppercase tracking-wide mb-1 ${de} group-hover:text-[#FF6B00] transition-colors`,children:D(Ce)}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:`text-xs ${W}`,children:[Ce.product_count||0," ",i("catalogue.products_count",{count:Ce.product_count||0})]}),t.jsx(Ft,{className:`w-4 h-4 ${W} group-hover:text-[#FF6B00] group-hover:translate-x-1 transition-all duration-300`})]})]})]},Ce.id))}):t.jsxs("div",{className:`text-center py-12 ${W}`,children:[t.jsx(Cn,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),t.jsx("p",{children:"  "}),t.jsx("p",{className:"text-sm mt-2",children:t.jsx(Bn,{to:"/catalogue",className:"text-[#FF6B00] hover:underline",children:"  "})})]})]})})()]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:`font-black italic text-2xl sm:text-3xl md:text-4xl uppercase tracking-tight mb-4 ${de}`,children:i("catalogue.title")}),t.jsx("p",{className:`text-xs sm:text-sm ${W} max-w-2xl mx-auto`,children:i("catalogue.subtitle")})]}),ue.length>0?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:ue.map((q,Y)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.1},onClick:()=>P(q.id),className:"rounded-xl overflow-hidden group cursor-pointer transition-all duration-300 border border-transparent hover:border-[#FF6B00] hover:scale-[1.02] bg-transparent",children:[t.jsx("div",{className:"aspect-[4/3] flex items-center justify-center p-6 bg-transparent",children:q.image_url?t.jsx("img",{src:q.image_url,alt:D(q),className:"max-w-full max-h-full object-contain transition-transform duration-1000 group-hover:scale-110"}):t.jsx(Cn,{className:`w-16 h-16 ${W} opacity-30`})}),t.jsxs("div",{className:"p-4",children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-2 ${de} group-hover:text-[#FF6B00] transition-colors`,children:D(q)}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:`text-xs ${W}`,children:[q.product_count||0," ",i("catalogue.products_count",{count:q.product_count||0})]}),t.jsx(Ft,{className:`w-5 h-5 ${W} group-hover:text-[#FF6B00] group-hover:translate-x-1 transition-all duration-300`})]})]})]},q.id))}):t.jsxs("div",{className:`text-center py-12 ${W}`,children:[t.jsx(Cn,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),t.jsx("p",{children:"  "})]})]})})})})})},WA=({theme:s})=>{const{t:i}=Ot(),l=s==="light",[u,f]=_.useState([]),[p,g]=_.useState(!0),v=_.useRef(!1),S="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{v.current||(v.current=!0,w())},[]);const w=async()=>{try{const R=await(await fetch(`${S}/brands`)).json();if(R.success){const B=await Promise.all(R.data.map(async D=>{try{const P=await(await fetch(`${S}/brands/${D.id}/products`)).json();return{...D,product_count:P.success?P.data.length:0}}catch{return{...D,product_count:0}}}));f(B)}}catch(T){console.error("Failed to load brands:",T)}finally{g(!1)}},A=T=>T.name,j=l?"text-gray-600":"text-gray-400";return p?t.jsx("main",{className:"min-h-screen pt-4 flex items-center justify-center",children:t.jsx("div",{className:`text-center ${l?"text-black":"text-white"}`,children:t.jsx("p",{children:"Chargement..."})})}):t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-16 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("h1",{className:"font-black italic text-3xl sm:text-4xl md:text-5xl uppercase tracking-tight mb-4 drop-shadow-lg",children:[t.jsx("span",{className:l?"text-black":"text-white",children:i("brands.title").split(" ")[0]})," ",t.jsx("span",{className:"text-[#FF6B00]",children:i("brands.title").split(" ").slice(1).join(" ")})]}),t.jsx("p",{className:`max-w-2xl mx-auto text-xs sm:text-sm leading-relaxed drop-shadow-md ${l?"text-gray-700":"text-gray-300"}`,children:i("brands.subtitle")})]}),u.length===0?t.jsx("div",{className:`text-center py-12 ${l?"text-gray-700":"text-gray-300"}`,children:t.jsx("p",{children:"Aucune marque disponible"})}):t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 sm:gap-4",children:u.map(T=>t.jsxs("a",{href:`/marques/${T.id}`,className:`
                    group relative flex flex-col items-center justify-center
                    h-[160px] sm:h-[180px] md:h-[200px]
                    p-2 sm:p-3 md:p-4
                    rounded-lg sm:rounded-xl
                    border transition-all duration-300
                    hover:border-[#FF6B00]
                  `,style:{backgroundColor:l?T.bg_light_enabled&&T.bg_light_color?`${T.bg_light_color}${Math.round((T.bg_light_opacity||50)*2.55).toString(16).padStart(2,"0")}`:"transparent":T.bg_dark_enabled&&T.bg_dark_color?`${T.bg_dark_color}${Math.round((T.bg_dark_opacity||50)*2.55).toString(16).padStart(2,"0")}`:"transparent",borderColor:l?T.border_light_enabled&&T.border_light_color?`${T.border_light_color}${Math.round((T.border_light_opacity||100)*2.55).toString(16).padStart(2,"0")}`:"transparent":T.border_dark_enabled&&T.border_dark_color?`${T.border_dark_color}${Math.round((T.border_dark_opacity||100)*2.55).toString(16).padStart(2,"0")}`:"transparent",borderWidth:l&&T.border_light_enabled||!l&&T.border_dark_enabled?"2px":"1px"},onMouseEnter:R=>{const B=l?T.glow_light_enabled&&T.glow_light_color:T.glow_dark_enabled&&T.glow_dark_color,D=l?T.glow_light_color:T.glow_dark_color,$=l?T.glow_light_opacity||50:T.glow_dark_opacity||50,P=l?T.glow_light_blur||20:T.glow_dark_blur||20;B&&D&&(R.currentTarget.style.transition="box-shadow 300ms ease",R.currentTarget.style.boxShadow=`0 0 ${P}px ${D}${Math.round($*2.55).toString(16).padStart(2,"0")}`)},onMouseLeave:R=>{R.currentTarget.style.transition="box-shadow 300ms ease",R.currentTarget.style.boxShadow="none"},children:[T.logo_url&&T.logo_url.trim()!==""&&t.jsx("img",{src:T.logo_url,alt:`Logo ${T.name}`,className:`
                        max-h-[80px] sm:max-h-[95px] md:max-h-[110px]
                        w-auto object-contain
                        mb-2 sm:mb-2 md:mb-3
                        transition-transform duration-300
                        group-hover:scale-105
                      `,onError:R=>{R.currentTarget.style.display="none"}}),!T.hide_name&&t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:`
                        text-center font-bold uppercase tracking-wide
                        text-xs sm:text-sm md:text-base
                        transition-colors duration-300
                        ${l?"text-black":"text-white"}
                        group-hover:text-[#FF6B00]
                      `,children:A(T)}),T.product_count!==void 0&&T.product_count>0&&t.jsxs("span",{className:`text-[10px] sm:text-xs ${j} mt-1`,children:[T.product_count," ",T.product_count===1?"produit":"produits"]})]})]},T.id))})]})})})},KA=({theme:s})=>{const{t:i,i18n:l}=Ot(),u=s==="light",[f,p]=_.useState([]),[g,v]=_.useState(!0),[S,w]=_.useState(""),A="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{j()},[]);const j=async()=>{v(!0),w("");try{const O=await(await fetch(`${A}/services`)).json();O.success?p(O.data):w("Failed to load services")}catch(P){console.error("Failed to load services:",P),w("Failed to load services")}finally{v(!1)}},T=P=>{const O=l.language;return O==="ru"?P.title_ru||P.title_fr||P.title_en||"":O==="fr"?P.title_fr||P.title_ru||P.title_en||"":O==="en"?P.title_en||P.title_ru||P.title_fr||"":P.title_fr||""},R=P=>{const O=l.language;return O==="ru"?P.subtitle_ru||P.subtitle_fr||P.subtitle_en||"":O==="fr"?P.subtitle_fr||P.subtitle_ru||P.subtitle_en||"":O==="en"?P.subtitle_en||P.subtitle_ru||P.subtitle_fr||"":P.subtitle_fr||""},B=P=>{const O=l.language;return O==="ru"?P.description_ru||P.description_fr||P.description_en||"":O==="fr"?P.description_fr||P.description_ru||P.description_en||"":O==="en"?P.description_en||P.description_ru||P.description_fr||"":P.description_fr||""},D=P=>{const O=l.language;return O==="ru"?P.tags_ru?.split(",").map(L=>L.trim())||[]:O==="fr"?P.tags_fr?.split(",").map(L=>L.trim())||[]:O==="en"?P.tags_en?.split(",").map(L=>L.trim())||[]:P.tags_fr?.split(",").map(L=>L.trim())||[]},$=u?"text-gray-700":"text-gray-300";return g?t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-16 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Xf,{className:"w-12 h-12 mx-auto mb-4 animate-pulse text-[#FF6B00]"}),t.jsx("p",{className:u?"text-black":"text-white",children:"Chargement..."})]})})})})}):S?t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-16 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-500",children:S}),t.jsx("button",{onClick:j,className:"mt-4 px-4 py-2 bg-[#FF6B00] text-black rounded-lg",children:"Retry"})]})})})}):t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-16 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("h1",{className:"font-black italic text-3xl sm:text-4xl md:text-5xl uppercase tracking-tight mb-4 drop-shadow-lg",children:[t.jsx("span",{className:u?"text-black":"text-white",children:i("services.title").split(" ")[0]})," ",t.jsx("span",{className:"text-[#FF6B00]",children:i("services.title").split(" ").slice(1).join(" ")})]}),t.jsx("p",{className:`max-w-2xl mx-auto text-xs sm:text-sm leading-relaxed drop-shadow-md ${u?"text-gray-700":"text-gray-300"}`,children:i("services.subtitle")})]}),f.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:f.map((P,O)=>{const L=P.gradient_from?.startsWith("from-")?P.gradient_from.replace("from-","").split("-")[0]:P.gradient_from||"orange",W=`from-${L}-500/10 to-${L}-500/5`;return t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"relative h-56 rounded-xl border border-transparent bg-transparent group cursor-pointer transition-all duration-500 ",children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${W} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),t.jsx("div",{className:"absolute inset-0 backdrop-blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full p-5",children:[P.icon_url||P.icon_emoji?t.jsx("div",{className:"mb-3 transition-all duration-500 text-[#FF6B00]",children:P.icon_url?t.jsx("img",{src:P.icon_url,alt:"",className:"w-16 h-16 object-contain"}):P.icon_emoji?t.jsx("span",{className:"text-5xl",children:P.icon_emoji}):null}):null,t.jsxs("h3",{className:`font-black italic text-2xl uppercase tracking-tight mb-2 text-center transition-all duration-300 ${u?"text-black":"text-white"}`,children:[T(P)," ",t.jsx("span",{className:"text-[#FF6B00]",children:R(P)})]}),t.jsx("p",{className:`text-sm leading-relaxed text-center ${$} line-clamp-2`,children:B(P)}),t.jsx("div",{className:"flex flex-wrap gap-2 justify-center mt-3",children:D(P).map((de,ae)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-medium bg-[#FF6B00]/10 text-[#FF6B00] border border-[#FF6B00]/20",children:[t.jsx(Xf,{className:"w-3 h-3"}),de]},ae))})]}),t.jsxs("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-500",children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border border-[#FF6B00]/50"}),t.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-[#FF6B00]/10 to-transparent opacity-50"})]})]},P.id)})}):t.jsxs("div",{className:`text-center py-12 ${$}`,children:[t.jsx(Xf,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Services bientt disponibles"})]})]})})})})},ZA=({theme:s})=>{const{i18n:i}=Ot(),[l,u]=_.useState([]),[f,p]=_.useState(null);_.useEffect(()=>{g()},[]);const g=async()=>{try{const de=await(await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/calculator-materials")).json();de.success&&(u(de.data),de.data.length>0&&p(de.data[0]))}catch(W){console.error("Error fetching materials:",W)}},v=W=>{switch(i.language){case"ru":return W.name_ru;case"en":return W.name_en;default:return W.name_fr}},[S,w]=_.useState(""),[A,j]=_.useState(null),T=s==="light",R=()=>{const W=parseFloat(S);if(isNaN(W)||W<=0||!f){j(null);return}const de=W*f.consumption*f.coats;j(Math.ceil(de*10)/10)},B=`relative rounded-xl overflow-hidden group cursor-pointer transition-all duration-300 ease-out hover:scale-[1.02] ${T?"bg-white/30 hover:bg-white/50":"bg-transparent hover:bg-white/5"} backdrop-blur-sm border border-white/10`,D=`w-16 h-16 mb-6 flex items-center justify-center rounded-xl ${T?"bg-white/30":"bg-white/5"}`,$=`w-full px-4 py-3 rounded-lg transition-colors focus:outline-none ${T?"bg-white/40 border border-white/20 text-black focus:border-[#FF6B00]":"bg-black/20 border border-white/10 text-white focus:border-[#FF6B00]"}`,P=T?"text-black":"text-white",O=T?"text-gray-700":"text-gray-300",L=T?"text-gray-600":"text-gray-400";return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-16 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("h1",{className:"font-black italic text-5xl uppercase tracking-tight mb-4 drop-shadow-lg",children:[t.jsx("span",{className:T?"text-black":"text-white",children:"NOS"})," ",t.jsx("span",{className:"text-[#FF6B00]",children:"CALCULATEURS"})]}),t.jsxs("p",{className:`max-w-2xl mx-auto text-sm leading-relaxed drop-shadow-md ${T?"text-gray-700":"text-gray-300"}`,children:["Outils pratiques pour estimer vos besoins en matriaux et optimiser vos projets.",t.jsx("br",{}),"Calculs prcis pour vos chantiers."]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:B,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-900/10 to-transparent"}),t.jsxs("div",{className:"relative p-6",children:[t.jsx("div",{className:D,children:t.jsx("svg",{className:`w-8 h-8 ${T?"text-gray-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),t.jsx("h3",{className:`text-xl font-bold mb-3 uppercase tracking-wide ${P}`,children:"MiMo-V2"}),t.jsx("p",{className:`text-sm leading-relaxed mb-4 ${O}`,children:"Calculateur de consommation de matriaux pour vos projets de construction et rnovation."}),t.jsx("span",{className:"text-green-400 text-sm font-medium uppercase tracking-wide",children:"Fonctionnel"}),t.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs uppercase tracking-wide mb-2 ${L}`,children:"Matriau"}),t.jsx("select",{className:$,value:f?.id||"",onChange:W=>{const de=l.find(ae=>ae.id===parseInt(W.target.value));de&&p(de)},disabled:!f,children:l.map(W=>t.jsx("option",{value:W.id,children:v(W)},W.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs uppercase tracking-wide mb-2 ${L}`,children:"Surface (m)"}),t.jsx("input",{type:"number",className:$,placeholder:"Ex: 25",value:S,onChange:W=>w(W.target.value),onKeyDown:W=>W.key==="Enter"&&R()})]}),t.jsx("button",{onClick:R,className:"w-full bg-[#FF6B00] text-black px-6 py-3 text-sm font-bold uppercase tracking-wider hover:bg-[#FF8533] transition-colors duration-200 rounded-lg",children:"Calculer"}),A!==null&&f&&t.jsxs("div",{className:`p-4 mt-4 rounded-lg ${T?"bg-white/40 border border-white/20":"bg-black/20 border border-white/10"}`,children:[t.jsx("p",{className:`text-xs uppercase tracking-wide mb-1 ${L}`,children:"Quantit estime"}),t.jsxs("p",{className:"text-[#FF6B00] text-2xl font-bold",children:[A," ",t.jsx("span",{className:"text-sm",children:f.unit.split("/")[0]})]}),t.jsx("p",{className:`text-xs mt-2 ${L}`,children:f.coats>1?`(${f.coats} couches recommandes)`:"(1 couche)"})]}),f&&t.jsx("div",{className:`text-xs mt-4 ${L}`,children:t.jsxs("p",{children:["Consommation: ",f.consumption," ",f.unit]})})]})})]})]}),t.jsxs("div",{className:B,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-900/10 to-transparent"}),t.jsxs("div",{className:"relative p-6",children:[t.jsx("div",{className:D,children:t.jsx("svg",{className:`w-8 h-8 ${T?"text-gray-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),t.jsx("h3",{className:`text-xl font-bold mb-3 uppercase tracking-wide ${P}`,children:"Calculateur de surface"}),t.jsx("p",{className:`text-sm leading-relaxed mb-4 ${O}`,children:"Estimez la surface  couvrir pour vos revtements de sol et muraux."}),t.jsx("span",{className:"text-[#FF6B00] text-sm font-medium uppercase tracking-wide",children:"Bientt disponible"})]})]}),t.jsxs("div",{className:B,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-900/10 to-transparent"}),t.jsxs("div",{className:"relative p-6",children:[t.jsx("div",{className:D,children:t.jsx("svg",{className:`w-8 h-8 ${T?"text-gray-600":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),t.jsx("h3",{className:`text-xl font-bold mb-3 uppercase tracking-wide ${P}`,children:"Calculateur de quantit"}),t.jsx("p",{className:`text-sm leading-relaxed mb-4 ${O}`,children:"Dterminez la quantit exacte de matriaux ncessaire pour votre chantier."}),t.jsx("span",{className:"text-[#FF6B00] text-sm font-medium uppercase tracking-wide",children:"Bientt disponible"})]})]})]})]})})})},QA=({theme:s})=>{const{t:i}=Ot(),l=s==="light",[u,f]=_.useState({name:"",email:"",message:""}),[p,g]=_.useState(!1),[v,S]=_.useState("idle"),w="rounded-2xl transition-all duration-300",A=l?"text-black":"text-white",j=l?"text-gray-700":"text-gray-300",T=`w-full px-4 py-3 rounded-lg text-sm transition-all duration-200 ${l?"bg-white/60 border border-gray-200 text-black placeholder-gray-500 focus:border-[#FF6B00] focus:ring-2 focus:ring-[#FF6B00]/20":"bg-black/20 border border-white/10 text-white placeholder-gray-500 focus:border-[#FF6B00] focus:ring-2 focus:ring-[#FF6B00]/20"}`,R=async D=>{D.preventDefault(),g(!0),await new Promise($=>setTimeout($,1e3)),S("success"),f({name:"",email:"",message:""}),g(!1),setTimeout(()=>S("idle"),3e3)},B=D=>{f($=>({...$,[D.target.name]:D.target.value}))};return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-16 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("h1",{className:"font-black italic text-3xl sm:text-4xl md:text-5xl uppercase tracking-tight mb-4 drop-shadow-lg",children:[t.jsx("span",{className:l?"text-black":"text-white",children:i("contact.title").split(" ")[0]})," ",t.jsx("span",{className:"text-[#FF6B00]",children:i("contact.title").split(" ").slice(1).join(" ")})]}),t.jsx("p",{className:`max-w-2xl mx-auto text-xs sm:text-sm leading-relaxed drop-shadow-md ${l?"text-gray-700":"text-gray-300"}`,children:i("contact.subtitle")})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[t.jsxs("div",{className:w,children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-4 ${A}`,children:[t.jsx(oc,{className:"inline w-6 h-6 mr-2 text-[#FF6B00]"}),i("contact.localisation")]}),t.jsx("p",{className:`text-sm mb-4 ${j}`,children:i("contact.address")}),t.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=1+Rue+Magnier+B%C3%A9du+95410+Groslay",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-[#FF6B00] hover:text-[#FF8533] transition-colors text-sm font-medium",children:[i("contact.openMaps"),t.jsx(TE,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"rounded-2xl overflow-hidden h-80",children:t.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2622.785234567890!2d2.3500000000000003!3d48.980000000000004!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e665037a5514b%3A0x0000000000000000!2s1+Rue+Magnier+B%C3%A9du%2C+95410+Groslay!5e0!3m2!1sfr!2sfr!4v1699900000000!5m2!1sfr!2sfr",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Yan's Deco - Groslay"})})]}),t.jsxs("div",{className:w,children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-6 ${A}`,children:[t.jsx(km,{className:"inline w-6 h-6 mr-2 text-[#FF6B00]"}),i("contact.hours")]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center py-2",children:[t.jsx("span",{className:`text-sm ${j}`,children:i("contact.mondayFriday")}),t.jsx("span",{className:`text-sm font-medium ${A}`,children:"07:30 - 17:00"})]}),t.jsxs("div",{className:"flex justify-between items-center py-2",children:[t.jsx("span",{className:`text-sm ${j}`,children:i("contact.saturday")}),t.jsx("span",{className:`text-sm font-medium ${A}`,children:"09:00 - 12:00"})]}),t.jsxs("div",{className:"flex justify-between items-center py-2",children:[t.jsx("span",{className:`text-sm ${j}`,children:i("contact.sunday")}),t.jsx("span",{className:"text-sm font-medium text-[#FF6B00]",children:i("contact.closed")})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-4 ${A}`,children:[t.jsx(Pl,{className:"inline w-6 h-6 mr-2 text-[#FF6B00]"}),i("contact.contacts")]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("a",{href:"tel:+33661088905",className:`flex items-center gap-3 text-sm hover:text-[#FF6B00] transition-colors ${j}`,children:[t.jsx(Pl,{className:"w-4 h-4 text-[#FF6B00]"}),i("contact.phone1")]}),t.jsxs("a",{href:"tel:+33667181020",className:`flex items-center gap-3 text-sm hover:text-[#FF6B00] transition-colors ${j}`,children:[t.jsx(Pl,{className:"w-4 h-4 text-[#FF6B00]"}),i("contact.phone2")]}),t.jsxs("a",{href:"mailto:YANS.DECO95@GMAIL.COM",className:`flex items-center gap-3 text-sm hover:text-[#FF6B00] transition-colors ${j}`,children:[t.jsx(Ul,{className:"w-4 h-4 text-[#FF6B00]"}),i("contact.email")]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-4 ${A}`,children:[t.jsx(oc,{className:"inline w-6 h-6 mr-2 text-[#FF6B00]"}),i("contact.addressTitle")]}),t.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=1+Rue+Magnier+B%C3%A9du+95410+Groslay",target:"_blank",rel:"noopener noreferrer",className:`block text-sm hover:text-[#FF6B00] transition-colors ${j}`,children:[i("contact.address"),t.jsx("span",{className:"text-[#FF6B00] text-xs mt-1 inline-block",children:i("contact.seeMap")})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("p",{className:`text-sm mb-4 ${j}`,children:i("contact.socialTitle")}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("a",{href:"https://www.instagram.com/yans_deco?igsh=ZnY4dTY2OGcwNTdv",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-full bg-white/5 hover:bg-[#FF6B00] transition-all duration-300 group","aria-label":"Instagram",children:t.jsx(rv,{className:"w-6 h-6 text-gray-400 group-hover:text-black transition-colors"})}),t.jsx("a",{href:"https://www.facebook.com/share/1BqkghiSWn/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-full bg-white/5 hover:bg-[#FF6B00] transition-all duration-300 group","aria-label":"Facebook",children:t.jsx(iv,{className:"w-6 h-6 text-gray-400 group-hover:text-black transition-colors"})}),t.jsx("a",{href:"https://www.tiktok.com/@yans.deco?_r=1&_t=ZN-936CikheAsg",target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-full bg-white/5 hover:bg-[#FF6B00] transition-all duration-300 group","aria-label":"TikTok",children:t.jsx(dv,{className:"w-6 h-6 text-gray-400 group-hover:text-black transition-colors"})})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-6 ${A}`,children:[t.jsx(Mb,{className:"inline w-6 h-6 mr-2 text-[#FF6B00]"}),i("contact.contactForm")]}),v==="success"&&t.jsx("div",{className:"mb-4 p-4 rounded-lg bg-green-500/20 border border-green-500/30 text-green-600 text-sm",children:i("contact.success")}),t.jsxs("form",{onSubmit:R,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:`block text-xs uppercase tracking-wide mb-2 ${j}`,children:i("contact.name")}),t.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:B,placeholder:i("contact.name"),required:!0,className:T})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:`block text-xs uppercase tracking-wide mb-2 ${j}`,children:i("contact.email")}),t.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:B,placeholder:i("contact.email"),required:!0,className:T})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:`block text-xs uppercase tracking-wide mb-2 ${j}`,children:i("contact.message")}),t.jsx("textarea",{id:"message",name:"message",value:u.message,onChange:B,placeholder:i("contact.message"),required:!0,rows:4,className:`${T} resize-none`})]}),t.jsx("button",{type:"submit",disabled:p,className:"w-full bg-[#FF6B00] text-black px-6 py-3 text-sm font-bold uppercase tracking-wider rounded-lg hover:bg-[#FF8533] hover:scale-[1.02] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i("contact.sending")]}):t.jsxs(t.Fragment,{children:[i("contact.send"),t.jsx(Mb,{className:"w-4 h-4"})]})})]})]})]})]})]})})})},JA=({theme:s})=>{const{t:i,i18n:l}=Ot(),u=Sn(),{categoryId:f,subcategoryId:p}=ti(),g=s==="light",[v,S]=_.useState(null),[w,A]=_.useState([]),[j,T]=_.useState(!0),[R,B]=_.useState(""),D=_.useRef(""),$="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const Y=`${f}-${p}`;D.current!==Y&&(D.current=Y,f&&P(parseInt(f),p?parseInt(p):null))},[f,p]);const P=async(Y,Ce)=>{T(!0),B("");try{const oe=await(await fetch(`${$}/${Ce?`categories/${Ce}`:`categories/${Y}`}`)).json();oe.success&&S(oe.data);const Z=await(await fetch(`${$}/categories/${Ce||Y}/products`)).json();Z.success&&A(Z.data)}catch(he){console.error("Failed to load data:",he),B("Failed to load products")}finally{T(!1)}},O=()=>{if(!v)return p?.replace(/_/g," ")||"";const Y=l.language;return Y==="ru"?v.name_ru||v.name_fr||v.name_en||"":Y==="fr"?v.name_fr||v.name_ru||v.name_en||"":Y==="en"?v.name_en||v.name_ru||v.name_fr||"":v.name_fr||""},L=Y=>{const Ce=l.language;return Ce==="ru"?Y.name_ru||Y.name_fr||Y.name_en||"":Ce==="fr"?Y.name_fr||Y.name_ru||Y.name_en||"":Ce==="en"?Y.name_en||Y.name_ru||Y.name_fr||"":Y.name_fr||""},W=Y=>{const Ce=l.language;return Ce==="ru"?Y.desc_ru||Y.desc_fr||Y.desc_en||"":Ce==="fr"?Y.desc_fr||Y.desc_ru||Y.desc_en||"":Ce==="en"?Y.desc_en||Y.desc_ru||Y.desc_fr||"":Y.desc_fr||""},de=()=>{u(-1)},ae=Y=>{u(`/product/${Y}`)},X=g?"text-gray-600":"text-gray-400",ue=g?"text-black":"text-white";if(j)return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Nt,{className:"w-10 h-10 text-[#FF6B00] animate-spin mx-auto"}),t.jsx("p",{className:`mt-4 ${X}`,children:" ..."})]})})})})});if(R)return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("button",{onClick:de,className:`mb-8 transition-colors duration-200 text-sm uppercase tracking-wide flex items-center gap-2 ${g?"text-gray-600 hover:text-[#FF6B00]":"text-gray-400 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"}),i("catalogue.back")]}),t.jsx("div",{className:`text-center py-12 ${X}`,children:t.jsx("p",{className:"text-red-500",children:R})})]})})});const q=O();return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("button",{onClick:de,className:`mb-8 transition-colors duration-200 text-sm uppercase tracking-wide flex items-center gap-2 ${g?"text-gray-600 hover:text-[#FF6B00]":"text-gray-400 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"}),i("catalogue.back")]}),t.jsx("div",{className:"text-center mb-10",children:t.jsx("h1",{className:`font-black italic text-4xl uppercase tracking-tight mb-2 ${ue}`,children:t.jsx("span",{className:g?"text-black":"text-white",children:q})})}),w.length>0?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map((Y,Ce)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ce*.05},onClick:()=>ae(Y.id),className:"relative rounded-xl overflow-hidden group cursor-pointer transition-all duration-1000 ease-out hover:scale-[1.05] border border-transparent hover:border-[#FF6B00] bg-transparent",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),t.jsx("div",{className:"aspect-square flex items-center justify-center p-4 bg-transparent overflow-hidden",children:Y.image_url?t.jsx("img",{src:Y.image_url,alt:L(Y),className:"max-w-full max-h-full object-contain transition-transform duration-1000 group-hover:scale-110"}):t.jsx(Cn,{className:`w-12 h-12 ${X} opacity-30`})}),t.jsxs("div",{className:"relative p-5 pt-0 cursor-pointer",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsx("span",{className:"text-[#FF6B00] text-xs font-bold uppercase tracking-wide",children:Y.brand_name||"YAN'S DECO"}),t.jsxs("span",{className:`text-lg font-bold ${ue}`,children:[Y.price.toFixed(2)," "]})]}),t.jsx("h3",{className:`font-bold italic text-lg uppercase mb-2 leading-tight ${g?"text-black":"text-white"} group-hover:text-[#FF6B00] transition-colors`,children:L(Y)}),t.jsx("p",{className:`text-xs mb-4 ${X} line-clamp-2`,children:W(Y)}),t.jsxs("div",{className:"flex items-center justify-between",children:[Y.stock>0?t.jsxs("span",{className:`text-xs px-2 py-1 ${g?"bg-green-100":"bg-green-500/20"} text-green-600 dark:text-green-400 rounded-full`,children:[Y.stock," en stock"]}):t.jsx("span",{className:`text-xs px-2 py-1 ${g?"bg-red-100":"bg-red-500/20"} text-red-600 dark:text-red-400 rounded-full`,children:"Rupture"}),t.jsxs("span",{className:`text-xs font-medium ${X} group-hover:text-[#FF6B00] transition-colors flex items-center gap-1`,children:[t.jsx("span",{children:"Voir le produit"}),t.jsx("span",{className:"text-sm transition-transform duration-300 group-hover:translate-x-1",children:""})]})]})]})]},Y.id))}):t.jsxs("div",{className:`text-center py-12 rounded-xl ${g?"bg-white/30":"bg-white/5"} border border-white/10 ${X}`,children:[t.jsx(Cn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Aucun produit disponible dans cette catgorie pour le moment."}),t.jsx("p",{className:"text-sm mt-2",children:"Revenez bientt !"})]})]})})})},Pb=({theme:s})=>{const{t:i,i18n:l}=Ot(),u=Sn(),p=ti().id,g=s==="light",[v,S]=_.useState(null),[w,A]=_.useState(!1),[j,T]=_.useState(""),[R,B]=_.useState(1),[D,$]=_.useState(!1),{addItem:P}=bd(),O=_.useRef(""),L="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const he=p||"";O.current!==he&&(O.current=he,p?W(p):(T("Product ID not found"),A(!1)))},[p]);const W=async he=>{A(!0),T("");try{console.log("Fetching product:",he);const oe=await fetch(`${L}/products/${he}`);console.log("Response status:",oe.status);const ge=await oe.json();console.log("Response data:",ge),ge.success?S(ge.data):T("Product not found")}catch(oe){console.error("Failed to load product:",oe),T("Failed to load product. Please check your connection.")}finally{A(!1)}},de=()=>{if(!v)return"";const he=l.language;return he==="ru"?v.name_ru||v.name_fr||v.name_en||"":he==="fr"?v.name_fr||v.name_ru||v.name_en||"":he==="en"?v.name_en||v.name_ru||v.name_fr||"":v.name_fr||""},ae=()=>{if(!v)return"";const he=l.language;return he==="ru"?v.desc_ru||v.desc_fr||v.desc_en||"":he==="fr"?v.desc_fr||v.desc_ru||v.desc_en||"":he==="en"?v.desc_en||v.desc_ru||v.desc_fr||"":v.desc_fr||""},X=()=>{u(-1)},ue=g?"text-gray-600":"text-gray-400",q=g?"text-black":"text-white";if(w)return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Nt,{className:"w-10 h-10 text-[#FF6B00] animate-spin mx-auto"}),t.jsx("p",{className:`mt-4 ${ue}`,children:" ..."})]})})})})});if(j||!v)return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("button",{onClick:X,className:`mb-8 transition-colors duration-200 text-sm uppercase tracking-wide flex items-center gap-2 ${g?"text-gray-600 hover:text-[#FF6B00]":"text-gray-400 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"}),i("catalogue.back")]}),t.jsxs("div",{className:`text-center py-12 ${ue}`,children:[t.jsx("p",{className:"text-red-500",children:j||"Product not found"}),t.jsxs("p",{className:"text-sm mt-2",children:["Product ID: ",p]})]})]})})});const Y=de(),Ce=ae();return t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-12 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("button",{onClick:X,className:`mb-8 transition-colors duration-200 text-sm uppercase tracking-wide flex items-center gap-2 ${g?"text-gray-600 hover:text-[#FF6B00]":"text-gray-400 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"}),i("catalogue.back")]}),t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[t.jsx(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:t.jsx("div",{className:"relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm border border-white/10",children:t.jsx("div",{className:"aspect-square flex items-center justify-center p-8",children:v.image_url?t.jsx("img",{src:v.image_url,alt:Y,className:"max-w-full max-h-full object-contain"}):t.jsx("div",{className:"flex flex-col items-center",children:t.jsx(Cn,{className:"w-20 h-20 text-gray-300"})})})})}),t.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex flex-col",children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#FF6B00] text-sm font-bold uppercase tracking-wide",children:v.brand_name||"YAN'S DECO"})}),t.jsx("h1",{className:`font-black italic text-3xl uppercase tracking-tight mb-4 ${q}`,children:Y}),t.jsxs("p",{className:"text-2xl font-bold text-[#FF6B00] mb-6",children:[v.price?.toFixed(2)," "]}),t.jsx("p",{className:`text-sm leading-relaxed mb-6 ${ue}`,children:Ce||"Aucune description disponible."}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase mb-4 ${q}`,children:i("contact.features")}),t.jsxs("ul",{className:"space-y-2",children:[t.jsxs("li",{className:`flex items-center gap-2 text-sm ${ue}`,children:[t.jsx(Dn,{className:"w-4 h-4 text-[#FF6B00] flex-shrink-0"}),"Rf: ",v.sku]}),t.jsxs("li",{className:`flex items-center gap-2 text-sm ${ue}`,children:[t.jsx(Dn,{className:"w-4 h-4 text-[#FF6B00] flex-shrink-0"}),"Stock: ",v.stock," units"]}),v.category_name&&t.jsxs("li",{className:`flex items-center gap-2 text-sm ${ue}`,children:[t.jsx(Dn,{className:"w-4 h-4 text-[#FF6B00] flex-shrink-0"}),"Catgorie: ",v.category_name]}),v.is_popular===1&&t.jsxs("li",{className:`flex items-center gap-2 text-sm ${ue}`,children:[t.jsx(Dn,{className:"w-4 h-4 text-[#FF6B00] flex-shrink-0"})," Produit populaire"]})]})]}),t.jsx("div",{className:"mt-auto",children:v&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:`text-sm uppercase tracking-wide ${ue}`,children:[i("cart.quantity"),":"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>B(Math.max(1,R-1)),className:`p-2 rounded-lg transition-colors ${g?"bg-gray-100 hover:bg-gray-200 text-black":"bg-white/10 hover:bg-white/20 text-white"}`,children:t.jsx(ov,{className:"w-4 h-4"})}),t.jsx("span",{className:`w-12 text-center font-bold text-lg ${q}`,children:R}),t.jsx("button",{onClick:()=>B(Math.min(v.stock,R+1)),className:`p-2 rounded-lg transition-colors ${g?"bg-gray-100 hover:bg-gray-200 text-black":"bg-white/10 hover:bg-white/20 text-white"}`,children:t.jsx(ks,{className:"w-4 h-4"})})]}),t.jsxs("span",{className:`text-sm ${ue}`,children:["(",v.stock," ",i("contact.stock"),")"]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("button",{onClick:()=>{P({id:v.id,name:de(),price:v.price,image_url:v.image_url,quantity:R,sku:v.sku}),$(!0),setTimeout(()=>$(!1),2e3)},className:"flex-1 bg-[#FF6B00] text-black px-8 py-4 text-sm font-bold uppercase tracking-wider rounded-xl hover:bg-[#FF8533] transition-all duration-200 flex items-center justify-center gap-3",children:D?t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"w-5 h-5"}),i("cart.added")]}):t.jsxs(t.Fragment,{children:[t.jsx(Xo,{className:"w-5 h-5"}),i("contact.addToCart")]})})})]})})]})]})})]})})})},e8=()=>{const{t:s}=Ot(),i=Sn(),{client:l,token:u,isLoading:f,isAuthenticated:p,logout:g,updateProfile:v}=yd(),[S,w]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[A,j]=_.useState("info"),[T,R]=_.useState(!1),[B,D]=_.useState(""),[$,P]=_.useState(""),[O,L]=_.useState([]),[W,de]=_.useState([]),[ae,X]=_.useState(!1),[ue,q]=_.useState(""),[Y,Ce]=_.useState(""),[he,oe]=_.useState(!1),[ge,Z]=_.useState({type:"shipping",name:"",address:"",city:"",postal_code:"",country:"",phone:"",is_default:!1}),[re,J]=_.useState(!1),[ke,ne]=_.useState({current:"",new:"",confirm:""}),ee="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const Se=()=>{w(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",Se),()=>window.removeEventListener("themechange",Se)},[]),_.useEffect(()=>{p&&u&&(U(),G(),l&&(q(l.name),Ce(l.phone||"")))},[p,u,l]);const U=async()=>{try{const Ge=await(await fetch(`${ee}/clients/me/addresses`,{headers:{Authorization:`Bearer ${u}`}})).json();Ge.success&&L(Ge.data.addresses||[])}catch(Se){console.error("Failed to fetch addresses:",Se)}},G=async()=>{try{const Ge=await(await fetch(`${ee}/clients/me/orders`,{headers:{Authorization:`Bearer ${u}`}})).json();Ge.success&&de(Ge.data.orders||[])}catch(Se){console.error("Failed to fetch orders:",Se)}},ie=async()=>{R(!0),P(""),D("");const Se=await v({name:ue,phone:Y});Se.success?(D(s("auth.profileUpdated")),X(!1),setTimeout(()=>D(""),3e3)):P(Se.error||"Failed to update profile"),R(!1)},be=async Se=>{Se.preventDefault(),R(!0),P("");try{const Je=await(await fetch(`${ee}/clients/me/addresses`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(ge)})).json();Je.success?(L([...O,Je.data.address]),oe(!1),Z({type:"shipping",name:"",address:"",city:"",postal_code:"",country:"",phone:"",is_default:!1})):P(Je.error||"Failed to add address")}catch{P("Failed to add address")}R(!1)},V=async Se=>{if(confirm(s("admin.products.deleteConfirm")))try{(await(await fetch(`${ee}/clients/me/addresses/${Se}`,{method:"DELETE",headers:{Authorization:`Bearer ${u}`}})).json()).success&&L(O.filter(et=>et.id!==Se))}catch(Ge){console.error("Failed to delete address:",Ge)}},te=async Se=>{if(Se.preventDefault(),R(!0),P(""),ke.new!==ke.confirm){P(s("auth.passwordsNotMatch")),R(!1);return}if(ke.new.length<6){P(s("auth.passwordTooShort")),R(!1);return}try{const Je=await(await fetch(`${ee}/clients/me/password`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({currentPassword:ke.current,newPassword:ke.new})})).json();Je.success?(D(s("auth.passwordUpdated")),J(!1),ne({current:"",new:"",confirm:""}),setTimeout(()=>D(""),3e3)):P(Je.error||"Failed to update password")}catch{P("Failed to update password")}R(!1)},se=Se=>new Date(Se).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),xe=S?"text-zinc-900":"text-white",we=S?"text-zinc-600":"text-zinc-400",Me=S?"border-zinc-200":"border-zinc-700",Ve=S?"bg-white":"bg-black/50",Re=S?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",pe=S?"bg-white/80":"bg-zinc-900/80";if(f)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})});if(!p)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-lg ${we} mb-4`,children:s("auth.loginRequired")}),t.jsx("button",{onClick:()=>i("/"),className:"bg-[#FF6B00] text-black px-6 py-3 rounded-xl font-bold uppercase tracking-wide",children:s("auth.login")})]})});const Ue=[{id:"info",label:s("auth.profile"),icon:t.jsx(Cs,{className:"w-5 h-5"})},{id:"addresses",label:s("profile.addresses"),icon:t.jsx(oc,{className:"w-5 h-5"})},{id:"orders",label:s("auth.myOrders"),icon:t.jsx(Vl,{className:"w-5 h-5"})}];return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${Re}`,children:[t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${S?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToSite")]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx("span",{className:"text-black font-bold",children:l?.name?.charAt(0).toUpperCase()})}),t.jsx("span",{className:`text-sm font-bold ${xe}`,children:l?.name})]}),t.jsx("button",{onClick:g,className:`text-xs font-bold uppercase tracking-wide ${we} hover:text-[#FF6B00]`,children:s("auth.logout")})]})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"mb-8",children:t.jsx("h1",{className:`font-black italic text-3xl md:text-4xl uppercase tracking-tight ${xe}`,children:s("auth.profile")})}),B&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),B]}),$&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:$}),t.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:`p-4 border ${Me} rounded-xl ${pe}`,children:[t.jsx("nav",{className:"space-y-1",children:Ue.map(Se=>t.jsxs("button",{onClick:()=>j(Se.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all duration-200 ${A===Se.id?"bg-[#FF6B00] text-black":`${xe} hover:bg-[#FF6B00]/10`}`,children:[Se.icon,Se.label]},Se.id))}),t.jsxs("button",{onClick:()=>J(!0),className:`w-full mt-6 flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-bold uppercase tracking-wide transition-all duration-200 border ${Me} ${xe} hover:border-[#FF6B00]`,children:[t.jsx(Hu,{className:"w-5 h-5"}),s("profile.changePassword")]})]})}),t.jsxs("div",{className:"lg:col-span-3",children:[A==="info"&&t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 border ${Me} rounded-xl ${pe}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide ${xe}`,children:s("auth.profile")}),ae?t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{X(!1),q(l?.name||""),Ce(l?.phone||"")},className:"flex items-center gap-2 text-sm font-bold uppercase tracking-wide text-red-500",children:[t.jsx(qn,{className:"w-4 h-4"}),s("admin.cancel")]}),t.jsxs("button",{onClick:ie,disabled:T,className:"flex items-center gap-2 text-sm font-bold uppercase tracking-wide text-[#FF6B00]",children:[T?t.jsx(Nt,{className:"w-4 h-4 animate-spin"}):t.jsx(Xs,{className:"w-4 h-4"}),s("admin.save")]})]}):t.jsxs("button",{onClick:()=>X(!0),className:"flex items-center gap-2 text-sm font-bold uppercase tracking-wide text-[#FF6B00]",children:[t.jsx(cv,{className:"w-4 h-4"}),s("admin.edit")]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("auth.name")}),ae?t.jsx("input",{type:"text",value:ue,onChange:Se=>q(Se.target.value),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`}):t.jsx("p",{className:`text-lg ${xe}`,children:l?.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("auth.email")}),t.jsx("p",{className:`text-lg ${xe}`,children:l?.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("auth.phone")}),ae?t.jsx("input",{type:"tel",value:Y,onChange:Se=>Ce(Se.target.value),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,placeholder:"+33 6 12 34 56 78"}):t.jsx("p",{className:`text-lg ${xe}`,children:l?.phone||"-"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.memberSince")}),t.jsx("p",{className:`text-lg ${xe}`,children:l?.created_at?se(l.created_at):"-"})]})]})]}),A==="addresses"&&t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 border ${Me} rounded-xl ${pe}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide ${xe}`,children:s("profile.addresses")}),t.jsxs("button",{onClick:()=>oe(!0),className:"flex items-center gap-2 text-sm font-bold uppercase tracking-wide text-[#FF6B00]",children:[t.jsx(ks,{className:"w-4 h-4"}),s("profile.addAddress")]})]}),he&&t.jsxs("form",{onSubmit:be,className:`mb-6 p-4 border ${Me} rounded-xl`,children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide mb-4 ${xe}`,children:s("profile.addAddress")}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.type")}),t.jsxs("select",{value:ge.type,onChange:Se=>Z({...ge,type:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,children:[t.jsx("option",{value:"shipping",children:s("profile.shipping")}),t.jsx("option",{value:"billing",children:s("profile.billing")})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.label")}),t.jsx("input",{type:"text",value:ge.name,onChange:Se=>Z({...ge,name:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,placeholder:s("profile.home"),required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.address")}),t.jsx("input",{type:"text",value:ge.address,onChange:Se=>Z({...ge,address:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,placeholder:"123 Rue de la Paix",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.city")}),t.jsx("input",{type:"text",value:ge.city,onChange:Se=>Z({...ge,city:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,placeholder:"Paris",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.postalCode")}),t.jsx("input",{type:"text",value:ge.postal_code,onChange:Se=>Z({...ge,postal_code:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,placeholder:"75001",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.country")}),t.jsx("input",{type:"text",value:ge.country,onChange:Se=>Z({...ge,country:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,placeholder:"France",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("auth.phone")}),t.jsx("input",{type:"tel",value:ge.phone,onChange:Se=>Z({...ge,phone:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,placeholder:"+33 6 12 34 56 78"})]})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[t.jsx("input",{type:"checkbox",checked:ge.is_default,onChange:Se=>Z({...ge,is_default:Se.target.checked}),className:"w-5 h-5 rounded border-2 border-[#FF6B00] text-[#FF6B00]"}),t.jsx("span",{className:`text-sm ${xe}`,children:s("profile.defaultAddress")})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"submit",disabled:T,className:"flex-1 bg-[#FF6B00] text-black py-3 rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors",children:T?t.jsx(Nt,{className:"w-5 h-5 mx-auto animate-spin"}):s("admin.save")}),t.jsx("button",{type:"button",onClick:()=>oe(!1),className:"px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold uppercase tracking-wide hover:border-red-500 hover:text-red-500 transition-colors",children:s("admin.cancel")})]})]}),O.length===0?t.jsxs("div",{className:`text-center py-8 ${we}`,children:[t.jsx(oc,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),t.jsx("p",{children:s("profile.noAddresses")})]}):t.jsx("div",{className:"space-y-4",children:O.map(Se=>t.jsx("div",{className:`p-4 border ${Me} rounded-xl ${pe}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:`text-xs font-bold uppercase tracking-wide px-2 py-1 rounded ${Se.type==="shipping"?"bg-blue-500/20 text-blue-500":"bg-purple-500/20 text-purple-500"}`,children:Se.type==="shipping"?s("profile.shipping"):s("profile.billing")}),Se.is_default===1&&t.jsx("span",{className:"text-xs font-bold uppercase tracking-wide px-2 py-1 rounded bg-[#FF6B00]/20 text-[#FF6B00]",children:s("profile.default")})]}),t.jsx("p",{className:`font-bold ${xe}`,children:Se.name}),t.jsx("p",{className:`text-sm ${we}`,children:Se.address}),t.jsxs("p",{className:`text-sm ${we}`,children:[Se.postal_code," ",Se.city]}),t.jsx("p",{className:`text-sm ${we}`,children:Se.country}),Se.phone&&t.jsx("p",{className:`text-sm ${we} mt-1`,children:Se.phone})]}),t.jsx("button",{onClick:()=>V(Se.id),className:`p-2 rounded-lg transition-colors ${S?"hover:bg-red-100 text-red-500":"hover:bg-red-500/20 text-red-400"}`,children:t.jsx(Ca,{className:"w-4 h-4"})})]})},Se.id))})]}),A==="orders"&&t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 border ${Me} rounded-xl ${pe}`,children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${xe}`,children:s("auth.myOrders")}),W.length===0?t.jsxs("div",{className:`text-center py-8 ${we}`,children:[t.jsx(Vl,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),t.jsx("p",{children:s("profile.noOrders")})]}):t.jsx("div",{className:"space-y-4",children:W.map(Se=>t.jsxs("div",{className:`p-4 border ${Me} rounded-xl ${pe}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsxs("p",{className:`font-bold uppercase tracking-wide ${xe}`,children:["#",Se.id]}),t.jsx("p",{className:`text-xs ${we}`,children:se(Se.created_at)})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xl font-bold text-[#FF6B00]",children:[Se.total_price.toFixed(2)," "]}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Se.status==="completed"?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:Se.status==="completed"?s("profile.completed"):Se.status})]})]}),t.jsx("div",{className:"space-y-2 pt-3 border-t border-dashed border-gray-300 dark:border-gray-700",children:Se.items.map((Ge,Je)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${S?"bg-gray-200":"bg-white/10"} ${we}`,children:Ge.quantity}),t.jsx("span",{className:xe,children:Ge.name})]}),t.jsxs("span",{className:`${we}`,children:[(Ge.price*Ge.quantity).toFixed(2)," "]})]},Je))})]},Se.id))})]})]})]})]})}),re&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>J(!1)}),t.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`relative w-full max-w-md p-6 border ${Me} rounded-xl ${pe}`,children:[t.jsx("h3",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${xe}`,children:s("profile.changePassword")}),t.jsxs("form",{onSubmit:te,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("profile.currentPassword")}),t.jsx("input",{type:"password",value:ke.current,onChange:Se=>ne({...ke,current:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("auth.password")}),t.jsx("input",{type:"password",value:ke.new,onChange:Se=>ne({...ke,new:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${we}`,children:s("auth.confirmPassword")}),t.jsx("input",{type:"password",value:ke.confirm,onChange:Se=>ne({...ke,confirm:Se.target.value}),className:`w-full px-4 py-3 border ${Me} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${xe} ${Ve}`,required:!0})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"submit",disabled:T,className:"flex-1 bg-[#FF6B00] text-black py-3 rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors",children:T?t.jsx(Nt,{className:"w-5 h-5 mx-auto animate-spin"}):s("admin.save")}),t.jsx("button",{type:"button",onClick:()=>J(!1),className:"px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold uppercase tracking-wide hover:border-red-500 hover:text-red-500 transition-colors",children:s("admin.cancel")})]})]})]})]})]})},t8=()=>{const{t:s}=Ot(),i=Sn(),{items:l,totalPrice:u,clearCart:f}=bd(),{client:p,token:g,isAuthenticated:v}=yd(),[S,w]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[A,j]=_.useState(1),[T,R]=_.useState(!1),[B,D]=_.useState(""),[$,P]=_.useState(!1),[O,L]=_.useState(""),[W,de]=_.useState([]),[ae,X]=_.useState(!1),[ue,q]=_.useState(null),[Y,Ce]=_.useState({firstName:"",lastName:"",address:"",apartment:"",city:"",postalCode:"",country:"France",phone:"",notes:""}),[he,oe]=_.useState("delivery"),[ge]=_.useState(0),[Z,re]=_.useState(20),[J,ke]=_.useState("ttc"),ne=[{value:20,label:"TVA 20% (France)"},{value:10,label:"TVA 10% (Rnovation)"},{value:5.5,label:"TVA 5.5% (Environnement)"}],ee="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const Ae=()=>{w(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",Ae),()=>window.removeEventListener("themechange",Ae)},[]),_.useEffect(()=>{v&&g&&U(),p&&Ce(Ae=>({...Ae,firstName:p.name?.split(" ")[0]||"",lastName:p.name?.split(" ").slice(1).join(" ")||"",phone:p.phone||"",email:p.email||""}))},[v,g,p]);const U=async()=>{try{const nt=await(await fetch(`${ee}/clients/me/addresses`,{headers:{Authorization:`Bearer ${g}`}})).json();if(nt.success){de(nt.data.addresses||[]);const rt=nt.data.addresses?.find(gt=>gt.is_default===1);rt&&q(rt.id)}}catch(Ae){console.error("Failed to fetch addresses:",Ae)}},G=S?"text-zinc-900":"text-white",ie=S?"text-zinc-600":"text-zinc-400",be=S?"border-zinc-200":"border-zinc-700",V=S?"bg-white":"bg-black/50",te=S?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",se=S?"bg-white/80":"bg-zinc-900/80",xe=Ae=>Ae.toFixed(2)+" ",we=Ae=>J==="ht"?Ae:J==="ttc"||J==="remove"?Ae/(1+Z/100):Ae,Me=Ae=>Ae-we(Ae),Ve=l.reduce((Ae,nt)=>Ae+we(nt.price*nt.quantity),0),Re=l.reduce((Ae,nt)=>Ae+nt.price*nt.quantity,0),pe=l.reduce((Ae,nt)=>Ae+Me(nt.price*nt.quantity),0),Ue=Re+ge,Se=Ve+we(ge),Ge=J==="ht"||J==="remove"?Ve:Re,Je=J==="remove"?0:J==="ttc"?pe:Re*Z/100,et=J==="ht"||J==="remove"?we(ge):ge,ot=J==="ht"?Se:J==="remove"?Ve+we(ge):Ue,cn=Ae=>Ae.name,Qe=(Ae,nt)=>{Ce(rt=>({...rt,[Ae]:nt}))},ls=Ae=>{q(Ae.id);const nt=Ae.name.split(" ");Ce({firstName:nt[0]||"",lastName:nt.slice(1).join(" ")||"",address:Ae.address,apartment:"",city:Ae.city,postalCode:Ae.postal_code,country:Ae.country,phone:Ae.phone||"",notes:""}),X(!0)},Fs=()=>!Y.firstName||!Y.lastName||!Y.address||!Y.city||!Y.postalCode||!Y.phone?(D(s("checkout.fillAllFields")),!1):!0,Fe=async()=>{R(!0),D("");try{const nt=await(await fetch(`${ee}/orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({items:l.map(rt=>({id:rt.id,name:rt.name,sku:rt.sku,price:rt.price,quantity:rt.quantity,image_url:rt.image_url})),totalPrice:u+ge,shippingAddress:{...Y,fullName:`${Y.firstName} ${Y.lastName}`,method:he}})})).json();nt.success?(L(nt.data.order.id.toString()),P(!0),f()):D(nt.error||s("checkout.orderFailed"))}catch{D(s("checkout.orderFailed"))}R(!1)},ut=[{id:1,title:s("checkout.information"),icon:t.jsx(Cs,{className:"w-5 h-5"})},{id:2,title:s("checkout.delivery"),icon:t.jsx(Yf,{className:"w-5 h-5"})},{id:3,title:s("checkout.summary"),icon:t.jsx(Dn,{className:"w-5 h-5"})}];return l.length===0&&!$?t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${te}`,children:[t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${S?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToSite")]}),t.jsxs("h1",{className:"font-bold text-xl",children:[t.jsx("span",{className:"text-[#FF6B00]",children:"YAN'S"}),t.jsx("span",{className:G,children:"DECO"})]}),t.jsx("div",{className:"w-20"})]}),t.jsx("main",{className:"pt-20 pb-12 min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Vl,{className:`w-16 h-16 mx-auto mb-4 ${ie} opacity-30`}),t.jsx("p",{className:`text-lg ${ie} mb-4`,children:s("cart.empty")}),t.jsx("button",{onClick:()=>i("/catalogue"),className:"bg-[#FF6B00] text-black px-6 py-3 rounded-xl font-bold uppercase tracking-wide",children:s("catalogue.products")})]})})]}):$?t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${te}`,children:[t.jsx("div",{className:"w-20"}),t.jsxs("h1",{className:"font-bold text-xl",children:[t.jsx("span",{className:"text-[#FF6B00]",children:"YAN'S"}),t.jsx("span",{className:G,children:"DECO"})]}),t.jsx("div",{className:"w-20"})]}),t.jsx("main",{className:"pt-20 pb-12 min-h-screen flex items-center justify-center",children:t.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`max-w-lg mx-auto p-8 border ${be} rounded-2xl ${se} text-center`,children:[t.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Dn,{className:"w-10 h-10 text-green-500"})}),t.jsx("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-2 ${G}`,children:s("checkout.orderConfirmed")}),t.jsxs("p",{className:`text-lg ${ie} mb-4`,children:[s("checkout.orderNumber"),": ",t.jsxs("span",{className:"font-bold text-[#FF6B00]",children:["#",O]})]}),t.jsx("p",{className:`text-sm ${ie} mb-8`,children:s("checkout.confirmationEmail")}),t.jsx("button",{onClick:()=>i("/"),className:"bg-[#FF6B00] text-black px-8 py-4 rounded-xl font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors",children:s("checkout.continueShopping")})]})})]}):t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${te}`,children:[t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${S?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToSite")]}),t.jsxs("h1",{className:"font-bold text-xl",children:[t.jsx("span",{className:"text-[#FF6B00]",children:"YAN'S"}),t.jsx("span",{className:G,children:"DECO"})]}),t.jsx("div",{className:"w-20"})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("h1",{className:`font-black italic text-3xl md:text-4xl uppercase tracking-tight mb-8 ${G}`,children:s("checkout.title")}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:`p-6 border ${be} rounded-xl ${se} mb-6`,children:[t.jsx("div",{className:"flex items-center gap-2 mb-6",children:ut.map((Ae,nt)=>t.jsxs(Ze.Fragment,{children:[nt>0&&t.jsx("div",{className:`flex-1 h-0.5 ${A>=Ae.id?"bg-[#FF6B00]":be}`}),t.jsxs("button",{onClick:()=>A>Ae.id&&j(Ae.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${A===Ae.id?"bg-[#FF6B00] text-black":A>Ae.id?"text-[#FF6B00]":ie}`,disabled:A<Ae.id,children:[Ae.icon,t.jsx("span",{className:"text-sm font-bold uppercase tracking-wide hidden sm:inline",children:Ae.title})]})]},Ae.id))}),B&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:B}),t.jsxs(rs,{mode:"wait",children:[A===1&&t.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[v&&W.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("button",{onClick:()=>X(!ae),className:"text-sm font-bold uppercase tracking-wide text-[#FF6B00] mb-3",children:ae?"+ "+s("checkout.enterManually"):s("checkout.useSavedAddress")}),t.jsx(rs,{children:ae&&t.jsx(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3 mb-6",children:W.map(Ae=>t.jsx("div",{onClick:()=>ls(Ae),className:`p-4 border rounded-lg cursor-pointer transition-all ${ue===Ae.id?"border-[#FF6B00] bg-[#FF6B00]/10":be}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${ue===Ae.id?"border-[#FF6B00]":be}`,children:ue===Ae.id&&t.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-[#FF6B00]"})}),t.jsxs("div",{children:[t.jsx("p",{className:`font-bold ${G}`,children:Ae.name}),t.jsx("p",{className:`text-sm ${ie}`,children:Ae.address}),t.jsxs("p",{className:`text-sm ${ie}`,children:[Ae.postal_code," ",Ae.city]})]})]})},Ae.id))})})]}),t.jsxs("div",{className:`grid md:grid-cols-2 gap-4 ${ae?"hidden":"block"}`,children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.firstName")}),t.jsx("input",{type:"text",value:Y.firstName,onChange:Ae=>Qe("firstName",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,placeholder:s("checkout.firstName")})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.lastName")}),t.jsx("input",{type:"text",value:Y.lastName,onChange:Ae=>Qe("lastName",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,placeholder:s("checkout.lastName")})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.address")}),t.jsx("input",{type:"text",value:Y.address,onChange:Ae=>Qe("address",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,placeholder:s("checkout.address")})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.apartment")}),t.jsx("input",{type:"text",value:Y.apartment,onChange:Ae=>Qe("apartment",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,placeholder:s("checkout.apartmentOptional")})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.city")}),t.jsx("input",{type:"text",value:Y.city,onChange:Ae=>Qe("city",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,placeholder:s("checkout.city")})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.postalCode")}),t.jsx("input",{type:"text",value:Y.postalCode,onChange:Ae=>Qe("postalCode",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,placeholder:s("checkout.postalCode")})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.country")}),t.jsxs("select",{value:Y.country,onChange:Ae=>Qe("country",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,children:[t.jsx("option",{value:"France",children:"France"}),t.jsx("option",{value:"Belgium",children:"Belgique"}),t.jsx("option",{value:"Luxembourg",children:"Luxembourg"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("auth.phone")}),t.jsx("input",{type:"tel",value:Y.phone,onChange:Ae=>Qe("phone",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,placeholder:"+33 6 12 34 56 78"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:s("checkout.notes")}),t.jsx("textarea",{value:Y.notes,onChange:Ae=>Qe("notes",Ae.target.value),className:`w-full px-4 py-3 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,rows:3,placeholder:s("checkout.notesPlaceholder")})]})]}),t.jsxs("button",{onClick:()=>{D(""),Fs()&&j(2)},className:"w-full bg-[#FF6B00] text-black py-4 rounded-xl font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors flex items-center justify-center gap-2 mt-6",children:[s("checkout.continueDelivery"),t.jsx(Ft,{className:"w-5 h-5"})]})]},"step1"),A===2&&t.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide mb-4 ${G}`,children:s("checkout.deliveryMethod")}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsx("div",{onClick:()=>oe("delivery"),className:`p-4 border rounded-xl cursor-pointer transition-all ${he==="delivery"?"border-[#FF6B00] bg-[#FF6B00]/10":be}`,children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${he==="delivery"?"border-[#FF6B00]":be}`,children:he==="delivery"&&t.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF6B00]"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Yf,{className:`w-5 h-5 ${G}`}),t.jsx("p",{className:`font-bold ${G}`,children:s("checkout.homeDelivery")})]}),t.jsx("p",{className:`text-sm ${ie} mt-1`,children:s("checkout.deliveryInfo")})]}),t.jsx("span",{className:`font-bold ${G}`,children:xe(0)})]})}),t.jsx("div",{onClick:()=>oe("pickup"),className:`p-4 border rounded-xl cursor-pointer transition-all ${he==="pickup"?"border-[#FF6B00] bg-[#FF6B00]/10":be}`,children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${he==="pickup"?"border-[#FF6B00]":be}`,children:he==="pickup"&&t.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF6B00]"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Rb,{className:`w-5 h-5 ${G}`}),t.jsx("p",{className:`font-bold ${G}`,children:s("checkout.storePickup")})]}),t.jsx("p",{className:`text-sm ${ie} mt-1`,children:"1 Rue Magnier Bdu, 95410 Groslay"})]}),t.jsx("span",{className:"font-bold text-green-500",children:s("checkout.free")})]})})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>j(1),className:"flex-1 px-6 py-4 border border-gray-300 dark:border-gray-600 rounded-xl font-bold uppercase tracking-wide hover:border-[#FF6B00] hover:text-[#FF6B00] transition-colors flex items-center justify-center gap-2",children:[t.jsx(G0,{className:"w-5 h-5"}),s("checkout.back")]}),t.jsxs("button",{onClick:()=>j(3),className:"flex-1 bg-[#FF6B00] text-black py-4 rounded-xl font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors flex items-center justify-center gap-2",children:[s("checkout.toSummary"),t.jsx(Ft,{className:"w-5 h-5"})]})]})]},"step2"),A===3&&t.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide mb-4 ${G}`,children:s("checkout.orderSummary")}),t.jsxs("div",{className:`p-4 border ${be} rounded-xl mb-4`,children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx(oc,{className:"w-5 h-5 text-[#FF6B00] mt-0.5"}),t.jsxs("div",{children:[t.jsxs("p",{className:`font-bold ${G}`,children:[Y.firstName," ",Y.lastName]}),t.jsx("p",{className:`text-sm ${ie}`,children:Y.address}),Y.apartment&&t.jsx("p",{className:`text-sm ${ie}`,children:Y.apartment}),t.jsxs("p",{className:`text-sm ${ie}`,children:[Y.postalCode," ",Y.city]}),t.jsx("p",{className:`text-sm ${ie}`,children:Y.country}),t.jsx("p",{className:`text-sm ${ie} mt-1`,children:Y.phone})]})]}),t.jsx("button",{onClick:()=>j(1),className:"text-xs font-bold uppercase tracking-wide text-[#FF6B00]",children:s("checkout.edit")})]}),t.jsxs("div",{className:`p-4 border ${be} rounded-xl mb-4`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[he==="delivery"?t.jsx(Yf,{className:"w-5 h-5 text-[#FF6B00]"}):t.jsx(Rb,{className:"w-5 h-5 text-[#FF6B00]"}),t.jsxs("div",{children:[t.jsx("p",{className:`font-bold ${G}`,children:s(he==="delivery"?"checkout.homeDelivery":"checkout.storePickup")}),t.jsx("p",{className:`text-sm ${ie}`,children:he==="delivery"?s("checkout.deliveryInfo"):"1 Rue Magnier Bdu, 95410 Groslay"})]})]}),t.jsx("button",{onClick:()=>j(2),className:"text-xs font-bold uppercase tracking-wide text-[#FF6B00] mt-3",children:s("checkout.edit")})]}),!v&&t.jsx("div",{className:"p-4 border border-yellow-500/50 bg-yellow-500/10 rounded-xl mb-4",children:t.jsx("p",{className:`text-sm ${G}`,children:s("checkout.loginPrompt")})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:()=>j(2),className:"flex-1 px-6 py-4 border border-gray-300 dark:border-gray-600 rounded-xl font-bold uppercase tracking-wide hover:border-[#FF6B00] hover:text-[#FF6B00] transition-colors flex items-center justify-center gap-2",children:[t.jsx(G0,{className:"w-5 h-5"}),s("checkout.back")]}),t.jsx("button",{onClick:Fe,disabled:T,className:"flex-1 bg-[#FF6B00] text-black py-4 rounded-xl font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:T?t.jsx(Nt,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"w-5 h-5"}),s("checkout.confirmOrder")," - ",xe(ot)]})})]})]},"step3")]})]})}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:`p-6 border ${be} rounded-xl ${se} sticky top-24`,children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide ${G}`,children:s("checkout.yourOrder")})}),t.jsxs("div",{className:`p-3 border ${be} rounded-lg mb-4`,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:"Taux de TVA"}),t.jsx("select",{value:Z,onChange:Ae=>re(Number(Ae.target.value)),className:`w-full px-3 py-2 border ${be} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${G} ${V}`,children:ne.map(Ae=>t.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${ie}`,children:"Affichage des prix"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx("button",{onClick:()=>ke("ttc"),className:`px-2 py-2 text-xs font-bold uppercase tracking-wide rounded-lg transition-colors ${J==="ttc"?"bg-[#FF6B00] text-black":`${be} ${G} hover:border-[#FF6B00]`}`,children:"TTC"}),t.jsx("button",{onClick:()=>ke("ht"),className:`px-2 py-2 text-xs font-bold uppercase tracking-wide rounded-lg transition-colors ${J==="ht"?"bg-[#FF6B00] text-black":`${be} ${G} hover:border-[#FF6B00]`}`,children:"HT"}),t.jsx("button",{onClick:()=>ke("remove"),className:`px-2 py-2 text-xs font-bold uppercase tracking-wide rounded-lg transition-colors ${J==="remove"?"bg-[#FF6B00] text-black":`${be} ${G} hover:border-[#FF6B00]`}`,children:"-TVA"})]}),t.jsxs("p",{className:`text-[10px] ${ie} mt-2`,children:[J==="ttc"&&"Les prix incluent la TVA",J==="ht"&&"Les prix sont Hors Taxe",J==="remove"&&"Enlever la TVA du prix TTC"]})]})]}),t.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:l.map(Ae=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 ${S?"bg-gray-100":"bg-white/5"}`,children:Ae.image_url?t.jsx("img",{src:Ae.image_url,alt:cn(Ae),className:"w-full h-full object-contain"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Vl,{className:`w-5 h-5 ${ie} opacity-30`})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm font-bold truncate ${G}`,children:cn(Ae)}),t.jsxs("p",{className:`text-xs ${ie}`,children:[s("cart.quantity"),": ",Ae.quantity]})]}),t.jsx("span",{className:`font-bold text-sm ${G}`,children:xe(Ae.price*Ae.quantity)})]},Ae.id))}),t.jsxs("div",{className:`border-t ${be} pt-4 space-y-2`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`text-sm ${ie}`,children:s("cart.subtotal")}),t.jsx("span",{className:`font-bold ${G}`,children:xe(Ge)})]}),Je>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:`text-sm ${ie}`,children:["TVA (",Z,"%)",J==="remove"&&" removed"]}),t.jsxs("span",{className:`font-bold ${G}`,children:[J==="remove"?"-":"",xe(Je)]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`text-sm ${ie}`,children:s("checkout.delivery")}),t.jsx("span",{className:`font-bold ${G}`,children:ge>0?xe(et):s("checkout.free")})]}),t.jsx("div",{className:`border-t ${be} pt-2 mt-2`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`font-bold uppercase tracking-wide ${G}`,children:J==="ht"?"Total HT":J==="remove"?"Total TTC - TVA":"Total TTC"}),t.jsx("span",{className:"text-xl font-black italic text-[#FF6B00]",children:xe(ot)})]})})]})]})})]})]})})]})},n8=({theme:s})=>{const{t:i,i18n:l}=Ot(),u=s==="light",[f,p]=_.useState(!0),[g,v]=_.useState(null),[S,w]=_.useState("mentions"),A="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{j()},[]);const j=async()=>{try{const W=await(await fetch(`${A}/legal`)).json();W.success&&v(W.data)}catch(L){console.error("Error fetching legal data:",L)}finally{p(!1)}},T=L=>{if(!g)return"";const W=l.language,de=L.replace("_",`_${W}`);return g[de]||g[L.replace("_","_fr")]||""},R=u?"text-zinc-900":"text-zinc-100",B=u?"text-zinc-600":"text-zinc-400",D=u?"border-gray-200":"border-white/10",$=u?"bg-gray-50":"bg-zinc-900/40",P=[{id:"mentions",label:"Mentions Lgales",icon:t.jsx(pA,{className:"w-5 h-5"})},{id:"cgv",label:"Conditions Gnrales de Vente",icon:t.jsx(Ob,{className:"w-5 h-5"})},{id:"privacy",label:"Politique de Confidentialit",icon:t.jsx(Fm,{className:"w-5 h-5"})}],O=()=>{const L=T(`${S}_fr`);return L?t.jsx("div",{className:"prose prose-lg max-w-none",children:t.jsx("div",{className:`whitespace-pre-wrap ${R}`,dangerouslySetInnerHTML:{__html:L.replace(/\n/g,"<br />").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}})}):t.jsxs("div",{className:`text-center py-12 ${B}`,children:[t.jsx(Ob,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:i("legal.comingSoon")||"Ce contenu sera bientt disponible."})]})};return f?t.jsx("main",{className:"min-h-screen pt-4 flex items-center justify-center",children:t.jsxs("div",{className:`text-center ${u?"text-black":"text-white"}`,children:[t.jsx("div",{className:"w-8 h-8 border-2 border-[#FF6B00] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{children:"Chargement..."})]})}):t.jsx("main",{className:"min-h-screen pt-4",children:t.jsx("section",{className:"py-16 transition-colors duration-500 bg-transparent",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"font-black italic text-3xl sm:text-4xl md:text-5xl uppercase tracking-tight mb-4 drop-shadow-lg",children:t.jsx("span",{className:u?"text-black":"text-white",children:i("legal.title")})}),t.jsx("p",{className:`max-w-2xl mx-auto text-xs sm:text-sm leading-relaxed drop-shadow-md ${B}`,children:i("legal.subtitle")})]}),t.jsx("div",{className:"lg:hidden mb-6",children:t.jsxs("div",{className:`relative ${$} border ${D} rounded-xl overflow-hidden`,children:[t.jsxs("button",{onClick:()=>{document.getElementById("legal-dropdown")?.classList.toggle("hidden")},className:`w-full px-4 py-3 flex items-center justify-between ${R}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[P.find(L=>L.id===S)?.icon,t.jsx("span",{className:"font-bold uppercase tracking-wide",children:P.find(L=>L.id===S)?.label})]}),t.jsx(tv,{className:"w-5 h-5 transition-transform"})]}),t.jsx("div",{id:"legal-dropdown",className:"hidden border-t border-white/10",children:P.map(L=>t.jsxs("button",{onClick:()=>{w(L.id),document.getElementById("legal-dropdown")?.classList.add("hidden"),window.scrollTo({top:0,behavior:"smooth"})},className:`w-full px-4 py-3 flex items-center gap-2 transition-colors ${S===L.id?"bg-[#FF6B00]/20 text-[#FF6B00]":`${R} hover:bg-white/5`}`,children:[L.icon,t.jsx("span",{className:"font-medium",children:L.label})]},L.id))})]})}),t.jsxs("div",{className:"flex gap-6",children:[t.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:t.jsx("div",{className:`sticky top-24 ${$} border ${D} rounded-xl p-4`,children:t.jsx("nav",{className:"space-y-2",children:P.map(L=>t.jsxs("button",{onClick:()=>{w(L.id),window.scrollTo({top:0,behavior:"smooth"})},className:`w-full px-4 py-3 rounded-lg flex items-center gap-3 transition-all ${S===L.id?"bg-[#FF6B00] text-black":`${R} hover:bg-white/5`}`,children:[L.icon,t.jsx("span",{className:"font-medium text-sm uppercase tracking-wide",children:L.label})]},L.id))})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`${$} border ${D} rounded-xl p-6 sm:p-8`,children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-white/10",children:[P.find(L=>L.id===S)?.icon,t.jsx("h2",{className:`text-xl sm:text-2xl font-bold italic uppercase tracking-wide ${R}`,children:P.find(L=>L.id===S)?.label})]}),O()]},S),t.jsx("p",{className:`text-xs ${B} mt-4 text-center`,children:i("legal.lastUpdated")||"Dernire mise  jour: Janvier 2026"})]})]})]})})})},$b=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),u=Ss(),[f,p]=_.useState(null),[g]=_.useState(()=>localStorage.getItem("site-theme")==="light"),v=u.pathname==="/admin",S=g?"text-zinc-600":"text-zinc-400",w=g?"border-black":"border-[#FF6B00]/20",A="hover:border-[#FF6B00]",j=_.useMemo(()=>[{id:"products",key:"admin.sections.products",icon:t.jsx(Cn,{className:"w-12 h-12"}),path:"/admin/products",color:"from-orange-500/10 to-orange-600/5",label:s("admin.sections.products.title")},{id:"categories",key:"admin.sections.categories",icon:t.jsx(Ys,{className:"w-12 h-12"}),path:"/admin/categories",color:"from-blue-500/10 to-blue-600/5",label:s("admin.sections.categories.title")},{id:"brands",key:"admin.sections.brands",icon:t.jsx(ni,{className:"w-12 h-12"}),path:"/admin/brands",color:"from-yellow-500/10 to-yellow-600/5",label:s("admin.sections.brands.title")},{id:"services",key:"admin.sections.services",icon:t.jsx(Ws,{className:"w-12 h-12"}),path:"/admin/services",color:"from-teal-500/10 to-teal-600/5",label:s("admin.sections.services.title")},{id:"clients",key:"admin.sections.clients",icon:t.jsx(id,{className:"w-12 h-12"}),path:"/admin/clients",color:"from-pink-500/10 to-pink-600/5",label:"CLIENTS"},{id:"translations",key:"admin.sections.translations",icon:t.jsx(Ws,{className:"w-12 h-12"}),path:"/admin/translations",color:"from-green-500/10 to-green-600/5",label:s("admin.sections.translations.title")},{id:"calculators",key:"admin.sections.calculators",icon:t.jsx($a,{className:"w-12 h-12"}),path:"/admin/calculators",color:"from-purple-500/10 to-purple-600/5",label:s("admin.sections.calculators.title")},{id:"settings",key:"admin.sections.settings",icon:t.jsx(za,{className:"w-12 h-12"}),path:"/admin/settings",color:"from-gray-500/10 to-gray-600/5",label:s("admin.sections.settings.title")},{id:"content",key:"admin.sections.content",icon:t.jsx(cv,{className:"w-12 h-12"}),path:"/admin/content",color:"from-red-500/10 to-red-600/5",label:s("admin.sections.content.title")},{id:"slogans",key:"admin.sections.slogans",icon:t.jsx(lv,{className:"w-12 h-12"}),path:"/admin/slogans",color:"from-indigo-500/10 to-indigo-600/5",label:s("admin.sections.slogans.title")}],[s,i.language]),T=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"font-black italic text-4xl md:text-5xl uppercase tracking-tight mb-3 text-[#FF6B00]",children:s("admin.title")}),t.jsx("p",{className:`text-sm ${g?"text-zinc-600":"text-zinc-300"} max-w-2xl mx-auto`,children:s("admin.subtitle")})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:j.map((R,B)=>t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1,duration:.5},children:t.jsx(Bn,{to:R.path,children:t.jsxs("div",{className:`relative h-56 rounded-xl border border-transparent ${w} bg-transparent group cursor-pointer transition-all duration-500 overflow-hidden ${f===R.id?"drop-shadow-[0_0_15px_rgba(255,107,0,0.3)]":""}`,onMouseEnter:()=>p(R.id),onMouseLeave:()=>p(null),children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${R.color} opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),t.jsx("div",{className:"absolute inset-0 backdrop-blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full p-5",children:[t.jsx("div",{className:`mb-3 transition-all duration-500 ${f===R.id?"scale-110":"scale-100"} ${f===R.id,"text-[#FF6B00]"}`,children:R.icon}),t.jsx("h3",{className:`font-black italic text-2xl uppercase tracking-tight mb-2 transition-all duration-300 ${f===R.id?"text-white":g?"text-black":"text-white"}`,children:R.label}),t.jsx("div",{className:`absolute bottom-3 left-3 right-3 transition-all duration-500 ${f===R.id?"opacity-100 translate-y-0":"opacity-0 translate-y-3"}`,children:t.jsx("p",{className:`text-xs text-center bg-black/40 backdrop-blur-sm rounded-lg py-1.5 px-3 ${f===R.id?"text-zinc-200":S}`,children:s(`${R.key}.description`)})})]}),t.jsxs("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-500",children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border border-[#FF6B00]/50"}),t.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-[#FF6B00]/10 to-transparent opacity-50"})]})]})})},R.id))}),t.jsxs("div",{className:"mt-14",children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-5 ${g?"text-zinc-900":"text-white"}`,children:s("admin.quickActions.title")}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{icon:t.jsx(ks,{className:"w-4 h-4"}),label:s("admin.quickActions.newProduct"),path:"/admin/add-product"},{icon:t.jsx(Ri,{className:"w-4 h-4"}),label:s("admin.quickActions.importCsv")},{icon:t.jsx(av,{className:"w-4 h-4"}),label:s("admin.quickActions.exportData")},{icon:t.jsx(Nt,{className:"w-4 h-4"}),label:s("admin.quickActions.syncCloud")}].map((R,B)=>t.jsxs(qe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+B*.1},onClick:R.path?()=>l(R.path):void 0,className:`flex items-center justify-center gap-2 py-3 px-4 bg-transparent border ${w} rounded-lg text-xs font-bold uppercase tracking-wide ${g?"text-zinc-700":"text-zinc-400"} hover:text-[#FF6B00] hover:border-[#FF6B00] transition-all duration-300`,children:[R.icon,R.label]},B))})]}),t.jsxs("div",{className:"mt-14",children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-5 ${g?"text-zinc-900":"text-white"}`,children:s("admin.recentActivity.title")}),t.jsx("div",{className:"space-y-2",children:[{time:"2 min",action:s("admin.recentActivity.items.productModified"),status:"success"},{time:"15 min",action:s("admin.recentActivity.items.categoryAdded"),status:"success"},{time:"1 h",action:s("admin.recentActivity.items.syncComplete"),status:"info"},{time:"3 h",action:s("admin.recentActivity.items.translationUpdated"),status:"warning"}].map((R,B)=>t.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+B*.1},className:`flex items-center gap-3 p-3 bg-transparent border border-transparent ${w} rounded-lg ${A} transition-all duration-300`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${R.status==="success"?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.6)]":R.status==="warning"?"bg-yellow-500 shadow-[0_0_10px_rgba(234,179,8,0.6)]":"bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.6)]"}`}),t.jsx("span",{className:`text-xs ${g?"text-zinc-500":"text-zinc-400"} w-14`,children:R.time}),t.jsx("span",{className:`text-sm ${g?"text-zinc-900":"text-white"} flex-1`,children:R.action}),t.jsx(Ft,{className:`w-3.5 h-3.5 ${g?"text-zinc-500":"text-zinc-400"}`})]},B))})]})]});return t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v?T():t.jsx(ty,{})})},zb=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),[u,f]=_.useState(""),[p,g]=_.useState([]),[v,S]=_.useState(!0),w="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{A()},[]);const A=async()=>{try{const L=await(await fetch(`${w}/products`)).json();L.success&&g(L.data)}catch(O){console.error("Failed to load products:",O)}finally{S(!1)}},j=async O=>{if(confirm(s("admin.products.confirmDelete")))try{(await(await fetch(`${w}/products/${O}`,{method:"DELETE"})).json()).success&&g(p.filter(de=>de.id!==O))}catch(L){console.error("Failed to delete product:",L)}},T=O=>{const L=i.language;return L==="ru"?O.name_ru||O.name_fr||O.name_en:L==="fr"?O.name_fr||O.name_ru||O.name_en:L==="en"?O.name_en||O.name_ru||O.name_fr:O.name_fr||""},R="text-zinc-600 dark:text-zinc-400",B="border-zinc-200 dark:border-zinc-700/50",D="hover:border-[#FF6B00]",$="text-zinc-900 dark:text-white",P=p.filter(O=>T(O).toLowerCase().includes(u.toLowerCase())||O.sku&&O.sku.toLowerCase().includes(u.toLowerCase()));return v?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):t.jsx("div",{className:"min-h-screen",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"font-black italic text-2xl md:text-3xl uppercase tracking-tight text-[#FF6B00]",children:s("admin.products.title")}),t.jsx("p",{className:`text-xs ${R} mt-1`,children:s("admin.sections.products.description")})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider border ${B} rounded-lg transition-colors ${$} hover:border-[#FF6B00]`,children:[t.jsx(Ri,{className:"w-3 h-3"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.quickActions.importCsv")}),t.jsx("span",{className:"sm:hidden",children:"CSV"})]}),t.jsxs("button",{className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider border ${B} rounded-lg transition-colors ${$} hover:border-[#FF6B00]`,children:[t.jsx(av,{className:"w-3 h-3"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.quickActions.exportData")}),t.jsx("span",{className:"sm:hidden",children:"EXP"})]}),t.jsxs(Bn,{to:"/admin/add-product",className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider bg-[#FF6B00] text-black rounded-lg hover:bg-[#FF8533] transition-colors whitespace-nowrap",children:[t.jsx(ks,{className:"w-3 h-3"}),s("admin.products.addNew")]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(wd,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${R}`}),t.jsx("input",{type:"text",placeholder:s("admin.products.search"),value:u,onChange:O=>f(O.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-transparent border ${B} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${$} placeholder-zinc-500`})]}),t.jsxs("button",{className:`flex items-center gap-1.5 px-4 py-2.5 border ${B} rounded-lg transition-colors ${$} hover:border-[#FF6B00]`,children:[t.jsx(IE,{className:"w-4 h-4"}),"Filtrer"]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map((O,L)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.05},className:`relative p-4 sm:p-5 bg-transparent border ${B} ${D} rounded-xl transition-all duration-500 group`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide mb-1 ${$}`,children:T(O)}),t.jsx("p",{className:"text-xs text-zinc-400",children:O.brand_name||"Sans marque"})]}),t.jsxs("span",{className:`text-lg font-bold ${$}`,children:[O.price?.toFixed(2)," "]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"text-sm text-zinc-400",children:[t.jsxs("span",{children:[s("admin.products.stock"),": "]}),t.jsx("span",{className:O.stock>50?"text-green-500":O.stock>20?"text-yellow-500":"text-red-500",children:O.stock})]}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.is_popular?"bg-[#FF6B00]/20 text-[#FF6B00]":"bg-green-500/20 text-green-500"}`,children:O.is_popular?" Populaire":"Actif"})]}),t.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[t.jsxs("button",{onClick:()=>l(`/admin/products/${O.id}`),className:`flex-1 flex items-center justify-center gap-1 py-2 text-xs font-bold uppercase tracking-wide border ${B} rounded-lg transition-colors ${$} hover:border-[#FF6B00]`,children:[t.jsx(Xr,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.products.view")})]}),t.jsxs("button",{onClick:()=>l(`/admin/products/${O.id}/edit`),className:`flex-1 flex items-center justify-center gap-1 py-2 text-xs font-bold uppercase tracking-wide border ${B} rounded-lg transition-colors ${$} hover:border-[#FF6B00]`,children:[t.jsx(ei,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.products.edit")})]}),t.jsx("button",{onClick:()=>j(O.id),className:"flex items-center justify-center gap-1 px-2 py-2 text-xs font-bold uppercase tracking-wide border border-red-500/50 rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-colors",children:t.jsx(Ca,{className:"w-3.5 h-3.5"})})]})]},O.id))}),t.jsx("div",{className:"mt-8 text-center",children:t.jsxs("button",{className:`inline-flex items-center gap-2 px-6 py-2.5 text-sm font-bold uppercase tracking-wide border ${B} rounded-lg transition-colors ${$} hover:border-[#FF6B00]`,children:[t.jsx(iE,{className:"w-3.5 h-3.5"}),"Charger plus"]})})]})})};var at;(function(s){s[s.QR_CODE=0]="QR_CODE",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=3]="CODE_39",s[s.CODE_93=4]="CODE_93",s[s.CODE_128=5]="CODE_128",s[s.DATA_MATRIX=6]="DATA_MATRIX",s[s.MAXICODE=7]="MAXICODE",s[s.ITF=8]="ITF",s[s.EAN_13=9]="EAN_13",s[s.EAN_8=10]="EAN_8",s[s.PDF_417=11]="PDF_417",s[s.RSS_14=12]="RSS_14",s[s.RSS_EXPANDED=13]="RSS_EXPANDED",s[s.UPC_A=14]="UPC_A",s[s.UPC_E=15]="UPC_E",s[s.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var Ub=new Map([[at.QR_CODE,"QR_CODE"],[at.AZTEC,"AZTEC"],[at.CODABAR,"CODABAR"],[at.CODE_39,"CODE_39"],[at.CODE_93,"CODE_93"],[at.CODE_128,"CODE_128"],[at.DATA_MATRIX,"DATA_MATRIX"],[at.MAXICODE,"MAXICODE"],[at.ITF,"ITF"],[at.EAN_13,"EAN_13"],[at.EAN_8,"EAN_8"],[at.PDF_417,"PDF_417"],[at.RSS_14,"RSS_14"],[at.RSS_EXPANDED,"RSS_EXPANDED"],[at.UPC_A,"UPC_A"],[at.UPC_E,"UPC_E"],[at.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Vb;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.URL=1]="URL"})(Vb||(Vb={}));function s8(s){return Object.values(at).includes(s)}var rd;(function(s){s[s.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",s[s.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(rd||(rd={}));var a8=(function(){function s(){}return s.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",s.SCAN_DEFAULT_FPS=2,s.DEFAULT_DISABLE_FLIP=!1,s.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,s.DEFAULT_SUPPORTED_SCAN_TYPE=[rd.SCAN_TYPE_CAMERA,rd.SCAN_TYPE_FILE],s})(),mv=(function(){function s(i,l){this.format=i,this.formatName=l}return s.prototype.toString=function(){return this.formatName},s.create=function(i){if(!Ub.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new s(i,Ub.get(i))},s})(),Hb=(function(){function s(){}return s.createFromText=function(i){var l={text:i};return{decodedText:i,result:l}},s.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},s})(),q0;(function(s){s[s.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",s[s.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",s[s.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(q0||(q0={}));var i8=(function(){function s(){}return s.createFrom=function(i){return{errorMessage:i,type:q0.UNKWOWN_ERROR}},s})(),r8=(function(){function s(i){this.verbose=i}return s.prototype.log=function(i){this.verbose&&console.log(i)},s.prototype.warn=function(i){this.verbose&&console.warn(i)},s.prototype.logError=function(i,l){(this.verbose||l===!0)&&console.error(i)},s.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},s})();function Ai(s){return typeof s>"u"||s===null}var Il=(function(){function s(){}return s.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},s.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},s.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},s.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},s.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},s.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},s.scannerPaused=function(){return"Scanner paused"},s})(),xv=(function(){function s(){}return s.isMediaStreamConstraintsValid=function(i,l){if(typeof i!="object"){var u=typeof i;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(f),g=Object.keys(i),v=0,S=g;v<S.length;v++){var w=S[v];if(p.has(w))return l.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},s})(),Yo={exports:{}},l8=Yo.exports,Gb;function o8(){return Gb||(Gb=1,(function(s,i){(function(l,u){u(i)})(l8,(function(l){function u(M){return M==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,n){M.__proto__=n}||function(M,n){for(var r in n)n.hasOwnProperty(r)&&(M[r]=n[r])};function p(M,n){f(M,n);function r(){this.constructor=M}M.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function g(M,n){var r=Object.setPrototypeOf;r?r(M,n):M.__proto__=n}function v(M,n){n===void 0&&(n=M.constructor);var r=Error.captureStackTrace;r&&r(M,n)}var S=(function(M){p(n,M);function n(r){var o=this.constructor,d=M.call(this,r)||this;return Object.defineProperty(d,"name",{value:o.name,enumerable:!1}),g(d,o.prototype),v(d),d}return n})(Error);class w extends S{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}w.kind="Exception";class A extends w{}A.kind="ArgumentException";class j extends w{}j.kind="IllegalArgumentException";class T{constructor(n){if(this.binarizer=n,n===null)throw new j("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,o,d){const h=this.binarizer.getLuminanceSource().crop(n,r,o,d);return new T(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends w{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class B{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(n,r,o,d,h){for(;h--;)o[d++]=n[r++]}static currentTimeMillis(){return Date.now()}}class $ extends w{}$.kind="IndexOutOfBoundsException";class P extends ${constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}P.kind="ArrayIndexOutOfBoundsException";class O{static fill(n,r){for(let o=0,d=n.length;o<d;o++)n[o]=r}static fillWithin(n,r,o,d){O.rangeCheck(n.length,r,o);for(let h=r;h<o;h++)n[h]=d}static rangeCheck(n,r,o){if(r>o)throw new j("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new P(r);if(o>n)throw new P(o)}static asList(...n){return n}static create(n,r,o){return Array.from({length:n}).map(h=>Array.from({length:r}).fill(o))}static createInt32Array(n,r,o){return Array.from({length:n}).map(h=>Int32Array.from({length:r}).fill(o))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let o=0,d=n.length;o<d;o++)if(n[o]!==r[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const o of n)r=31*r+o;return r}static fillUint8Array(n,r){for(let o=0;o!==n.length;o++)n[o]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const o=new Uint8Array(r);return o.set(n),o}return n.slice(0,r)}static copyOfRange(n,r,o){const d=o-r,h=new Int32Array(d);return D.arraycopy(n,r,h,0,d),h}static binarySearch(n,r,o){o===void 0&&(o=O.numberComparator);let d=0,h=n.length-1;for(;d<=h;){const x=h+d>>1,b=o(r,n[x]);if(b>0)d=x+1;else if(b<0)h=x-1;else return x}return-d-1}static numberComparator(n,r){return n-r}}class L{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let o=31;return r=n<<16,r!==0&&(o-=16,n=r),r=n<<8,r!==0&&(o-=8,n=r),r=n<<4,r!==0&&(o-=4,n=r),r=n<<2,r!==0&&(o-=2,n=r),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=W.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=W.makeArray(n);D.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const o=this.bits;let d=Math.floor(n/32),h=o[d];h&=~((1<<(n&31))-1);const x=o.length;for(;h===0;){if(++d===x)return r;h=o[d]}const b=d*32+L.numberOfTrailingZeros(h);return b>r?r:b}getNextUnset(n){const r=this.size;if(n>=r)return r;const o=this.bits;let d=Math.floor(n/32),h=~o[d];h&=~((1<<(n&31))-1);const x=o.length;for(;h===0;){if(++d===x)return r;h=~o[d]}const b=d*32+L.numberOfTrailingZeros(h);return b>r?r:b}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new j;if(r===n)return;r--;const o=Math.floor(n/32),d=Math.floor(r/32),h=this.bits;for(let x=o;x<=d;x++){const b=x>o?0:n&31,E=(2<<(x<d?31:r&31))-(1<<b);h[x]|=E}}clear(){const n=this.bits.length,r=this.bits;for(let o=0;o<n;o++)r[o]=0}isRange(n,r,o){if(r<n||n<0||r>this.size)throw new j;if(r===n)return!0;r--;const d=Math.floor(n/32),h=Math.floor(r/32),x=this.bits;for(let b=d;b<=h;b++){const N=b>d?0:n&31,k=(2<<(b<h?31:r&31))-(1<<N)&4294967295;if((x[b]&k)!==(o?k:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new j("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new j("Sizes don't match");const r=this.bits;for(let o=0,d=r.length;o<d;o++)r[o]^=n.bits[o]}toBytes(n,r,o,d){for(let h=0;h<d;h++){let x=0;for(let b=0;b<8;b++)this.get(n)&&(x|=1<<7-b),n++;r[o+h]=x}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,d=this.bits;for(let h=0;h<o;h++){let x=d[h];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,n[r-h]=x}if(this.size!==o*32){const h=o*32-this.size;let x=n[0]>>>h;for(let b=1;b<o;b++){const N=n[b];x|=N<<32-h,n[b-1]=x,x=N>>>h}n[o-1]=x}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof W))return!1;const r=n;return this.size===r.size&&O.equals(this.bits,r.bits)}hashCode(){return 31*this.size+O.hashCode(this.bits)}toString(){let n="";for(let r=0,o=this.size;r<o;r++)(r&7)===0&&(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new W(this.size,this.bits.slice())}}var de;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(de||(de={}));var ae=de;class X extends w{static getFormatInstance(){return new X}}X.kind="FormatException";var ue;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(ue||(ue={}));class q{constructor(n,r,o,...d){this.valueIdentifier=n,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=d,q.VALUE_IDENTIFIER_TO_ECI.set(n,this),q.NAME_TO_ECI.set(o,this);const h=this.values;for(let x=0,b=h.length;x!==b;x++){const N=h[x];q.VALUES_TO_ECI.set(N,this)}for(const x of d)q.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new X("incorect value");const r=q.VALUES_TO_ECI.get(n);if(r===void 0)throw new X("incorect value");return r}static getCharacterSetECIByName(n){const r=q.NAME_TO_ECI.get(n);if(r===void 0)throw new X("incorect value");return r}equals(n){if(!(n instanceof q))return!1;const r=n;return this.getName()===r.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(ue.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(ue.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(ue.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(ue.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(ue.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(ue.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(ue.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(ue.Big5,28,"Big5"),q.GB18030=new q(ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(ue.EUC_KR,30,"EUC_KR","EUC-KR");class Y extends w{}Y.kind="UnsupportedOperationException";class Ce{static decode(n,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!Ce.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof q?n:q.getCharacterSetECIByName(n)}static decodeFallback(n,r){const o=this.encodingCharacterSet(r);if(Ce.isDecodeFallbackSupported(o)){let d="";for(let h=0,x=n.length;h<x;h++){let b=n[h].toString(16);b.length<2&&(b="0"+b),d+="%"+b}return decodeURIComponent(d)}if(o.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new Y(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(q.UTF8)||n.equals(q.ISO8859_1)||n.equals(q.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),d=[];for(let h=0;h<o.length;h++)d.push(o[h].charCodeAt(0));return new Uint8Array(d)}}class he{static castAsNonUtf8Char(n,r=null){const o=r?r.getName():this.ISO88591;return Ce.decode(new Uint8Array([n]),o)}static guessEncoding(n,r){if(r!=null&&r.get(ae.CHARACTER_SET)!==void 0)return r.get(ae.CHARACTER_SET).toString();const o=n.length;let d=!0,h=!0,x=!0,b=0,N=0,E=0,k=0,I=0,z=0,Q=0,ce=0,fe=0,ve=0,Oe=0;const Ke=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let We=0;We<o&&(d||h||x);We++){const He=n[We]&255;x&&(b>0?(He&128)===0?x=!1:b--:(He&128)!==0&&((He&64)===0?x=!1:(b++,(He&32)===0?N++:(b++,(He&16)===0?E++:(b++,(He&8)===0?k++:x=!1))))),d&&(He>127&&He<160?d=!1:He>159&&(He<192||He===215||He===247)&&Oe++),h&&(I>0?He<64||He===127||He>252?h=!1:I--:He===128||He===160||He>239?h=!1:He>160&&He<224?(z++,ce=0,Q++,Q>fe&&(fe=Q)):He>127?(I++,Q=0,ce++,ce>ve&&(ve=ce)):(Q=0,ce=0))}return x&&b>0&&(x=!1),h&&I>0&&(h=!1),x&&(Ke||N+E+k>0)?he.UTF8:h&&(he.ASSUME_SHIFT_JIS||fe>=3||ve>=3)?he.SHIFT_JIS:d&&h?fe===2&&z===2||Oe*10>=o?he.SHIFT_JIS:he.ISO88591:d?he.ISO88591:h?he.SHIFT_JIS:x?he.UTF8:he.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let o=-1;function d(x,b,N,E,k,I){if(x==="%%")return"%";if(r[++o]===void 0)return;x=E?parseInt(E.substr(1)):void 0;let z=k?parseInt(k.substr(1)):void 0,Q;switch(I){case"s":Q=r[o];break;case"c":Q=r[o][0];break;case"f":Q=parseFloat(r[o]).toFixed(x);break;case"p":Q=parseFloat(r[o]).toPrecision(x);break;case"e":Q=parseFloat(r[o]).toExponential(x);break;case"x":Q=parseInt(r[o]).toString(z||16);break;case"d":Q=parseFloat(parseInt(r[o],z||10).toPrecision(x)).toFixed(0);break}Q=typeof Q=="object"?JSON.stringify(Q):(+Q).toString(z);let ce=parseInt(N),fe=N&&N[0]+""=="0"?"0":" ";for(;Q.length<ce;)Q=b!==void 0?Q+fe:fe+Q;return Q}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(h,d)}static getBytes(n,r){return Ce.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}he.SHIFT_JIS=q.SJIS.getName(),he.GB2312="GB2312",he.ISO88591=q.ISO8859_1.getName(),he.EUC_JP="EUC_JP",he.UTF8=q.UTF8.getName(),he.PLATFORM_DEFAULT_ENCODING=he.UTF8,he.ASSUME_SHIFT_JIS=!1;class oe{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=he.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,o){for(let d=r;r<r+o;d++)this.append(n[d]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class ge{constructor(n,r,o,d){if(this.width=n,this.height=r,this.rowSize=o,this.bits=d,r==null&&(r=n),this.height=r,n<1||r<1)throw new j("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,o=n[0].length,d=new ge(o,r);for(let h=0;h<r;h++){const x=n[h];for(let b=0;b<o;b++)x[b]&&d.set(b,h)}return d}static parseFromString(n,r,o){if(n===null)throw new j("stringRepresentation cannot be null");const d=new Array(n.length);let h=0,x=0,b=-1,N=0,E=0;for(;E<n.length;)if(n.charAt(E)===`
`||n.charAt(E)==="\r"){if(h>x){if(b===-1)b=h-x;else if(h-x!==b)throw new j("row lengths do not match");x=h,N++}E++}else if(n.substring(E,E+r.length)===r)E+=r.length,d[h]=!0,h++;else if(n.substring(E,E+o.length)===o)E+=o.length,d[h]=!1,h++;else throw new j("illegal character encountered: "+n.substring(E));if(h>x){if(b===-1)b=h-x;else if(h-x!==b)throw new j("row lengths do not match");N++}const k=new ge(b,N);for(let I=0;I<h;I++)d[I]&&k.set(Math.floor(I%b),Math.floor(I/b));return k}get(n,r){const o=r*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,r){const o=r*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new j("input matrix dimensions do not match");const r=new W(Math.floor(this.width/32)+1),o=this.rowSize,d=this.bits;for(let h=0,x=this.height;h<x;h++){const b=h*o,N=n.getRow(h,r).getBitArray();for(let E=0;E<o;E++)d[b+E]^=N[E]}}clear(){const n=this.bits,r=n.length;for(let o=0;o<r;o++)n[o]=0}setRegion(n,r,o,d){if(r<0||n<0)throw new j("Left and top must be nonnegative");if(d<1||o<1)throw new j("Height and width must be at least 1");const h=n+o,x=r+d;if(x>this.height||h>this.width)throw new j("The region must fit inside the matrix");const b=this.rowSize,N=this.bits;for(let E=r;E<x;E++){const k=E*b;for(let I=n;I<h;I++)N[k+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new W(this.width):r.clear();const o=this.rowSize,d=this.bits,h=n*o;for(let x=0;x<o;x++)r.setBulk(x*32,d[h+x]);return r}setRow(n,r){D.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let o=new W(n),d=new W(n);for(let h=0,x=Math.floor((r+1)/2);h<x;h++)o=this.getRow(h,o),d=this.getRow(r-1-h,d),o.reverse(),d.reverse(),this.setRow(h,d),this.setRow(r-1-h,o)}getEnclosingRectangle(){const n=this.width,r=this.height,o=this.rowSize,d=this.bits;let h=n,x=r,b=-1,N=-1;for(let E=0;E<r;E++)for(let k=0;k<o;k++){const I=d[E*o+k];if(I!==0){if(E<x&&(x=E),E>N&&(N=E),k*32<h){let z=0;for(;(I<<31-z&4294967295)===0;)z++;k*32+z<h&&(h=k*32+z)}if(k*32+31>b){let z=31;for(;!(I>>>z);)z--;k*32+z>b&&(b=k*32+z)}}}return b<h||N<x?null:Int32Array.from([h,x,b-h+1,N-x+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const d=o/n;let h=o%n*32;const x=r[o];let b=0;for(;(x<<31-b&4294967295)===0;)b++;return h+=b,Int32Array.from([h,d])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const d=Math.floor(o/n);let h=Math.floor(o%n)*32;const x=r[o];let b=31;for(;!(x>>>b);)b--;return h+=b,Int32Array.from([h,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof ge))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&O.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+O.hashCode(this.bits),n}toString(n="X ",r="  ",o=`
`){return this.buildToString(n,r,o)}buildToString(n,r,o){let d=new oe;for(let h=0,x=this.height;h<x;h++){for(let b=0,N=this.width;b<N;b++)d.append(this.get(b,h)?n:r);d.append(o)}return d.toString()}clone(){return new ge(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends w{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class re extends B{constructor(n){super(n),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(n,r){const o=this.getLuminanceSource(),d=o.getWidth();r==null||r.getSize()<d?r=new W(d):r.clear(),this.initArrays(d);const h=o.getRow(n,this.luminances),x=this.buckets;for(let N=0;N<d;N++)x[(h[N]&255)>>re.LUMINANCE_SHIFT]++;const b=re.estimateBlackPoint(x);if(d<3)for(let N=0;N<d;N++)(h[N]&255)<b&&r.set(N);else{let N=h[0]&255,E=h[1]&255;for(let k=1;k<d-1;k++){const I=h[k+1]&255;(E*4-N-I)/2<b&&r.set(k),N=E,E=I}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight(),d=new ge(r,o);this.initArrays(r);const h=this.buckets;for(let N=1;N<5;N++){const E=Math.floor(o*N/5),k=n.getRow(E,this.luminances),I=Math.floor(r*4/5);for(let z=Math.floor(r/5);z<I;z++){const Q=k[z]&255;h[Q>>re.LUMINANCE_SHIFT]++}}const x=re.estimateBlackPoint(h),b=n.getMatrix();for(let N=0;N<o;N++){const E=N*r;for(let k=0;k<r;k++)(b[E+k]&255)<x&&d.set(k,N)}return d}createBinarizer(n){return new re(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let o=0;o<re.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(n){const r=n.length;let o=0,d=0,h=0;for(let k=0;k<r;k++)n[k]>h&&(d=k,h=n[k]),n[k]>o&&(o=n[k]);let x=0,b=0;for(let k=0;k<r;k++){const I=k-d,z=n[k]*I*I;z>b&&(x=k,b=z)}if(d>x){const k=d;d=x,x=k}if(x-d<=r/16)throw new Z;let N=x-1,E=-1;for(let k=x-1;k>d;k--){const I=k-d,z=I*I*(x-k)*(o-n[k]);z>E&&(N=k,E=z)}return N<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class J extends re{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),o=n.getHeight();if(r>=J.MINIMUM_DIMENSION&&o>=J.MINIMUM_DIMENSION){const d=n.getMatrix();let h=r>>J.BLOCK_SIZE_POWER;(r&J.BLOCK_SIZE_MASK)!==0&&h++;let x=o>>J.BLOCK_SIZE_POWER;(o&J.BLOCK_SIZE_MASK)!==0&&x++;const b=J.calculateBlackPoints(d,h,x,r,o),N=new ge(r,o);J.calculateThresholdForBlock(d,h,x,r,o,b,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new J(n)}static calculateThresholdForBlock(n,r,o,d,h,x,b){const N=h-J.BLOCK_SIZE,E=d-J.BLOCK_SIZE;for(let k=0;k<o;k++){let I=k<<J.BLOCK_SIZE_POWER;I>N&&(I=N);const z=J.cap(k,2,o-3);for(let Q=0;Q<r;Q++){let ce=Q<<J.BLOCK_SIZE_POWER;ce>E&&(ce=E);const fe=J.cap(Q,2,r-3);let ve=0;for(let Ke=-2;Ke<=2;Ke++){const We=x[z+Ke];ve+=We[fe-2]+We[fe-1]+We[fe]+We[fe+1]+We[fe+2]}const Oe=ve/25;J.thresholdBlock(n,ce,I,Oe,d,b)}}}static cap(n,r,o){return n<r?r:n>o?o:n}static thresholdBlock(n,r,o,d,h,x){for(let b=0,N=o*h+r;b<J.BLOCK_SIZE;b++,N+=h)for(let E=0;E<J.BLOCK_SIZE;E++)(n[N+E]&255)<=d&&x.set(r+E,o+b)}static calculateBlackPoints(n,r,o,d,h){const x=h-J.BLOCK_SIZE,b=d-J.BLOCK_SIZE,N=new Array(o);for(let E=0;E<o;E++){N[E]=new Int32Array(r);let k=E<<J.BLOCK_SIZE_POWER;k>x&&(k=x);for(let I=0;I<r;I++){let z=I<<J.BLOCK_SIZE_POWER;z>b&&(z=b);let Q=0,ce=255,fe=0;for(let Oe=0,Ke=k*d+z;Oe<J.BLOCK_SIZE;Oe++,Ke+=d){for(let We=0;We<J.BLOCK_SIZE;We++){const He=n[Ke+We]&255;Q+=He,He<ce&&(ce=He),He>fe&&(fe=He)}if(fe-ce>J.MIN_DYNAMIC_RANGE)for(Oe++,Ke+=d;Oe<J.BLOCK_SIZE;Oe++,Ke+=d)for(let We=0;We<J.BLOCK_SIZE;We++)Q+=n[Ke+We]&255}let ve=Q>>J.BLOCK_SIZE_POWER*2;if(fe-ce<=J.MIN_DYNAMIC_RANGE&&(ve=ce/2,E>0&&I>0)){const Oe=(N[E-1][I]+2*N[E][I-1]+N[E-1][I-1])/4;ce<Oe&&(ve=Oe)}N[E][I]=ve}}return N}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class ke{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,o,d){throw new Y("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Y("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Y("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new oe;for(let o=0;o<this.height;o++){const d=this.getRow(o,n);for(let h=0;h<this.width;h++){const x=d[h]&255;let b;x<64?b="#":x<128?b="+":x<192?b=".":b=" ",r.append(b)}r.append(`
`)}return r.toString()}}class ne extends ke{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const o=this.delegate.getRow(n,r),d=this.getWidth();for(let h=0;h<d;h++)o[h]=255-(o[h]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let d=0;d<r;d++)o[d]=255-(n[d]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,o,d){return new ne(this.delegate.crop(n,r,o,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class ee extends ke{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ee.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return ee.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,o){const d=new Uint8ClampedArray(r*o);for(let h=0,x=0,b=n.length;h<b;h+=4,x++){let N;if(n[h+3]===0)N=255;else{const k=n[h],I=n[h+1],z=n[h+2];N=306*k+601*I+117*z+512>>10}d[x]=N}return d}getRow(n,r){if(n<0||n>=this.getHeight())throw new j("Requested row is outside the image: "+n);const o=this.getWidth(),d=n*o;return r===null?r=this.buffer.slice(d,d+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(d,d+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,o,d){return super.crop(n,r,o,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),o=r.getContext("2d"),d=n*ee.DEGREE_TO_RADIANS,h=this.canvas.width,x=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(d))*h+Math.abs(Math.sin(d))*x),N=Math.ceil(Math.abs(Math.sin(d))*h+Math.abs(Math.cos(d))*x);return r.width=b,r.height=N,o.translate(b/2,N/2),o.rotate(d),o.drawImage(this.canvas,h/-2,x/-2),this.buffer=ee.makeBufferFromCanvasImageData(r),this}invert(){return new ne(this)}}ee.DEGREE_TO_RADIANS=Math.PI/180;class U{constructor(n,r,o){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var G=(globalThis||Fu||self||window||void 0)&&(globalThis||Fu||self||window||void 0).__awaiter||function(M,n,r,o){function d(h){return h instanceof r?h:new r(function(x){x(h)})}return new(r||(r=Promise))(function(h,x){function b(k){try{E(o.next(k))}catch(I){x(I)}}function N(k){try{E(o.throw(k))}catch(I){x(I)}}function E(k){k.done?h(k.value):d(k.value).then(b,N)}E((o=o.apply(M,n||[])).next())})};class ie{constructor(n,r=500,o){this.reader=n,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return G(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of n){const d=o.kind==="video"?"videoinput":o.kind;if(d!=="videoinput")continue;const h=o.deviceId||o.id,x=o.label||`Video device ${r.length+1}`,b=o.groupId,N={deviceId:h,label:x,kind:d,groupId:b};r.push(N)}return r})}getVideoInputDevices(){return G(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new U(r.deviceId,r.label))})}findDeviceById(n){return G(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return G(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return G(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const d={video:o};return yield this.decodeOnceFromConstraints(d,r)})}decodeOnceFromConstraints(n,r){return G(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(n,r){return G(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,r,o){return G(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,o)})}decodeFromVideoDevice(n,r,o){return G(this,void 0,void 0,function*(){let d;n?d={deviceId:{exact:n}}:d={facingMode:"environment"};const h={video:d};return yield this.decodeFromConstraints(h,r,o)})}decodeFromConstraints(n,r,o){return G(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(d,r,o)})}decodeFromStream(n,r,o){return G(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(d,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return G(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((r,o)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return G(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const o=document.getElementById(n);if(!o)throw new A(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new A(`element with id '${n}' must be an ${r} element`);return o}decodeFromImage(n,r){if(!n&&!r)throw new A("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new A("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,o){if(n===void 0&&r===void 0)throw new A("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new A("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(n){if(!n)throw new A("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new A("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=n,o}decodeFromVideoUrl(n){if(!n)throw new A("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=n,o}decodeFromVideoUrlContinuously(n,r){if(!n)throw new A("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(o,r);return o.src=n,d}_decodeOnLoadImage(n){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return G(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return G(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,o=!0){this._stopAsyncDecode=!1;const d=(h,x)=>{if(this._stopAsyncDecode){x(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(n);h(b)}catch(b){const N=r&&b instanceof Z,k=(b instanceof R||b instanceof X)&&o;if(N||k)return setTimeout(d,this._timeBetweenDecodingAttempts,h,x);x(b)}};return new Promise((h,x)=>d(h,x))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(n);r(d,null),setTimeout(o,this.timeBetweenScansMillis)}catch(d){r(null,d);const h=d instanceof R||d instanceof X,x=d instanceof Z;(h||x)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,o){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),o=new ee(r),d=new J(o);return new T(d)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,d;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,d=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,d=n.naturalHeight||n.height)),r.style.width=o+"px",r.style.height=d+"px",r.width=o,r.height=d,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(n,r,o=r==null?0:8*r.length,d,h,x=D.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=o,this.resultPoints=d,this.format=h,this.timestamp=x,this.text=n,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=d,this.format=h,this.resultMetadata=null,x==null?this.timestamp=D.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(r.length+n.length);D.arraycopy(r,0,o,0,r.length),D.arraycopy(n,0,o,r.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var V;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(V||(V={}));var te=V,se;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(se||(se={}));var xe=se;class we{constructor(n,r,o,d,h=-1,x=-1){this.rawBytes=n,this.text=r,this.byteSegments=o,this.ecLevel=d,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=x,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Me{exp(n){return this.expTable[n]}log(n){if(n===0)throw new j;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class Ve{constructor(n,r){if(r.length===0)throw new j;this.field=n;const o=r.length;if(o>1&&r[0]===0){let d=1;for(;d<o&&r[d]===0;)d++;d===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-d),D.arraycopy(r,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(n===1){o=0;for(let x=0,b=r.length;x!==b;x++){const N=r[x];o=Me.addOrSubtract(o,N)}return o}o=r[0];const d=r.length,h=this.field;for(let x=1;x<d;x++)o=Me.addOrSubtract(h.multiply(n,o),r[x]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new j("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){const x=r;r=o,o=x}let d=new Int32Array(o.length);const h=o.length-r.length;D.arraycopy(o,0,d,0,h);for(let x=h;x<o.length;x++)d[x]=Me.addOrSubtract(r[x-h],o[x]);return new Ve(this.field,d)}multiply(n){if(!this.field.equals(n.field))throw new j("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,d=n.coefficients,h=d.length,x=new Int32Array(o+h-1),b=this.field;for(let N=0;N<o;N++){const E=r[N];for(let k=0;k<h;k++)x[N+k]=Me.addOrSubtract(x[N+k],b.multiply(E,d[k]))}return new Ve(b,x)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,o=this.field,d=new Int32Array(r),h=this.coefficients;for(let x=0;x<r;x++)d[x]=o.multiply(h[x],n);return new Ve(o,d)}multiplyByMonomial(n,r){if(n<0)throw new j;if(r===0)return this.field.getZero();const o=this.coefficients,d=o.length,h=new Int32Array(d+n),x=this.field;for(let b=0;b<d;b++)h[b]=x.multiply(o[b],r);return new Ve(x,h)}divide(n){if(!this.field.equals(n.field))throw new j("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new j("Divide by 0");const r=this.field;let o=r.getZero(),d=this;const h=n.getCoefficient(n.getDegree()),x=r.inverse(h);for(;d.getDegree()>=n.getDegree()&&!d.isZero();){const b=d.getDegree()-n.getDegree(),N=r.multiply(d.getCoefficient(d.getDegree()),x),E=n.multiplyByMonomial(b,N),k=r.buildMonomial(b,N);o=o.addOrSubtract(k),d=d.addOrSubtract(E)}return[o,d]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),r===0||o!==1){const d=this.field.log(o);d===0?n+="1":d===1?n+="a":(n+="a^",n+=d)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class Re extends w{}Re.kind="ArithmeticException";class pe extends Me{constructor(n,r,o){super(),this.primitive=n,this.size=r,this.generatorBase=o;const d=new Int32Array(r);let h=1;for(let b=0;b<r;b++)d[b]=h,h*=2,h>=r&&(h^=n,h&=r-1);this.expTable=d;const x=new Int32Array(r);for(let b=0;b<r-1;b++)x[d[b]]=b;this.logTable=x,this.zero=new Ve(this,Int32Array.from([0])),this.one=new Ve(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new j;if(r===0)return this.zero;const o=new Int32Array(n+1);return o[0]=r,new Ve(this,o)}inverse(n){if(n===0)throw new Re;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}pe.AZTEC_DATA_12=new pe(4201,4096,1),pe.AZTEC_DATA_10=new pe(1033,1024,1),pe.AZTEC_DATA_6=new pe(67,64,1),pe.AZTEC_PARAM=new pe(19,16,1),pe.QR_CODE_FIELD_256=new pe(285,256,0),pe.DATA_MATRIX_FIELD_256=new pe(301,256,1),pe.AZTEC_DATA_8=pe.DATA_MATRIX_FIELD_256,pe.MAXICODE_FIELD_64=pe.AZTEC_DATA_6;class Ue extends w{}Ue.kind="ReedSolomonException";class Se extends w{}Se.kind="IllegalStateException";class Ge{constructor(n){this.field=n}decode(n,r){const o=this.field,d=new Ve(o,n),h=new Int32Array(r);let x=!0;for(let Q=0;Q<r;Q++){const ce=d.evaluateAt(o.exp(Q+o.getGeneratorBase()));h[h.length-1-Q]=ce,ce!==0&&(x=!1)}if(x)return;const b=new Ve(o,h),N=this.runEuclideanAlgorithm(o.buildMonomial(r,1),b,r),E=N[0],k=N[1],I=this.findErrorLocations(E),z=this.findErrorMagnitudes(k,I);for(let Q=0;Q<I.length;Q++){const ce=n.length-1-o.log(I[Q]);if(ce<0)throw new Ue("Bad error location");n[ce]=pe.addOrSubtract(n[ce],z[Q])}}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){const Q=n;n=r,r=Q}const d=this.field;let h=n,x=r,b=d.getZero(),N=d.getOne();for(;x.getDegree()>=(o/2|0);){let Q=h,ce=b;if(h=x,b=N,h.isZero())throw new Ue("r_{i-1} was zero");x=Q;let fe=d.getZero();const ve=h.getCoefficient(h.getDegree()),Oe=d.inverse(ve);for(;x.getDegree()>=h.getDegree()&&!x.isZero();){const Ke=x.getDegree()-h.getDegree(),We=d.multiply(x.getCoefficient(x.getDegree()),Oe);fe=fe.addOrSubtract(d.buildMonomial(Ke,We)),x=x.addOrSubtract(h.multiplyByMonomial(Ke,We))}if(N=fe.multiply(b).addOrSubtract(ce),x.getDegree()>=h.getDegree())throw new Se("Division algorithm failed to reduce polynomial?")}const E=N.getCoefficient(0);if(E===0)throw new Ue("sigmaTilde(0) was zero");const k=d.inverse(E),I=N.multiplyScalar(k),z=x.multiplyScalar(k);return[I,z]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(r);let d=0;const h=this.field;for(let x=1;x<h.getSize()&&d<r;x++)n.evaluateAt(x)===0&&(o[d]=h.inverse(x),d++);if(d!==r)throw new Ue("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,r){const o=r.length,d=new Int32Array(o),h=this.field;for(let x=0;x<o;x++){const b=h.inverse(r[x]);let N=1;for(let E=0;E<o;E++)if(x!==E){const k=h.multiply(r[E],b),I=(k&1)===0?k|1:k&-2;N=h.multiply(N,I)}d[x]=h.multiply(n.evaluateAt(b),h.inverse(N)),h.getGeneratorBase()!==0&&(d[x]=h.multiply(d[x],b))}return d}}var Je;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(Je||(Je={}));class et{decode(n){this.ddata=n;let r=n.getBits(),o=this.extractBits(r),d=this.correctBits(o),h=et.convertBoolArrayToByteArray(d),x=et.getEncodedData(d),b=new we(h,x,null,null);return b.setNumBits(d.length),b}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,o=Je.UPPER,d=Je.UPPER,h="",x=0;for(;x<r;)if(d===Je.BINARY){if(r-x<5)break;let b=et.readCode(n,x,5);if(x+=5,b===0){if(r-x<11)break;b=et.readCode(n,x,11)+31,x+=11}for(let N=0;N<b;N++){if(r-x<8){x=r;break}const E=et.readCode(n,x,8);h+=he.castAsNonUtf8Char(E),x+=8}d=o}else{let b=d===Je.DIGIT?4:5;if(r-x<b)break;let N=et.readCode(n,x,b);x+=b;let E=et.getCharacter(d,N);E.startsWith("CTRL_")?(o=d,d=et.getTable(E.charAt(5)),E.charAt(6)==="L"&&(o=d)):(h+=E,d=o)}return h}static getTable(n){switch(n){case"L":return Je.LOWER;case"P":return Je.PUNCT;case"M":return Je.MIXED;case"D":return Je.DIGIT;case"B":return Je.BINARY;default:return Je.UPPER}}static getCharacter(n,r){switch(n){case Je.UPPER:return et.UPPER_TABLE[r];case Je.LOWER:return et.LOWER_TABLE[r];case Je.MIXED:return et.MIXED_TABLE[r];case Je.PUNCT:return et.PUNCT_TABLE[r];case Je.DIGIT:return et.DIGIT_TABLE[r];default:throw new Se("Bad table")}}correctBits(n){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=pe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=pe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=pe.AZTEC_DATA_10):(o=12,r=pe.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),h=n.length/o;if(h<d)throw new X;let x=n.length%o,b=new Int32Array(h);for(let z=0;z<h;z++,x+=o)b[z]=et.readCode(n,x,o);try{new Ge(r).decode(b,h-d)}catch(z){throw new X(z)}let N=(1<<o)-1,E=0;for(let z=0;z<d;z++){let Q=b[z];if(Q===0||Q===N)throw new X;(Q===1||Q===N-1)&&E++}let k=new Array(d*o-E),I=0;for(let z=0;z<d;z++){let Q=b[z];if(Q===1||Q===N-1)k.fill(Q>1,I,I+o-1),I+=o-1;else for(let ce=o-1;ce>=0;--ce)k[I++]=(Q&1<<ce)!==0}return k}extractBits(n){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),d=(r?11:14)+o*4,h=new Int32Array(d),x=new Array(this.totalBitsInLayer(o,r));if(r)for(let b=0;b<h.length;b++)h[b]=b;else{let b=d+1+2*L.truncDivision(L.truncDivision(d,2)-1,15),N=d/2,E=L.truncDivision(b,2);for(let k=0;k<N;k++){let I=k+L.truncDivision(k,15);h[N-k-1]=E-I-1,h[N+k]=E+I+1}}for(let b=0,N=0;b<o;b++){let E=(o-b)*4+(r?9:12),k=b*2,I=d-1-k;for(let z=0;z<E;z++){let Q=z*2;for(let ce=0;ce<2;ce++)x[N+Q+ce]=n.get(h[k+ce],h[k+z]),x[N+2*E+Q+ce]=n.get(h[k+z],h[I-ce]),x[N+4*E+Q+ce]=n.get(h[I-ce],h[I-z]),x[N+6*E+Q+ce]=n.get(h[I-z],h[k+ce])}N+=E*8}return x}static readCode(n,r,o){let d=0;for(let h=r;h<r+o;h++)d<<=1,n[h]&&(d|=1);return d}static readByte(n,r){let o=n.length-r;return o>=8?et.readCode(n,r,8):et.readCode(n,r,o)<<8-o}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let o=0;o<r.length;o++)r[o]=et.readByte(n,8*o);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,o,d){const h=n-o,x=r-d;return Math.sqrt(h*h+x*x)}static sum(n){let r=0;for(let o=0,d=n.length;o!==d;o++){const h=n[o];r+=h}return r}}class cn{static floatToIntBits(n){return n}}cn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Qe{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof Qe){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*cn.floatToIntBits(this.x)+cn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),d=this.distance(n[0],n[2]);let h,x,b;if(o>=r&&o>=d?(x=n[0],h=n[1],b=n[2]):d>=o&&d>=r?(x=n[1],h=n[0],b=n[2]):(x=n[2],h=n[0],b=n[1]),this.crossProductZ(h,x,b)<0){const N=h;h=b,b=N}n[0]=h,n[1]=x,n[2]=b}static distance(n,r){return ot.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,o){const d=r.x,h=r.y;return(o.x-d)*(n.y-h)-(o.y-h)*(n.x-d)}}class ls{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Fs extends ls{constructor(n,r,o,d,h){super(n,r),this.compact=o,this.nbDatablocks=d,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Fe{constructor(n,r,o,d){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=Fe.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),d==null&&(d=n.getHeight()/2|0);const h=r/2|0;if(this.leftInit=o-h,this.rightInit=o+h,this.upInit=d-h,this.downInit=d+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let n=this.leftInit,r=this.rightInit,o=this.upInit,d=this.downInit,h=!1,x=!0,b=!1,N=!1,E=!1,k=!1,I=!1;const z=this.width,Q=this.height;for(;x;){x=!1;let ce=!0;for(;(ce||!N)&&r<z;)ce=this.containsBlackPoint(o,d,r,!1),ce?(r++,x=!0,N=!0):N||r++;if(r>=z){h=!0;break}let fe=!0;for(;(fe||!E)&&d<Q;)fe=this.containsBlackPoint(n,r,d,!0),fe?(d++,x=!0,E=!0):E||d++;if(d>=Q){h=!0;break}let ve=!0;for(;(ve||!k)&&n>=0;)ve=this.containsBlackPoint(o,d,n,!1),ve?(n--,x=!0,k=!0):k||n--;if(n<0){h=!0;break}let Oe=!0;for(;(Oe||!I)&&o>=0;)Oe=this.containsBlackPoint(n,r,o,!0),Oe?(o--,x=!0,I=!0):I||o--;if(o<0){h=!0;break}x&&(b=!0)}if(!h&&b){const ce=r-n;let fe=null;for(let We=1;fe===null&&We<ce;We++)fe=this.getBlackPointOnSegment(n,d-We,n+We,d);if(fe==null)throw new Z;let ve=null;for(let We=1;ve===null&&We<ce;We++)ve=this.getBlackPointOnSegment(n,o+We,n+We,o);if(ve==null)throw new Z;let Oe=null;for(let We=1;Oe===null&&We<ce;We++)Oe=this.getBlackPointOnSegment(r,o+We,r-We,o);if(Oe==null)throw new Z;let Ke=null;for(let We=1;Ke===null&&We<ce;We++)Ke=this.getBlackPointOnSegment(r,d-We,r-We,d);if(Ke==null)throw new Z;return this.centerEdges(Ke,fe,Oe,ve)}else throw new Z}getBlackPointOnSegment(n,r,o,d){const h=ot.round(ot.distance(n,r,o,d)),x=(o-n)/h,b=(d-r)/h,N=this.image;for(let E=0;E<h;E++){const k=ot.round(n+E*x),I=ot.round(r+E*b);if(N.get(k,I))return new Qe(k,I)}return null}centerEdges(n,r,o,d){const h=n.getX(),x=n.getY(),b=r.getX(),N=r.getY(),E=o.getX(),k=o.getY(),I=d.getX(),z=d.getY(),Q=Fe.CORR;return h<this.width/2?[new Qe(I-Q,z+Q),new Qe(b+Q,N+Q),new Qe(E-Q,k-Q),new Qe(h+Q,x-Q)]:[new Qe(I+Q,z+Q),new Qe(b+Q,N-Q),new Qe(E-Q,k+Q),new Qe(h-Q,x-Q)]}containsBlackPoint(n,r,o,d){const h=this.image;if(d){for(let x=n;x<=r;x++)if(h.get(x,o))return!0}else for(let x=n;x<=r;x++)if(h.get(o,x))return!0;return!1}}Fe.INIT_SIZE=10,Fe.CORR=1;class ut{static checkAndNudgePoints(n,r){const o=n.getWidth(),d=n.getHeight();let h=!0;for(let x=0;x<r.length&&h;x+=2){const b=Math.floor(r[x]),N=Math.floor(r[x+1]);if(b<-1||b>o||N<-1||N>d)throw new Z;h=!1,b===-1?(r[x]=0,h=!0):b===o&&(r[x]=o-1,h=!0),N===-1?(r[x+1]=0,h=!0):N===d&&(r[x+1]=d-1,h=!0)}h=!0;for(let x=r.length-2;x>=0&&h;x-=2){const b=Math.floor(r[x]),N=Math.floor(r[x+1]);if(b<-1||b>o||N<-1||N>d)throw new Z;h=!1,b===-1?(r[x]=0,h=!0):b===o&&(r[x]=o-1,h=!0),N===-1?(r[x+1]=0,h=!0):N===d&&(r[x+1]=d-1,h=!0)}}}class Ae{constructor(n,r,o,d,h,x,b,N,E){this.a11=n,this.a21=r,this.a31=o,this.a12=d,this.a22=h,this.a32=x,this.a13=b,this.a23=N,this.a33=E}static quadrilateralToQuadrilateral(n,r,o,d,h,x,b,N,E,k,I,z,Q,ce,fe,ve){const Oe=Ae.quadrilateralToSquare(n,r,o,d,h,x,b,N);return Ae.squareToQuadrilateral(E,k,I,z,Q,ce,fe,ve).times(Oe)}transformPoints(n){const r=n.length,o=this.a11,d=this.a12,h=this.a13,x=this.a21,b=this.a22,N=this.a23,E=this.a31,k=this.a32,I=this.a33;for(let z=0;z<r;z+=2){const Q=n[z],ce=n[z+1],fe=h*Q+N*ce+I;n[z]=(o*Q+x*ce+E)/fe,n[z+1]=(d*Q+b*ce+k)/fe}}transformPointsWithValues(n,r){const o=this.a11,d=this.a12,h=this.a13,x=this.a21,b=this.a22,N=this.a23,E=this.a31,k=this.a32,I=this.a33,z=n.length;for(let Q=0;Q<z;Q++){const ce=n[Q],fe=r[Q],ve=h*ce+N*fe+I;n[Q]=(o*ce+x*fe+E)/ve,r[Q]=(d*ce+b*fe+k)/ve}}static squareToQuadrilateral(n,r,o,d,h,x,b,N){const E=n-o+h-b,k=r-d+x-N;if(E===0&&k===0)return new Ae(o-n,h-o,n,d-r,x-d,r,0,0,1);{const I=o-h,z=b-h,Q=d-x,ce=N-x,fe=I*ce-z*Q,ve=(E*ce-z*k)/fe,Oe=(I*k-E*Q)/fe;return new Ae(o-n+ve*o,b-n+Oe*b,n,d-r+ve*d,N-r+Oe*N,r,ve,Oe,1)}}static quadrilateralToSquare(n,r,o,d,h,x,b,N){return Ae.squareToQuadrilateral(n,r,o,d,h,x,b,N).buildAdjoint()}buildAdjoint(){return new Ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Ae(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class nt extends ut{sampleGrid(n,r,o,d,h,x,b,N,E,k,I,z,Q,ce,fe,ve,Oe,Ke,We){const He=Ae.quadrilateralToQuadrilateral(d,h,x,b,N,E,k,I,z,Q,ce,fe,ve,Oe,Ke,We);return this.sampleGridWithTransform(n,r,o,He)}sampleGridWithTransform(n,r,o,d){if(r<=0||o<=0)throw new Z;const h=new ge(r,o),x=new Float32Array(2*r);for(let b=0;b<o;b++){const N=x.length,E=b+.5;for(let k=0;k<N;k+=2)x[k]=k/2+.5,x[k+1]=E;d.transformPoints(x),ut.checkAndNudgePoints(n,x);try{for(let k=0;k<N;k+=2)n.get(Math.floor(x[k]),Math.floor(x[k+1]))&&h.set(k/2,b)}catch{throw new Z}}return h}}class rt{static setGridSampler(n){rt.gridSampler=n}static getInstance(){return rt.gridSampler}}rt.gridSampler=new nt;class gt{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new Qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mn{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(n){let x=o[0];o[0]=o[2],o[2]=x}this.extractParameters(o);let d=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),h=this.getMatrixCornerPoints(o);return new Fs(d,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new Z;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(o,r);let d=0;for(let x=0;x<4;x++){let b=o[(this.shift+x)%4];this.compact?(d<<=7,d+=b>>1&127):(d<<=10,d+=(b>>2&992)+(b>>1&31))}let h=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(n,r){let o=0;n.forEach((d,h,x)=>{let b=(d>>r-2<<1)+(d&1);o=(o<<3)+b}),o=((o&1)<<11)+(o>>1);for(let d=0;d<4;d++)if(L.bitCount(o^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new Z}getCorrectedParameterData(n,r){let o,d;r?(o=7,d=2):(o=10,d=4);let h=o-d,x=new Int32Array(o);for(let N=o-1;N>=0;--N)x[N]=n&15,n>>=4;try{new Ge(pe.AZTEC_PARAM).decode(x,h)}catch{throw new Z}let b=0;for(let N=0;N<d;N++)b=(b<<4)+x[N];return b}getBullsEyeCorners(n){let r=n,o=n,d=n,h=n,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(r,x,1,-1),z=this.getFirstDifferent(o,x,1,1),Q=this.getFirstDifferent(d,x,-1,1),ce=this.getFirstDifferent(h,x,-1,-1);if(this.nbCenterLayers>2){let fe=this.distancePoint(ce,I)*this.nbCenterLayers/(this.distancePoint(h,r)*(this.nbCenterLayers+2));if(fe<.75||fe>1.25||!this.isWhiteOrBlackRectangle(I,z,Q,ce))break}r=I,o=z,d=Q,h=ce,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let b=new Qe(r.getX()+.5,r.getY()-.5),N=new Qe(o.getX()+.5,o.getY()+.5),E=new Qe(d.getX()-.5,d.getY()+.5),k=new Qe(h.getX()-.5,h.getY()-.5);return this.expandSquare([b,N,E,k],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,o,d;try{let b=new Fe(this.image).detect();n=b[0],r=b[1],o=b[2],d=b[3]}catch{let N=this.image.getWidth()/2,E=this.image.getHeight()/2;n=this.getFirstDifferent(new gt(N+7,E-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new gt(N+7,E+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new gt(N-7,E+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new gt(N-7,E-7),!1,-1,-1).toResultPoint()}let h=ot.round((n.getX()+d.getX()+r.getX()+o.getX())/4),x=ot.round((n.getY()+d.getY()+r.getY()+o.getY())/4);try{let b=new Fe(this.image,15,h,x).detect();n=b[0],r=b[1],o=b[2],d=b[3]}catch{n=this.getFirstDifferent(new gt(h+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new gt(h+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new gt(h-7,x+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new gt(h-7,x-7),!1,-1,-1).toResultPoint()}return h=ot.round((n.getX()+d.getX()+r.getX()+o.getX())/4),x=ot.round((n.getY()+d.getY()+r.getY()+o.getY())/4),new gt(h,x)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,o,d,h){let x=rt.getInstance(),b=this.getDimension(),N=b/2-this.nbCenterLayers,E=b/2+this.nbCenterLayers;return x.sampleGrid(n,b,b,N,N,E,N,E,E,N,E,r.getX(),r.getY(),o.getX(),o.getY(),d.getX(),d.getY(),h.getX(),h.getY())}sampleLine(n,r,o){let d=0,h=this.distanceResultPoint(n,r),x=h/o,b=n.getX(),N=n.getY(),E=x*(r.getX()-n.getX())/h,k=x*(r.getY()-n.getY())/h;for(let I=0;I<o;I++)this.image.get(ot.round(b+I*E),ot.round(N+I*k))&&(d|=1<<o-I-1);return d}isWhiteOrBlackRectangle(n,r,o,d){let h=3;n=new gt(n.getX()-h,n.getY()+h),r=new gt(r.getX()-h,r.getY()-h),o=new gt(o.getX()+h,o.getY()-h),d=new gt(d.getX()+h,d.getY()+h);let x=this.getColor(d,n);if(x===0)return!1;let b=this.getColor(n,r);return b!==x||(b=this.getColor(r,o),b!==x)?!1:(b=this.getColor(o,d),b===x)}getColor(n,r){let o=this.distancePoint(n,r),d=(r.getX()-n.getX())/o,h=(r.getY()-n.getY())/o,x=0,b=n.getX(),N=n.getY(),E=this.image.get(n.getX(),n.getY()),k=Math.ceil(o);for(let z=0;z<k;z++)b+=d,N+=h,this.image.get(ot.round(b),ot.round(N))!==E&&x++;let I=x/o;return I>.1&&I<.9?0:I<=.1===E?1:-1}getFirstDifferent(n,r,o,d){let h=n.getX()+o,x=n.getY()+d;for(;this.isValid(h,x)&&this.image.get(h,x)===r;)h+=o,x+=d;for(h-=o,x-=d;this.isValid(h,x)&&this.image.get(h,x)===r;)h+=o;for(h-=o;this.isValid(h,x)&&this.image.get(h,x)===r;)x+=d;return x-=d,new gt(h,x)}expandSquare(n,r,o){let d=o/(2*r),h=n[0].getX()-n[2].getX(),x=n[0].getY()-n[2].getY(),b=(n[0].getX()+n[2].getX())/2,N=(n[0].getY()+n[2].getY())/2,E=new Qe(b+d*h,N+d*x),k=new Qe(b-d*h,N-d*x);h=n[1].getX()-n[3].getX(),x=n[1].getY()-n[3].getY(),b=(n[1].getX()+n[3].getX())/2,N=(n[1].getY()+n[3].getY())/2;let I=new Qe(b+d*h,N+d*x),z=new Qe(b-d*h,N-d*x);return[E,I,k,z]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=ot.round(n.getX()),o=ot.round(n.getY());return this.isValid(r,o)}distancePoint(n,r){return ot.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return ot.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class Es{decode(n,r=null){let o=null,d=new Mn(n.getBlackMatrix()),h=null,x=null;try{let k=d.detectMirror(!1);h=k.getPoints(),this.reportFoundResultPoints(r,h),x=new et().decode(k)}catch(k){o=k}if(x==null)try{let k=d.detectMirror(!0);h=k.getPoints(),this.reportFoundResultPoints(r,h),x=new et().decode(k)}catch(k){throw o??k}let b=new be(x.getText(),x.getRawBytes(),x.getNumBits(),h,te.AZTEC,D.currentTimeMillis()),N=x.getByteSegments();N!=null&&b.putMetadata(xe.BYTE_SEGMENTS,N);let E=x.getECLevel();return E!=null&&b.putMetadata(xe.ERROR_CORRECTION_LEVEL,E),b}reportFoundResultPoints(n,r){if(n!=null){let o=n.get(ae.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((d,h,x)=>{o.foundPossibleResultPoint(d)})}}reset(){}}class Ea extends ie{constructor(n=500){super(new Es,n)}}class Bt{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(ae.TRY_HARDER)===!0&&n.isRotateSupported()){const h=n.rotateCounterClockwise(),x=this.doDecode(h,r),b=x.getResultMetadata();let N=270;b!==null&&b.get(xe.ORIENTATION)===!0&&(N=N+b.get(xe.ORIENTATION)%360),x.putMetadata(xe.ORIENTATION,N);const E=x.getResultPoints();if(E!==null){const k=h.getHeight();for(let I=0;I<E.length;I++)E[I]=new Qe(k-E[I].getY()-1,E[I].getX())}return x}else throw new Z}}reset(){}doDecode(n,r){const o=n.getWidth(),d=n.getHeight();let h=new W(o);const x=r&&r.get(ae.TRY_HARDER)===!0,b=Math.max(1,d>>(x?8:5));let N;x?N=d:N=15;const E=Math.trunc(d/2);for(let k=0;k<N;k++){const I=Math.trunc((k+1)/2),z=(k&1)===0,Q=E+b*(z?I:-I);if(Q<0||Q>=d)break;try{h=n.getBlackRow(Q,h)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(h.reverse(),r&&r.get(ae.NEED_RESULT_POINT_CALLBACK)===!0)){const fe=new Map;r.forEach((ve,Oe)=>fe.set(Oe,ve)),fe.delete(ae.NEED_RESULT_POINT_CALLBACK),r=fe}try{const fe=this.decodeRow(Q,h,r);if(ce===1){fe.putMetadata(xe.ORIENTATION,180);const ve=fe.getResultPoints();ve!==null&&(ve[0]=new Qe(o-ve[0].getX()-1,ve[0].getY()),ve[1]=new Qe(o-ve[1].getX()-1,ve[1].getY()))}return fe}catch{}}}throw new Z}static recordPattern(n,r,o){const d=o.length;for(let E=0;E<d;E++)o[E]=0;const h=n.getSize();if(r>=h)throw new Z;let x=!n.get(r),b=0,N=r;for(;N<h;){if(n.get(N)!==x)o[b]++;else{if(++b===d)break;o[b]=1,x=!x}N++}if(!(b===d||b===d-1&&N===h))throw new Z}static recordPatternInReverse(n,r,o){let d=o.length,h=n.get(r);for(;r>0&&d>=0;)n.get(--r)!==h&&(d--,h=!h);if(d>=0)throw new Z;Bt.recordPattern(n,r+1,o)}static patternMatchVariance(n,r,o){const d=n.length;let h=0,x=0;for(let E=0;E<d;E++)h+=n[E],x+=r[E];if(h<x)return Number.POSITIVE_INFINITY;const b=h/x;o*=b;let N=0;for(let E=0;E<d;E++){const k=n[E],I=r[E]*b,z=k>I?k-I:I-k;if(z>o)return Number.POSITIVE_INFINITY;N+=z}return N/h}}class Xe extends Bt{static findStartPattern(n){const r=n.getSize(),o=n.getNextSet(0);let d=0,h=Int32Array.from([0,0,0,0,0,0]),x=o,b=!1;const N=6;for(let E=o;E<r;E++)if(n.get(E)!==b)h[d]++;else{if(d===N-1){let k=Xe.MAX_AVG_VARIANCE,I=-1;for(let z=Xe.CODE_START_A;z<=Xe.CODE_START_C;z++){const Q=Bt.patternMatchVariance(h,Xe.CODE_PATTERNS[z],Xe.MAX_INDIVIDUAL_VARIANCE);Q<k&&(k=Q,I=z)}if(I>=0&&n.isRange(Math.max(0,x-(E-x)/2),x,!1))return Int32Array.from([x,E,I]);x+=h[0]+h[1],h=h.slice(2,h.length-1),h[d-1]=0,h[d]=0,d--}else d++;h[d]=1,b=!b}throw new Z}static decodeCode(n,r,o){Bt.recordPattern(n,o,r);let d=Xe.MAX_AVG_VARIANCE,h=-1;for(let x=0;x<Xe.CODE_PATTERNS.length;x++){const b=Xe.CODE_PATTERNS[x],N=this.patternMatchVariance(r,b,Xe.MAX_INDIVIDUAL_VARIANCE);N<d&&(d=N,h=x)}if(h>=0)return h;throw new Z}decodeRow(n,r,o){const d=o&&o.get(ae.ASSUME_GS1)===!0,h=Xe.findStartPattern(r),x=h[2];let b=0;const N=new Uint8Array(20);N[b++]=x;let E;switch(x){case Xe.CODE_START_A:E=Xe.CODE_CODE_A;break;case Xe.CODE_START_B:E=Xe.CODE_CODE_B;break;case Xe.CODE_START_C:E=Xe.CODE_CODE_C;break;default:throw new X}let k=!1,I=!1,z="",Q=h[0],ce=h[1];const fe=Int32Array.from([0,0,0,0,0,0]);let ve=0,Oe=0,Ke=x,We=0,He=!0,Rt=!1,Et=!1;for(;!k;){const di=I;switch(I=!1,ve=Oe,Oe=Xe.decodeCode(r,fe,ce),N[b++]=Oe,Oe!==Xe.CODE_STOP&&(He=!0),Oe!==Xe.CODE_STOP&&(We++,Ke+=We*Oe),Q=ce,ce+=fe.reduce((_c,ao)=>_c+ao,0),Oe){case Xe.CODE_START_A:case Xe.CODE_START_B:case Xe.CODE_START_C:throw new X}switch(E){case Xe.CODE_CODE_A:if(Oe<64)Et===Rt?z+=String.fromCharCode(32+Oe):z+=String.fromCharCode(32+Oe+128),Et=!1;else if(Oe<96)Et===Rt?z+=String.fromCharCode(Oe-64):z+=String.fromCharCode(Oe+64),Et=!1;else switch(Oe!==Xe.CODE_STOP&&(He=!1),Oe){case Xe.CODE_FNC_1:d&&(z.length===0?z+="]C1":z+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_A:!Rt&&Et?(Rt=!0,Et=!1):Rt&&Et?(Rt=!1,Et=!1):Et=!0;break;case Xe.CODE_SHIFT:I=!0,E=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_B:E=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_C:E=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:k=!0;break}break;case Xe.CODE_CODE_B:if(Oe<96)Et===Rt?z+=String.fromCharCode(32+Oe):z+=String.fromCharCode(32+Oe+128),Et=!1;else switch(Oe!==Xe.CODE_STOP&&(He=!1),Oe){case Xe.CODE_FNC_1:d&&(z.length===0?z+="]C1":z+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_B:!Rt&&Et?(Rt=!0,Et=!1):Rt&&Et?(Rt=!1,Et=!1):Et=!0;break;case Xe.CODE_SHIFT:I=!0,E=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_A:E=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_C:E=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:k=!0;break}break;case Xe.CODE_CODE_C:if(Oe<100)Oe<10&&(z+="0"),z+=Oe;else switch(Oe!==Xe.CODE_STOP&&(He=!1),Oe){case Xe.CODE_FNC_1:d&&(z.length===0?z+="]C1":z+="");break;case Xe.CODE_CODE_A:E=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_B:E=Xe.CODE_CODE_B;break;case Xe.CODE_STOP:k=!0;break}break}di&&(E=E===Xe.CODE_CODE_A?Xe.CODE_CODE_B:Xe.CODE_CODE_A)}const zn=ce-Q;if(ce=r.getNextUnset(ce),!r.isRange(ce,Math.min(r.getSize(),ce+(ce-Q)/2),!1))throw new Z;if(Ke-=We*ve,Ke%103!==ve)throw new R;const zs=z.length;if(zs===0)throw new Z;zs>0&&He&&(E===Xe.CODE_CODE_C?z=z.substring(0,zs-2):z=z.substring(0,zs-1));const gs=(h[1]+h[0])/2,on=Q+zn/2,ds=N.length,Ds=new Uint8Array(ds);for(let di=0;di<ds;di++)Ds[di]=N[di];const Gi=[new Qe(gs,n),new Qe(on,n)];return new be(z,Ds,0,Gi,te.CODE_128,new Date().getTime())}}Xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Xe.MAX_AVG_VARIANCE=.25,Xe.MAX_INDIVIDUAL_VARIANCE=.7,Xe.CODE_SHIFT=98,Xe.CODE_CODE_C=99,Xe.CODE_CODE_B=100,Xe.CODE_CODE_A=101,Xe.CODE_FNC_1=102,Xe.CODE_FNC_2=97,Xe.CODE_FNC_3=96,Xe.CODE_FNC_4_A=101,Xe.CODE_FNC_4_B=100,Xe.CODE_START_A=103,Xe.CODE_START_B=104,Xe.CODE_START_C=105,Xe.CODE_STOP=106;class qt extends Bt{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,o){let d=this.counters;d.fill(0),this.decodeRowResult="";let h=qt.findAsteriskPattern(r,d),x=r.getNextSet(h[1]),b=r.getSize(),N,E;do{qt.recordPattern(r,x,d);let fe=qt.toNarrowWidePattern(d);if(fe<0)throw new Z;N=qt.patternToChar(fe),this.decodeRowResult+=N,E=x;for(let ve of d)x+=ve;x=r.getNextSet(x)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let k=0;for(let fe of d)k+=fe;let I=x-E-k;if(x!==b&&I*2<k)throw new Z;if(this.usingCheckDigit){let fe=this.decodeRowResult.length-1,ve=0;for(let Oe=0;Oe<fe;Oe++)ve+=qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Oe));if(this.decodeRowResult.charAt(fe)!==qt.ALPHABET_STRING.charAt(ve%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,fe)}if(this.decodeRowResult.length===0)throw new Z;let z;this.extendedMode?z=qt.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;let Q=(h[1]+h[0])/2,ce=E+k/2;return new be(z,null,0,[new Qe(Q,n),new Qe(ce,n)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let o=n.getSize(),d=n.getNextSet(0),h=0,x=d,b=!1,N=r.length;for(let E=d;E<o;E++)if(n.get(E)!==b)r[h]++;else{if(h===N-1){if(this.toNarrowWidePattern(r)===qt.ASTERISK_ENCODING&&n.isRange(Math.max(0,x-Math.floor((E-x)/2)),x,!1))return[x,E];x+=r[0]+r[1],r.copyWithin(0,2,2+h-1),r[h-1]=0,r[h]=0,h--}else h++;r[h]=1,b=!b}throw new Z}static toNarrowWidePattern(n){let r=n.length,o=0,d;do{let h=2147483647;for(let N of n)N<h&&N>o&&(h=N);o=h,d=0;let x=0,b=0;for(let N=0;N<r;N++){let E=n[N];E>o&&(b|=1<<r-1-N,d++,x+=E)}if(d===3){for(let N=0;N<r&&d>0;N++){let E=n[N];if(E>o&&(d--,E*2>=x))return-1}return b}}while(d>3);return-1}static patternToChar(n){for(let r=0;r<qt.CHARACTER_ENCODINGS.length;r++)if(qt.CHARACTER_ENCODINGS[r]===n)return qt.ALPHABET_STRING.charAt(r);if(n===qt.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(n){let r=n.length,o="";for(let d=0;d<r;d++){let h=n.charAt(d);if(h==="+"||h==="$"||h==="%"||h==="/"){let x=n.charAt(d+1),b="\0";switch(h){case"+":if(x>="A"&&x<="Z")b=String.fromCharCode(x.charCodeAt(0)+32);else throw new X;break;case"$":if(x>="A"&&x<="Z")b=String.fromCharCode(x.charCodeAt(0)-64);else throw new X;break;case"%":if(x>="A"&&x<="E")b=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")b=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")b=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")b=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")b="\0";else if(x==="V")b="@";else if(x==="W")b="`";else if(x==="X"||x==="Y"||x==="Z")b="";else throw new X;break;case"/":if(x>="A"&&x<="O")b=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")b=":";else throw new X;break}o+=b,d++}else o+=h}return o}}qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],qt.ASTERISK_ENCODING=148;class Ct extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,o){let d=this.decodeStart(r),h=this.decodeEnd(r),x=new oe;Ct.decodeMiddle(r,d[1],h[0],x);let b=x.toString(),N=null;o!=null&&(N=o.get(ae.ALLOWED_LENGTHS)),N==null&&(N=Ct.DEFAULT_ALLOWED_LENGTHS);let E=b.length,k=!1,I=0;for(let ce of N){if(E===ce){k=!0;break}ce>I&&(I=ce)}if(!k&&E>I&&(k=!0),!k)throw new X;const z=[new Qe(d[1],n),new Qe(h[0],n)];return new be(b,null,0,z,te.ITF,new Date().getTime())}static decodeMiddle(n,r,o,d){let h=new Int32Array(10),x=new Int32Array(5),b=new Int32Array(5);for(h.fill(0),x.fill(0),b.fill(0);r<o;){Bt.recordPattern(n,r,h);for(let E=0;E<5;E++){let k=2*E;x[E]=h[k],b[E]=h[k+1]}let N=Ct.decodeDigit(x);d.append(N.toString()),N=this.decodeDigit(b),d.append(N.toString()),h.forEach(function(E){r+=E})}}decodeStart(n){let r=Ct.skipWhiteSpace(n),o=Ct.findGuardPattern(n,r,Ct.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let d=r-1;o>0&&d>=0&&!n.get(d);d--)o--;if(o!==0)throw new Z}static skipWhiteSpace(n){const r=n.getSize(),o=n.getNextSet(0);if(o===r)throw new Z;return o}decodeEnd(n){n.reverse();try{let r=Ct.skipWhiteSpace(n),o;try{o=Ct.findGuardPattern(n,r,Ct.END_PATTERN_REVERSED[0])}catch(h){h instanceof Z&&(o=Ct.findGuardPattern(n,r,Ct.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let d=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-d,o}finally{n.reverse()}}static findGuardPattern(n,r,o){let d=o.length,h=new Int32Array(d),x=n.getSize(),b=!1,N=0,E=r;h.fill(0);for(let k=r;k<x;k++)if(n.get(k)!==b)h[N]++;else{if(N===d-1){if(Bt.patternMatchVariance(h,o,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return[E,k];E+=h[0]+h[1],D.arraycopy(h,2,h,0,N-1),h[N-1]=0,h[N]=0,N--}else N++;h[N]=1,b=!b}throw new Z}static decodeDigit(n){let r=Ct.MAX_AVG_VARIANCE,o=-1,d=Ct.PATTERNS.length;for(let h=0;h<d;h++){let x=Ct.PATTERNS[h],b=Bt.patternMatchVariance(n,x,Ct.MAX_INDIVIDUAL_VARIANCE);b<r?(r=b,o=h):b===r&&(o=-1)}if(o>=0)return o%10;throw new Z}}Ct.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ct.MAX_AVG_VARIANCE=.38,Ct.MAX_INDIVIDUAL_VARIANCE=.5,Ct.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ct.START_PATTERN=Int32Array.from([1,1,1,1]),Ct.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,o,d=0,h=Int32Array.from([0,0,0]);for(;!r;){h=Int32Array.from([0,0,0]),o=un.findGuardPattern(n,d,!1,this.START_END_PATTERN,h);let x=o[0];d=o[1];let b=x-(d-x);b>=0&&(r=n.isRange(b,x,!1))}return o}static checkChecksum(n){return un.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return un.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let d=r-1;d>=0;d-=2){let h=n.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;o+=h}o*=3;for(let d=r-2;d>=0;d-=2){let h=n.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;o+=h}return(1e3-o)%10}static decodeEnd(n,r){return un.findGuardPattern(n,r,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,o,d){return this.findGuardPattern(n,r,o,d,new Int32Array(d.length))}static findGuardPattern(n,r,o,d,h){let x=n.getSize();r=o?n.getNextUnset(r):n.getNextSet(r);let b=0,N=r,E=d.length,k=o;for(let I=r;I<x;I++)if(n.get(I)!==k)h[b]++;else{if(b===E-1){if(Bt.patternMatchVariance(h,d,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([N,I]);N+=h[0]+h[1];let z=h.slice(2,h.length-1);for(let Q=0;Q<b-1;Q++)h[Q]=z[Q];h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,k=!k}throw new Z}static decodeDigit(n,r,o,d){this.recordPattern(n,o,r);let h=this.MAX_AVG_VARIANCE,x=-1,b=d.length;for(let N=0;N<b;N++){let E=d[N],k=Bt.patternMatchVariance(r,E,un.MAX_INDIVIDUAL_VARIANCE);k<h&&(h=k,x=N)}if(x>=0)return x;throw new Z}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ht{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(r,o,d),x=d.toString(),b=Ht.parseExtensionString(x),N=[new Qe((o[0]+o[1])/2,n),new Qe(h,n)],E=new be(x,null,0,N,te.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&E.putAllMetadata(b),E}decodeMiddle(n,r,o){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=n.getSize(),x=r[1],b=0;for(let E=0;E<5&&x<h;E++){let k=un.decodeDigit(n,d,x,un.L_AND_G_PATTERNS);o+=String.fromCharCode(48+k%10);for(let I of d)x+=I;k>=10&&(b|=1<<4-E),E!==4&&(x=n.getNextSet(x),x=n.getNextUnset(x))}if(o.length!==5)throw new Z;let N=this.determineCheckDigit(b);if(Ht.extensionChecksum(o.toString())!==N)throw new Z;return x}static extensionChecksum(n){let r=n.length,o=0;for(let d=r-2;d>=0;d-=2)o+=n.charAt(d).charCodeAt(0)-48;o*=3;for(let d=r-1;d>=0;d-=2)o+=n.charAt(d).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Z}static parseExtensionString(n){if(n.length!==5)return null;let r=Ht.parseExtension5String(n);return r==null?null:new Map([[xe.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(n.substring(1)),d=(o/100).toString(),h=o%100,x=h<10?"0"+h:h.toString();return r+d+"."+x}}class Kt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,o){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(r,o,d),x=d.toString(),b=Kt.parseExtensionString(x),N=[new Qe((o[0]+o[1])/2,n),new Qe(h,n)],E=new be(x,null,0,N,te.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&E.putAllMetadata(b),E}decodeMiddle(n,r,o){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=n.getSize(),x=r[1],b=0;for(let N=0;N<2&&x<h;N++){let E=un.decodeDigit(n,d,x,un.L_AND_G_PATTERNS);o+=String.fromCharCode(48+E%10);for(let k of d)x+=k;E>=10&&(b|=1<<1-N),N!==1&&(x=n.getNextSet(x),x=n.getNextUnset(x))}if(o.length!==2)throw new Z;if(parseInt(o.toString())%4!==b)throw new Z;return x}static parseExtensionString(n){return n.length!==2?null:new Map([[xe.ISSUE_NUMBER,parseInt(n)]])}}class Yt{static decodeRow(n,r,o){let d=un.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ht().decodeRow(n,r,d)}catch{return new Kt().decodeRow(n,r,d)}}}Yt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class bt extends un{constructor(){super(),this.decodeRowStringBuffer="",bt.L_AND_G_PATTERNS=bt.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=bt.L_PATTERNS[n-10],o=new Int32Array(r.length);for(let d=0;d<r.length;d++)o[d]=r[r.length-d-1];bt.L_AND_G_PATTERNS[n]=o}}decodeRow(n,r,o){let d=bt.findStartGuardPattern(r),h=o==null?null:o.get(ae.NEED_RESULT_POINT_CALLBACK);if(h!=null){const He=new Qe((d[0]+d[1])/2,n);h.foundPossibleResultPoint(He)}let x=this.decodeMiddle(r,d,this.decodeRowStringBuffer),b=x.rowOffset,N=x.resultString;if(h!=null){const He=new Qe(b,n);h.foundPossibleResultPoint(He)}let E=this.decodeEnd(r,b);if(h!=null){const He=new Qe((E[0]+E[1])/2,n);h.foundPossibleResultPoint(He)}let k=E[1],I=k+(k-E[0]);if(I>=r.getSize()||!r.isRange(k,I,!1))throw new Z;let z=N.toString();if(z.length<8)throw new X;if(!bt.checkChecksum(z))throw new R;let Q=(d[1]+d[0])/2,ce=(E[1]+E[0])/2,fe=this.getBarcodeFormat(),ve=[new Qe(Q,n),new Qe(ce,n)],Oe=new be(z,null,0,ve,fe,new Date().getTime()),Ke=0;try{let He=Yt.decodeRow(n,r,E[1]);Oe.putMetadata(xe.UPC_EAN_EXTENSION,He.getText()),Oe.putAllMetadata(He.getResultMetadata()),Oe.addResultPoints(He.getResultPoints()),Ke=He.getText().length}catch{}let We=o==null?null:o.get(ae.ALLOWED_EAN_EXTENSIONS);if(We!=null){let He=!1;for(let Rt in We)if(Ke.toString()===Rt){He=!0;break}if(!He)throw new Z}return Oe}decodeEnd(n,r){return bt.findGuardPattern(n,r,!1,bt.START_END_PATTERN,new Int32Array(bt.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return bt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let o=parseInt(n.charAt(r-1),10);return bt.getStandardUPCEANChecksum(n.substring(0,r-1))===o}static getStandardUPCEANChecksum(n){let r=n.length,o=0;for(let d=r-1;d>=0;d-=2){let h=n.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;o+=h}o*=3;for(let d=r-2;d>=0;d-=2){let h=n.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;o+=h}return(1e3-o)%10}}class Ie extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=n.getSize(),x=r[1],b=0;for(let E=0;E<6&&x<h;E++){let k=bt.decodeDigit(n,d,x,bt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+k%10);for(let I of d)x+=I;k>=10&&(b|=1<<5-E)}o=Ie.determineFirstDigit(o,b),x=bt.findGuardPattern(n,x,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&x<h;E++){let k=bt.decodeDigit(n,d,x,bt.L_PATTERNS);o+=String.fromCharCode(48+k);for(let I of d)x+=I}return{rowOffset:x,resultString:o}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(n,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode(48+o)+n,n;throw new Z}}Ie.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ft extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,o){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=n.getSize(),x=r[1];for(let N=0;N<4&&x<h;N++){let E=bt.decodeDigit(n,d,x,bt.L_PATTERNS);o+=String.fromCharCode(48+E);for(let k of d)x+=k}x=bt.findGuardPattern(n,x,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&x<h;N++){let E=bt.decodeDigit(n,d,x,bt.L_PATTERNS);o+=String.fromCharCode(48+E);for(let k of d)x+=k}return{rowOffset:x,resultString:o}}getBarcodeFormat(){return te.EAN_8}}class Dt extends bt{constructor(){super(...arguments),this.ean13Reader=new Ie}getBarcodeFormat(){return te.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,o))}decodeMiddle(n,r,o){return this.ean13Reader.decodeMiddle(n,r,o)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let o=new be(r.substring(1),null,null,n.getResultPoints(),te.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new Z}reset(){this.ean13Reader.reset()}}class yt extends bt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,o){const d=this.decodeMiddleCounters.map(E=>E);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const h=n.getSize();let x=r[1],b=0;for(let E=0;E<6&&x<h;E++){const k=yt.decodeDigit(n,d,x,yt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+k%10);for(let I of d)x+=I;k>=10&&(b|=1<<5-E)}let N=yt.determineNumSysAndCheckDigit(o,b);return{rowOffset:x,resultString:N}}decodeEnd(n,r){return yt.findGuardPatternWithoutCounters(n,r,!0,yt.MIDDLE_END_PATTERN)}checkChecksum(n){return bt.checkChecksum(yt.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let o=0;o<=1;o++)for(let d=0;d<10;d++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][d]){let h=String.fromCharCode(48+o),x=String.fromCharCode(48+d);return h+n+x}throw Z.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(h=>h.charCodeAt(0)),o=new oe;o.append(n.charAt(0));let d=r[5];switch(d){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(d),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(d);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}yt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class As extends Bt{constructor(n){super();let r=n==null?null:n.get(ae.POSSIBLE_FORMATS),o=[];u(r)?(o.push(new Ie),o.push(new Dt),o.push(new ft),o.push(new yt)):(r.indexOf(te.EAN_13)>-1&&o.push(new Ie),r.indexOf(te.UPC_A)>-1&&o.push(new Dt),r.indexOf(te.EAN_8)>-1&&o.push(new ft),r.indexOf(te.UPC_E)>-1&&o.push(new yt)),this.readers=o}decodeRow(n,r,o){for(let d of this.readers)try{const h=d.decodeRow(n,r,o),x=h.getBarcodeFormat()===te.EAN_13&&h.getText().charAt(0)==="0",b=o==null?null:o.get(ae.POSSIBLE_FORMATS),N=b==null||b.includes(te.UPC_A);if(x&&N){const E=h.getRawBytes(),k=new be(h.getText().substring(1),E,E?E.length:null,h.getResultPoints(),te.UPC_A);return k.putAllMetadata(h.getResultMetadata()),k}return h}catch{}throw new Z}reset(){for(let n of this.readers)n.reset()}}class dn extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let o=0;o<r.length;o++)if(Bt.patternMatchVariance(n,r[o],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return o;throw new Z}static count(n){return ot.sum(new Int32Array(n))}static increment(n,r){let o=0,d=r[0];for(let h=1;h<n.length;h++)r[h]>d&&(d=r[h],o=h);n[o]++}static decrement(n,r){let o=0,d=r[0];for(let h=1;h<n.length;h++)r[h]<d&&(d=r[h],o=h);n[o]--}static isFinderPattern(n){let r=n[0]+n[1],o=r+n[2]+n[3],d=r/o;if(d>=dn.MIN_FINDER_PATTERN_RATIO&&d<=dn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let b of n)b>x&&(x=b),b<h&&(h=b);return x<10*h}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class xs{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof xs))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ps{constructor(n,r,o,d,h){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Qe(o,h)),this.resultPoints.push(new Qe(d,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof ps))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class Zn{constructor(){}static getRSSvalue(n,r,o){let d=0;for(let N of n)d+=N;let h=0,x=0,b=n.length;for(let N=0;N<b-1;N++){let E;for(E=1,x|=1<<N;E<n[N];E++,x&=~(1<<N)){let k=Zn.combins(d-E-1,b-N-2);if(o&&x===0&&d-E-(b-N-1)>=b-N-1&&(k-=Zn.combins(d-E-(b-N),b-N-2)),b-N-1>1){let I=0;for(let z=d-E-(b-N-2);z>r;z--)I+=Zn.combins(d-E-z-1,b-N-3);k-=I*(b-1-N)}else d-E>r&&k--;h+=k}d-=E}return h}static combins(n,r){let o,d;n-r>r?(d=r,o=n-r):(d=n-r,o=r);let h=1,x=1;for(let b=n;b>o;b--)h*=b,x<=d&&(h/=x,x++);for(;x<=d;)h/=x,x++;return h}}class Yr{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let o=12*r,d=new W(o),h=0,b=n[0].getRightChar().getValue();for(let N=11;N>=0;--N)(b&1<<N)!=0&&d.set(h),h++;for(let N=1;N<n.length;++N){let E=n[N],k=E.getLeftChar().getValue();for(let I=11;I>=0;--I)(k&1<<I)!=0&&d.set(h),h++;if(E.getRightChar()!=null){let I=E.getRightChar().getValue();for(let z=11;z>=0;--z)(I&1<<z)!=0&&d.set(h),h++}}return d}}class Ks{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class si{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Qn extends si{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Qn.FNC1}}Qn.FNC1="$";class Zs extends si{constructor(n,r,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wt extends si{constructor(n,r,o){if(super(n),r<0||r>10||o<0||o>10)throw new X;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wt.FNC1}isSecondDigitFNC1(){return this.secondDigit===wt.FNC1}isAnyFNC1(){return this.firstDigit===wt.FNC1||this.secondDigit===wt.FNC1}}wt.FNC1=10;class Ye{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new Z;let r=n.substring(0,2);for(let h of Ye.TWO_DIGIT_DATA_LENGTH)if(h[0]===r)return h[1]===Ye.VARIABLE_LENGTH?Ye.processVariableAI(2,h[2],n):Ye.processFixedAI(2,h[1],n);if(n.length<3)throw new Z;let o=n.substring(0,3);for(let h of Ye.THREE_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Ye.VARIABLE_LENGTH?Ye.processVariableAI(3,h[2],n):Ye.processFixedAI(3,h[1],n);for(let h of Ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Ye.VARIABLE_LENGTH?Ye.processVariableAI(4,h[2],n):Ye.processFixedAI(4,h[1],n);if(n.length<4)throw new Z;let d=n.substring(0,4);for(let h of Ye.FOUR_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===Ye.VARIABLE_LENGTH?Ye.processVariableAI(4,h[2],n):Ye.processFixedAI(4,h[1],n);throw new Z}static processFixedAI(n,r,o){if(o.length<n)throw new Z;let d=o.substring(0,n);if(o.length<n+r)throw new Z;let h=o.substring(n,n+r),x=o.substring(n+r),b="("+d+")"+h,N=Ye.parseFieldsInGeneralPurpose(x);return N==null?b:b+N}static processVariableAI(n,r,o){let d=o.substring(0,n),h;o.length<n+r?h=o.length:h=n+r;let x=o.substring(n,h),b=o.substring(h),N="("+d+")"+x,E=Ye.parseFieldsInGeneralPurpose(b);return E==null?N:N+E}}Ye.VARIABLE_LENGTH=[],Ye.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ye.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ye.VARIABLE_LENGTH,20],["22",Ye.VARIABLE_LENGTH,29],["30",Ye.VARIABLE_LENGTH,8],["37",Ye.VARIABLE_LENGTH,8],["90",Ye.VARIABLE_LENGTH,30],["91",Ye.VARIABLE_LENGTH,30],["92",Ye.VARIABLE_LENGTH,30],["93",Ye.VARIABLE_LENGTH,30],["94",Ye.VARIABLE_LENGTH,30],["95",Ye.VARIABLE_LENGTH,30],["96",Ye.VARIABLE_LENGTH,30],["97",Ye.VARIABLE_LENGTH,3],["98",Ye.VARIABLE_LENGTH,30],["99",Ye.VARIABLE_LENGTH,30]],Ye.THREE_DIGIT_DATA_LENGTH=[["240",Ye.VARIABLE_LENGTH,30],["241",Ye.VARIABLE_LENGTH,30],["242",Ye.VARIABLE_LENGTH,6],["250",Ye.VARIABLE_LENGTH,30],["251",Ye.VARIABLE_LENGTH,30],["253",Ye.VARIABLE_LENGTH,17],["254",Ye.VARIABLE_LENGTH,20],["400",Ye.VARIABLE_LENGTH,30],["401",Ye.VARIABLE_LENGTH,30],["402",17],["403",Ye.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ye.VARIABLE_LENGTH,20],["421",Ye.VARIABLE_LENGTH,15],["422",3],["423",Ye.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ye.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ye.VARIABLE_LENGTH,15],["391",Ye.VARIABLE_LENGTH,18],["392",Ye.VARIABLE_LENGTH,15],["393",Ye.VARIABLE_LENGTH,18],["703",Ye.VARIABLE_LENGTH,30]],Ye.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ye.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ye.VARIABLE_LENGTH,20],["8003",Ye.VARIABLE_LENGTH,30],["8004",Ye.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ye.VARIABLE_LENGTH,30],["8008",Ye.VARIABLE_LENGTH,12],["8018",18],["8020",Ye.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ye.VARIABLE_LENGTH,70],["8200",Ye.VARIABLE_LENGTH,70]];class mn{constructor(n){this.buffer=new oe,this.information=n}decodeAllCodes(n,r){let o=r,d=null;do{let h=this.decodeGeneralPurposeField(o,d),x=Ye.parseFieldsInGeneralPurpose(h.getNewString());if(x!=null&&n.append(x),h.isRemaining()?d=""+h.getRemainingValue():d=null,o===h.getNewPosition())break;o=h.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(n,4);return h===0?new wt(this.information.getSize(),wt.FNC1,wt.FNC1):new wt(this.information.getSize(),h-1,wt.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),o=(r-8)/11,d=(r-8)%11;return new wt(n+7,o,d)}extractNumericValueFromBitArray(n,r){return mn.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,o){let d=0;for(let h=0;h<o;++h)n.get(r+h)&&(d|=1<<o-h-1);return d}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Zs(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Zs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new Zs(this.current.getPosition(),this.buffer.toString()):r=new Zs(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new Ks(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new Zs(this.current.getPosition(),this.buffer.toString());return new Ks(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ks(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Zs(this.current.getPosition(),this.buffer.toString());return new Ks(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ks(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new Zs(this.current.getPosition(),this.buffer.toString());return new Ks(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ks(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(n,8);return d>=232&&d<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Qn(n+5,Qn.FNC1);if(r>=5&&r<15)return new Qn(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new Qn(n+7,""+(o+1));if(o>=90&&o<116)return new Qn(n+7,""+(o+7));let d=this.extractNumericValueFromBitArray(n,8),h;switch(d){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new X}return new Qn(n+8,h)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Qn(n+5,Qn.FNC1);if(r>=5&&r<15)return new Qn(n+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new Qn(n+6,""+(o+33));let d;switch(o){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Se("Decoding invalid alphanumeric value: "+o)}return new Qn(n+6,d)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class an{constructor(n){this.information=n,this.generalDecoder=new mn(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class en extends an{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,o)}encodeCompressedGtinWithoutAI(n,r,o){for(let d=0;d<4;++d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*d,10);h/100===0&&n.append("0"),h/10===0&&n.append("0"),n.append(h)}en.appendCheckDigit(n,o)}static appendCheckDigit(n,r){let o=0;for(let d=0;d<13;d++){let h=n.charAt(d+r).charCodeAt(0)-48;o+=(d&1)===0?3*h:h}o=10-o%10,o===10&&(o=0),n.append(o)}}en.GTIN_SIZE=40;class _e extends en{constructor(n){super(n)}parseInformation(){let n=new oe;n.append("(01)");let r=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(_e.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,_e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,_e.HEADER_SIZE+44)}}_e.HEADER_SIZE=4;class $t extends an{constructor(n){super(n)}parseInformation(){let n=new oe;return this.getGeneralDecoder().decodeAllCodes(n,$t.HEADER_SIZE)}}$t.HEADER_SIZE=5;class In extends en{constructor(n){super(n)}encodeCompressedWeight(n,r,o){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(n,d);let h=this.checkWeight(d),x=1e5;for(let b=0;b<5;++b)h/x===0&&n.append("0"),x/=10;n.append(h)}}class Fn extends In{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Fn.HEADER_SIZE+In.GTIN_SIZE+Fn.WEIGHT_SIZE)throw new Z;let n=new oe;return this.encodeCompressedGtin(n,Fn.HEADER_SIZE),this.encodeCompressedWeight(n,Fn.HEADER_SIZE+In.GTIN_SIZE,Fn.WEIGHT_SIZE),n.toString()}}Fn.HEADER_SIZE=5,Fn.WEIGHT_SIZE=15;class Aa extends Fn{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class ai extends Fn{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class os extends en{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<os.HEADER_SIZE+en.GTIN_SIZE)throw new Z;let n=new oe;this.encodeCompressedGtin(n,os.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(os.HEADER_SIZE+en.GTIN_SIZE,os.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(os.HEADER_SIZE+en.GTIN_SIZE+os.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}os.HEADER_SIZE=8,os.LAST_DIGIT_SIZE=2;class xn extends en{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<xn.HEADER_SIZE+en.GTIN_SIZE)throw new Z;let n=new oe;this.encodeCompressedGtin(n,xn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(xn.HEADER_SIZE+en.GTIN_SIZE,xn.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(xn.HEADER_SIZE+en.GTIN_SIZE+xn.LAST_DIGIT_SIZE,xn.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let d=this.getGeneralDecoder().decodeGeneralPurposeField(xn.HEADER_SIZE+en.GTIN_SIZE+xn.LAST_DIGIT_SIZE+xn.FIRST_THREE_DIGITS_SIZE,null);return n.append(d.getNewString()),n.toString()}}xn.HEADER_SIZE=8,xn.LAST_DIGIT_SIZE=2,xn.FIRST_THREE_DIGITS_SIZE=10;class tn extends In{constructor(n,r,o){super(n),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE+tn.DATE_SIZE)throw new Z;let n=new oe;return this.encodeCompressedGtin(n,tn.HEADER_SIZE),this.encodeCompressedWeight(n,tn.HEADER_SIZE+tn.GTIN_SIZE,tn.WEIGHT_SIZE),this.encodeCompressedDate(n,tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,tn.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let d=o%32;o/=32;let h=o%12+1;o/=12;let x=o;x/10==0&&n.append("0"),n.append(x),h/10==0&&n.append("0"),n.append(h),d/10==0&&n.append("0"),n.append(d)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}tn.HEADER_SIZE=8,tn.WEIGHT_SIZE=20,tn.DATE_SIZE=16;function Oi(M){try{if(M.get(1))return new _e(M);if(!M.get(2))return new $t(M);switch(mn.extractNumericValueFromBitArray(M,1,4)){case 4:return new Aa(M);case 5:return new ai(M)}switch(mn.extractNumericValueFromBitArray(M,1,5)){case 12:return new os(M);case 13:return new xn(M)}switch(mn.extractNumericValueFromBitArray(M,1,7)){case 56:return new tn(M,"310","11");case 57:return new tn(M,"320","11");case 58:return new tn(M,"310","13");case 59:return new tn(M,"320","13");case 60:return new tn(M,"310","15");case 61:return new tn(M,"320","15");case 62:return new tn(M,"310","17");case 63:return new tn(M,"320","17")}}catch(n){throw console.log(n),new Se("unknown decoder: "+M)}}class Rs{constructor(n,r,o,d){this.leftchar=n,this.rightchar=r,this.finderpattern=o,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof Rs?Rs.equalsOrNull(n.leftchar,r.leftchar)&&Rs.equalsOrNull(n.rightchar,r.rightchar)&&Rs.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:Rs.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class $n{constructor(n,r,o){this.pairs=n,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof $n?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let o;return n.forEach((d,h)=>{r.forEach(x=>{d.getLeftChar().getValue()===x.getLeftChar().getValue()&&d.getRightChar().getValue()===x.getRightChar().getValue()&&d.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(o=!0)})}),o}}class ze extends dn{constructor(n){super(...arguments),this.pairs=new Array(ze.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,o){this.pairs.length=0,this.startFromEven=!1;try{return ze.constructResult(this.decodeRow2pairs(n,r))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,ze.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(h){if(h instanceof Z){if(!this.pairs.length)throw new Z;o=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(n,!1),d){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new Z}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let o=r;o<this.rows.length;o++){let d=this.rows[o];this.pairs.length=0;for(let x of n)this.pairs.push(x.getPairs());if(this.pairs.push(d.getPairs()),!ze.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(n);h.push(d);try{return this.checkRows(h,o+1)}catch(x){this.verbose&&console.log(x)}}throw new Z}static isValidSequence(n){for(let r of ze.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let o=!0;for(let d=0;d<n.length;d++)if(n[d].getFinderPattern().getValue()!=r[d]){o=!1;break}if(o)return!0}return!1}storeRow(n,r){let o=0,d=!1,h=!1;for(;o<this.rows.length;){let x=this.rows[o];if(x.getRowNumber()>n){h=x.isEquivalent(this.pairs);break}d=x.isEquivalent(this.pairs),o++}h||d||ze.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new $n(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let o of r)if(o.getPairs().length!==n.length){for(let d of o.getPairs())for(let h of n)if(Rs.equals(d,h))break}}static isPartialRow(n,r){for(let o of r){let d=!0;for(let h of n){let x=!1;for(let b of o.getPairs())if(h.equals(b)){x=!0;break}if(!x){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=Yr.buildBitArray(n),d=Oi(r).parseInformation(),h=n[0].getFinderPattern().getResultPoints(),x=n[n.length-1].getFinderPattern().getResultPoints(),b=[h[0],h[1],x[0],x[1]];return new be(d,null,null,b,te.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let d=o.getChecksumPortion(),h=2;for(let b=1;b<this.pairs.size();++b){let N=this.pairs.get(b);d+=N.getLeftChar().getChecksumPortion(),h++;let E=N.getRightChar();E!=null&&(d+=E.getChecksumPortion(),h++)}return d%=211,211*(h-4)+d==r.getValue()}static getNextSecondBar(n,r){let o;return n.get(r)?(o=n.getNextUnset(r),o=n.getNextSet(o)):(o=n.getNextSet(r),o=n.getNextUnset(o)),o}retrieveNextPair(n,r,o){let d=r.length%2==0;this.startFromEven&&(d=!d);let h,x=!0,b=-1;do this.findNextPair(n,r,b),h=this.parseFoundFinderPattern(n,o,d),h==null?b=ze.getNextSecondBar(n,this.startEnd[0]):x=!1;while(x);let N=this.decodeDataCharacter(n,h,d,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Z;let E;try{E=this.decodeDataCharacter(n,h,d,!1)}catch(k){E=null,this.verbose&&console.log(k)}return new Rs(N,E,h,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,o){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=n.getSize(),x;o>=0?x=o:this.isEmptyPair(r)?x=0:x=r[r.length-1].getFinderPattern().getStartEnd()[1];let b=r.length%2!=0;this.startFromEven&&(b=!b);let N=!1;for(;x<h&&(N=!n.get(x),!!N);)x++;let E=0,k=x;for(let I=x;I<h;I++)if(n.get(I)!=N)d[E]++;else{if(E==3){if(b&&ze.reverseCounters(d),ze.isFinderPattern(d)){this.startEnd[0]=k,this.startEnd[1]=I;return}b&&ze.reverseCounters(d),k+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,E--}else E++;d[E]=1,N=!N}throw new Z}static reverseCounters(n){let r=n.length;for(let o=0;o<r/2;++o){let d=n[o];n[o]=n[r-o-1],n[r-o-1]=d}}parseFoundFinderPattern(n,r,o){let d,h,x;if(o){let E=this.startEnd[0]-1;for(;E>=0&&!n.get(E);)E--;E++,d=this.startEnd[0]-E,h=E,x=this.startEnd[1]}else h=this.startEnd[0],x=n.getNextUnset(this.startEnd[1]+1),d=x-this.startEnd[1];let b=this.getDecodeFinderCounters();D.arraycopy(b,0,b,1,b.length-1),b[0]=d;let N;try{N=this.parseFinderValue(b,ze.FINDER_PATTERNS)}catch{return null}return new ps(N,[h,x],h,x,r)}decodeDataCharacter(n,r,o,d){let h=this.getDataCharacterCounters();for(let on=0;on<h.length;on++)h[on]=0;if(d)ze.recordPatternInReverse(n,r.getStartEnd()[0],h);else{ze.recordPattern(n,r.getStartEnd()[1],h);for(let on=0,ds=h.length-1;on<ds;on++,ds--){let Ds=h[on];h[on]=h[ds],h[ds]=Ds}}let x=17,b=ot.sum(new Int32Array(h))/x,N=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(b-N)/N>.3)throw new Z;let E=this.getOddCounts(),k=this.getEvenCounts(),I=this.getOddRoundingErrors(),z=this.getEvenRoundingErrors();for(let on=0;on<h.length;on++){let ds=1*h[on]/b,Ds=ds+.5;if(Ds<1){if(ds<.3)throw new Z;Ds=1}else if(Ds>8){if(ds>8.7)throw new Z;Ds=8}let Gi=on/2;(on&1)==0?(E[Gi]=Ds,I[Gi]=ds-Ds):(k[Gi]=Ds,z[Gi]=ds-Ds)}this.adjustOddEvenCounts(x);let Q=4*r.getValue()+(o?0:2)+(d?0:1)-1,ce=0,fe=0;for(let on=E.length-1;on>=0;on--){if(ze.isNotA1left(r,o,d)){let ds=ze.WEIGHTS[Q][2*on];fe+=E[on]*ds}ce+=E[on]}let ve=0;for(let on=k.length-1;on>=0;on--)if(ze.isNotA1left(r,o,d)){let ds=ze.WEIGHTS[Q][2*on+1];ve+=k[on]*ds}let Oe=fe+ve;if((ce&1)!=0||ce>13||ce<4)throw new Z;let Ke=(13-ce)/2,We=ze.SYMBOL_WIDEST[Ke],He=9-We,Rt=Zn.getRSSvalue(E,We,!0),Et=Zn.getRSSvalue(k,He,!1),zn=ze.EVEN_TOTAL_SUBSET[Ke],zs=ze.GSUM[Ke],gs=Rt*zn+Et+zs;return new xs(gs,Oe)}static isNotA1left(n,r,o){return!(n.getValue()==0&&r&&o)}adjustOddEvenCounts(n){let r=ot.sum(new Int32Array(this.getOddCounts())),o=ot.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1;r>13?h=!0:r<4&&(d=!0);let x=!1,b=!1;o>13?b=!0:o<4&&(x=!0);let N=r+o-n,E=(r&1)==1,k=(o&1)==0;if(N==1)if(E){if(k)throw new Z;h=!0}else{if(!k)throw new Z;b=!0}else if(N==-1)if(E){if(k)throw new Z;d=!0}else{if(!k)throw new Z;x=!0}else if(N==0){if(E){if(!k)throw new Z;r<o?(d=!0,b=!0):(h=!0,x=!0)}else if(k)throw new Z}else throw new Z;if(d){if(h)throw new Z;ze.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&ze.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(b)throw new Z;ze.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&ze.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ze.SYMBOL_WIDEST=[7,5,4,3,1],ze.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ze.GSUM=[0,348,1388,2948,3988],ze.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ze.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ze.FINDER_PAT_A=0,ze.FINDER_PAT_B=1,ze.FINDER_PAT_C=2,ze.FINDER_PAT_D=3,ze.FINDER_PAT_E=4,ze.FINDER_PAT_F=5,ze.FINDER_PATTERN_SEQUENCES=[[ze.FINDER_PAT_A,ze.FINDER_PAT_A],[ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B],[ze.FINDER_PAT_A,ze.FINDER_PAT_C,ze.FINDER_PAT_B,ze.FINDER_PAT_D],[ze.FINDER_PAT_A,ze.FINDER_PAT_E,ze.FINDER_PAT_B,ze.FINDER_PAT_D,ze.FINDER_PAT_C],[ze.FINDER_PAT_A,ze.FINDER_PAT_E,ze.FINDER_PAT_B,ze.FINDER_PAT_D,ze.FINDER_PAT_D,ze.FINDER_PAT_F],[ze.FINDER_PAT_A,ze.FINDER_PAT_E,ze.FINDER_PAT_B,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_F,ze.FINDER_PAT_F],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_D],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_E],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_F,ze.FINDER_PAT_F],[ze.FINDER_PAT_A,ze.FINDER_PAT_A,ze.FINDER_PAT_B,ze.FINDER_PAT_B,ze.FINDER_PAT_C,ze.FINDER_PAT_D,ze.FINDER_PAT_D,ze.FINDER_PAT_E,ze.FINDER_PAT_E,ze.FINDER_PAT_F,ze.FINDER_PAT_F]],ze.MAX_PAIRS=11;class pc extends xs{constructor(n,r,o){super(n,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class rn extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,o){const d=this.decodePair(r,!1,n,o);rn.addOrTally(this.possibleLeftPairs,d),r.reverse();let h=this.decodePair(r,!0,n,o);rn.addOrTally(this.possibleRightPairs,h),r.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&rn.checkChecksum(x,b))return rn.constructResult(x,b)}throw new Z}static addOrTally(n,r){if(r==null)return;let o=!1;for(let d of n)if(d.getValue()===r.getValue()){d.incrementCount(),o=!0;break}o||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let o=4537077*n.getValue()+r.getValue(),d=new String(o).toString(),h=new oe;for(let E=13-d.length;E>0;E--)h.append("0");h.append(d);let x=0;for(let E=0;E<13;E++){let k=h.charAt(E).charCodeAt(0)-48;x+=(E&1)===0?3*k:k}x=10-x%10,x===10&&(x=0),h.append(x.toString());let b=n.getFinderPattern().getResultPoints(),N=r.getFinderPattern().getResultPoints();return new be(h.toString(),null,0,[b[0],b[1],N[0],N[1]],te.RSS_14,new Date().getTime())}static checkChecksum(n,r){let o=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,d=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,o===d}decodePair(n,r,o,d){try{let h=this.findFinderPattern(n,r),x=this.parseFoundFinderPattern(n,o,r,h),b=d==null?null:d.get(ae.NEED_RESULT_POINT_CALLBACK);if(b!=null){let k=(h[0]+h[1])/2;r&&(k=n.getSize()-1-k),b.foundPossibleResultPoint(new Qe(k,o))}let N=this.decodeDataCharacter(n,x,!0),E=this.decodeDataCharacter(n,x,!1);return new pc(1597*N.getValue()+E.getValue(),N.getChecksumPortion()+4*E.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(n,r,o){let d=this.getDataCharacterCounters();for(let ve=0;ve<d.length;ve++)d[ve]=0;if(o)Bt.recordPatternInReverse(n,r.getStartEnd()[0],d);else{Bt.recordPattern(n,r.getStartEnd()[1]+1,d);for(let ve=0,Oe=d.length-1;ve<Oe;ve++,Oe--){let Ke=d[ve];d[ve]=d[Oe],d[Oe]=Ke}}let h=o?16:15,x=ot.sum(new Int32Array(d))/h,b=this.getOddCounts(),N=this.getEvenCounts(),E=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let ve=0;ve<d.length;ve++){let Oe=d[ve]/x,Ke=Math.floor(Oe+.5);Ke<1?Ke=1:Ke>8&&(Ke=8);let We=Math.floor(ve/2);(ve&1)===0?(b[We]=Ke,E[We]=Oe-Ke):(N[We]=Ke,k[We]=Oe-Ke)}this.adjustOddEvenCounts(o,h);let I=0,z=0;for(let ve=b.length-1;ve>=0;ve--)z*=9,z+=b[ve],I+=b[ve];let Q=0,ce=0;for(let ve=N.length-1;ve>=0;ve--)Q*=9,Q+=N[ve],ce+=N[ve];let fe=z+3*Q;if(o){if((I&1)!==0||I>12||I<4)throw new Z;let ve=(12-I)/2,Oe=rn.OUTSIDE_ODD_WIDEST[ve],Ke=9-Oe,We=Zn.getRSSvalue(b,Oe,!1),He=Zn.getRSSvalue(N,Ke,!0),Rt=rn.OUTSIDE_EVEN_TOTAL_SUBSET[ve],Et=rn.OUTSIDE_GSUM[ve];return new xs(We*Rt+He+Et,fe)}else{if((ce&1)!==0||ce>10||ce<4)throw new Z;let ve=(10-ce)/2,Oe=rn.INSIDE_ODD_WIDEST[ve],Ke=9-Oe,We=Zn.getRSSvalue(b,Oe,!0),He=Zn.getRSSvalue(N,Ke,!1),Rt=rn.INSIDE_ODD_TOTAL_SUBSET[ve],Et=rn.INSIDE_GSUM[ve];return new xs(He*Rt+We+Et,fe)}}findFinderPattern(n,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let d=n.getSize(),h=!1,x=0;for(;x<d&&(h=!n.get(x),r!==h);)x++;let b=0,N=x;for(let E=x;E<d;E++)if(n.get(E)!==h)o[b]++;else{if(b===3){if(dn.isFinderPattern(o))return[N,E];N+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,b--}else b++;o[b]=1,h=!h}throw new Z}parseFoundFinderPattern(n,r,o,d){let h=n.get(d[0]),x=d[0]-1;for(;x>=0&&h!==n.get(x);)x--;x++;const b=d[0]-x,N=this.getDecodeFinderCounters(),E=new Int32Array(N.length);D.arraycopy(N,0,E,1,N.length-1),E[0]=b;const k=this.parseFinderValue(E,rn.FINDER_PATTERNS);let I=x,z=d[1];return o&&(I=n.getSize()-1-I,z=n.getSize()-1-z),new ps(k,[x,d[1]],I,z,r)}adjustOddEvenCounts(n,r){let o=ot.sum(new Int32Array(this.getOddCounts())),d=ot.sum(new Int32Array(this.getEvenCounts())),h=!1,x=!1,b=!1,N=!1;n?(o>12?x=!0:o<4&&(h=!0),d>12?N=!0:d<4&&(b=!0)):(o>11?x=!0:o<5&&(h=!0),d>10?N=!0:d<4&&(b=!0));let E=o+d-r,k=(o&1)===(n?1:0),I=(d&1)===1;if(E===1)if(k){if(I)throw new Z;x=!0}else{if(!I)throw new Z;N=!0}else if(E===-1)if(k){if(I)throw new Z;h=!0}else{if(!I)throw new Z;b=!0}else if(E===0){if(k){if(!I)throw new Z;o<d?(h=!0,N=!0):(x=!0,b=!0)}else if(I)throw new Z}else throw new Z;if(h){if(x)throw new Z;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(N)throw new Z;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}rn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],rn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],rn.OUTSIDE_GSUM=[0,161,961,2015,2715],rn.INSIDE_GSUM=[0,336,1036,1516],rn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],rn.INSIDE_ODD_WIDEST=[2,4,6,8],rn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Qs extends Bt{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const o=n?n.get(ae.POSSIBLE_FORMATS):null,d=n&&n.get(ae.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(te.EAN_13)||o.includes(te.UPC_A)||o.includes(te.EAN_8)||o.includes(te.UPC_E))&&this.readers.push(new As(n)),o.includes(te.CODE_39)&&this.readers.push(new qt(d)),o.includes(te.CODE_128)&&this.readers.push(new Xe),o.includes(te.ITF)&&this.readers.push(new Ct),o.includes(te.RSS_14)&&this.readers.push(new rn),o.includes(te.RSS_EXPANDED)&&this.readers.push(new ze(this.verbose))):(this.readers.push(new As(n)),this.readers.push(new qt),this.readers.push(new As(n)),this.readers.push(new Xe),this.readers.push(new Ct),this.readers.push(new rn),this.readers.push(new ze(this.verbose)))}decodeRow(n,r,o){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(n,r,o)}catch{}throw new Z}reset(){this.readers.forEach(n=>n.reset())}}class vd extends ie{constructor(n=500,r){super(new Qs(r),n,r)}}class Wt{constructor(n,r,o){this.ecCodewords=n,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xt{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class It{constructor(n,r,o,d,h,x){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=h,this.ecBlocks=x;let b=0;const N=x.getECCodewords(),E=x.getECBlocks();for(let k of E)b+=k.getCount()*(k.getDataCodewords()+N);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if((n&1)!==0||(r&1)!==0)throw new X;for(let o of It.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===r)return o;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new It(1,10,10,8,8,new Wt(5,new Xt(1,3))),new It(2,12,12,10,10,new Wt(7,new Xt(1,5))),new It(3,14,14,12,12,new Wt(10,new Xt(1,8))),new It(4,16,16,14,14,new Wt(12,new Xt(1,12))),new It(5,18,18,16,16,new Wt(14,new Xt(1,18))),new It(6,20,20,18,18,new Wt(18,new Xt(1,22))),new It(7,22,22,20,20,new Wt(20,new Xt(1,30))),new It(8,24,24,22,22,new Wt(24,new Xt(1,36))),new It(9,26,26,24,24,new Wt(28,new Xt(1,44))),new It(10,32,32,14,14,new Wt(36,new Xt(1,62))),new It(11,36,36,16,16,new Wt(42,new Xt(1,86))),new It(12,40,40,18,18,new Wt(48,new Xt(1,114))),new It(13,44,44,20,20,new Wt(56,new Xt(1,144))),new It(14,48,48,22,22,new Wt(68,new Xt(1,174))),new It(15,52,52,24,24,new Wt(42,new Xt(2,102))),new It(16,64,64,14,14,new Wt(56,new Xt(2,140))),new It(17,72,72,16,16,new Wt(36,new Xt(4,92))),new It(18,80,80,18,18,new Wt(48,new Xt(4,114))),new It(19,88,88,20,20,new Wt(56,new Xt(4,144))),new It(20,96,96,22,22,new Wt(68,new Xt(4,174))),new It(21,104,104,24,24,new Wt(56,new Xt(6,136))),new It(22,120,120,18,18,new Wt(68,new Xt(6,175))),new It(23,132,132,20,20,new Wt(62,new Xt(8,163))),new It(24,144,144,22,22,new Wt(62,new Xt(8,156),new Xt(2,155))),new It(25,8,18,6,16,new Wt(7,new Xt(1,5))),new It(26,8,32,6,14,new Wt(11,new Xt(1,10))),new It(27,12,26,10,24,new Wt(14,new Xt(1,16))),new It(28,12,36,10,16,new Wt(18,new Xt(1,22))),new It(29,16,36,14,16,new Wt(24,new Xt(1,32))),new It(30,16,48,14,22,new Wt(28,new Xt(1,49)))]}}It.VERSIONS=It.buildVersions();class Bi{constructor(n){const r=n.getHeight();if(r<8||r>144||(r&1)!==0)throw new X;this.version=Bi.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new ge(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),o=n.getWidth();return It.getVersionForDimensions(r,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,d=0;const h=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let b=!1,N=!1,E=!1,k=!1;do if(o===h&&d===0&&!b)n[r++]=this.readCorner1(h,x)&255,o-=2,d+=2,b=!0;else if(o===h-2&&d===0&&(x&3)!==0&&!N)n[r++]=this.readCorner2(h,x)&255,o-=2,d+=2,N=!0;else if(o===h+4&&d===2&&(x&7)===0&&!E)n[r++]=this.readCorner3(h,x)&255,o-=2,d+=2,E=!0;else if(o===h-2&&d===0&&(x&7)===4&&!k)n[r++]=this.readCorner4(h,x)&255,o-=2,d+=2,k=!0;else{do o<h&&d>=0&&!this.readMappingMatrix.get(d,o)&&(n[r++]=this.readUtah(o,d,h,x)&255),o-=2,d+=2;while(o>=0&&d<x);o+=1,d+=3;do o>=0&&d<x&&!this.readMappingMatrix.get(d,o)&&(n[r++]=this.readUtah(o,d,h,x)&255),o+=2,d-=2;while(o<h&&d>=0);o+=3,d+=1}while(o<h||d<x);if(r!==this.version.getTotalCodewords())throw new X;return n}readModule(n,r,o,d){return n<0&&(n+=o,r+=4-(o+4&7)),r<0&&(r+=d,n+=4-(d+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,o,d){let h=0;return this.readModule(n-2,r-2,o,d)&&(h|=1),h<<=1,this.readModule(n-2,r-1,o,d)&&(h|=1),h<<=1,this.readModule(n-1,r-2,o,d)&&(h|=1),h<<=1,this.readModule(n-1,r-1,o,d)&&(h|=1),h<<=1,this.readModule(n-1,r,o,d)&&(h|=1),h<<=1,this.readModule(n,r-2,o,d)&&(h|=1),h<<=1,this.readModule(n,r-1,o,d)&&(h|=1),h<<=1,this.readModule(n,r,o,d)&&(h|=1),h}readCorner1(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,1,n,r)&&(o|=1),o<<=1,this.readModule(n-1,2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}readCorner2(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-4,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner3(n,r){let o=0;return this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(0,r-3,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-3,n,r)&&(o|=1),o<<=1,this.readModule(1,r-2,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o}readCorner4(n,r){let o=0;return this.readModule(n-3,0,n,r)&&(o|=1),o<<=1,this.readModule(n-2,0,n,r)&&(o|=1),o<<=1,this.readModule(n-1,0,n,r)&&(o|=1),o<<=1,this.readModule(0,r-2,n,r)&&(o|=1),o<<=1,this.readModule(0,r-1,n,r)&&(o|=1),o<<=1,this.readModule(1,r-1,n,r)&&(o|=1),o<<=1,this.readModule(2,r-1,n,r)&&(o|=1),o<<=1,this.readModule(3,r-1,n,r)&&(o|=1),o}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new j("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),x=r/d|0,b=o/h|0,N=x*d,E=b*h,k=new ge(E,N);for(let I=0;I<x;++I){const z=I*d;for(let Q=0;Q<b;++Q){const ce=Q*h;for(let fe=0;fe<d;++fe){const ve=I*(d+2)+1+fe,Oe=z+fe;for(let Ke=0;Ke<h;++Ke){const We=Q*(h+2)+1+Ke;if(n.get(We,ve)){const He=ce+Ke;k.set(He,Oe)}}}}}return k}}class Di{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const o=r.getECBlocks();let d=0;const h=o.getECBlocks();for(let fe of h)d+=fe.getCount();const x=new Array(d);let b=0;for(let fe of h)for(let ve=0;ve<fe.getCount();ve++){const Oe=fe.getDataCodewords(),Ke=o.getECCodewords()+Oe;x[b++]=new Di(Oe,new Uint8Array(Ke))}const E=x[0].codewords.length-o.getECCodewords(),k=E-1;let I=0;for(let fe=0;fe<k;fe++)for(let ve=0;ve<b;ve++)x[ve].codewords[fe]=n[I++];const z=r.getVersionNumber()===24,Q=z?8:b;for(let fe=0;fe<Q;fe++)x[fe].codewords[E-1]=n[I++];const ce=x[0].codewords.length;for(let fe=E;fe<ce;fe++)for(let ve=0;ve<b;ve++){const Oe=z?(ve+8)%b:ve,Ke=z&&Oe>7?fe-1:fe;x[Oe].codewords[Ke]=n[I++]}if(I!==n.length)throw new j;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Js{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new j(""+n);let r=0,o=this.bitOffset,d=this.byteOffset;const h=this.bytes;if(o>0){const x=8-o,b=n<x?n:x,N=x-b,E=255>>8-b<<N;r=(h[d]&E)>>N,n-=b,o+=b,o===8&&(o=0,d++)}if(n>0){for(;n>=8;)r=r<<8|h[d]&255,d++,n-=8;if(n>0){const x=8-n,b=255>>x<<x;r=r<<n|(h[d]&b)>>x,o+=n}}return this.bitOffset=o,this.byteOffset=d,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Zt;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zt||(Zt={}));class _a{static decode(n){const r=new Js(n),o=new oe,d=new oe,h=new Array;let x=Zt.ASCII_ENCODE;do if(x===Zt.ASCII_ENCODE)x=this.decodeAsciiSegment(r,o,d);else{switch(x){case Zt.C40_ENCODE:this.decodeC40Segment(r,o);break;case Zt.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case Zt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case Zt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case Zt.BASE256_ENCODE:this.decodeBase256Segment(r,o,h);break;default:throw new X}x=Zt.ASCII_ENCODE}while(x!==Zt.PAD_ENCODE&&r.available()>0);return d.length()>0&&o.append(d.toString()),new we(n,o.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(n,r,o){let d=!1;do{let h=n.readBits(8);if(h===0)throw new X;if(h<=128)return d&&(h+=128),r.append(String.fromCharCode(h-1)),Zt.ASCII_ENCODE;if(h===129)return Zt.PAD_ENCODE;if(h<=229){const x=h-130;x<10&&r.append("0"),r.append(""+x)}else switch(h){case 230:return Zt.C40_ENCODE;case 231:return Zt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return Zt.ANSIX12_ENCODE;case 239:return Zt.TEXT_ENCODE;case 240:return Zt.EDIFACT_ENCODE;case 241:break;default:if(h!==254||n.available()!==0)throw new X;break}}while(n.available()>0);return Zt.ASCII_ENCODE}static decodeC40Segment(n,r){let o=!1;const d=[];let h=0;do{if(n.available()===8)return;const x=n.readBits(8);if(x===254)return;this.parseTwoBytes(x,n.readBits(8),d);for(let b=0;b<3;b++){const N=d[b];switch(h){case 0:if(N<3)h=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[N];o?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),o=!1):r.append(E)}else throw new X;break;case 1:o?(r.append(String.fromCharCode(N+128)),o=!1):r.append(String.fromCharCode(N)),h=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[N];o?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),o=!1):r.append(E)}else switch(N){case 27:r.append("");break;case 30:o=!0;break;default:throw new X}h=0;break;case 3:o?(r.append(String.fromCharCode(N+224)),o=!1):r.append(String.fromCharCode(N+96)),h=0;break;default:throw new X}}}while(n.available()>0)}static decodeTextSegment(n,r){let o=!1,d=[],h=0;do{if(n.available()===8)return;const x=n.readBits(8);if(x===254)return;this.parseTwoBytes(x,n.readBits(8),d);for(let b=0;b<3;b++){const N=d[b];switch(h){case 0:if(N<3)h=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[N];o?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),o=!1):r.append(E)}else throw new X;break;case 1:o?(r.append(String.fromCharCode(N+128)),o=!1):r.append(String.fromCharCode(N)),h=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[N];o?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),o=!1):r.append(E)}else switch(N){case 27:r.append("");break;case 30:o=!0;break;default:throw new X}h=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[N];o?(r.append(String.fromCharCode(E.charCodeAt(0)+128)),o=!1):r.append(E),h=0}else throw new X;break;default:throw new X}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const o=[];do{if(n.available()===8)return;const d=n.readBits(8);if(d===254)return;this.parseTwoBytes(d,n.readBits(8),o);for(let h=0;h<3;h++){const x=o[h];switch(x){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(x<14)r.append(String.fromCharCode(x+44));else if(x<40)r.append(String.fromCharCode(x+51));else throw new X;break}}}while(n.available()>0)}static parseTwoBytes(n,r,o){let d=(n<<8)+r-1,h=Math.floor(d/1600);o[0]=h,d-=h*1600,h=Math.floor(d/40),o[1]=h,o[2]=d-h*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let d=n.readBits(6);if(d===31){const h=8-n.getBitOffset();h!==8&&n.readBits(h);return}(d&32)===0&&(d|=64),r.append(String.fromCharCode(d))}}while(n.available()>0)}static decodeBase256Segment(n,r,o){let d=1+n.getByteOffset();const h=this.unrandomize255State(n.readBits(8),d++);let x;if(h===0?x=n.available()/8|0:h<250?x=h:x=250*(h-249)+this.unrandomize255State(n.readBits(8),d++),x<0)throw new X;const b=new Uint8Array(x);for(let N=0;N<x;N++){if(n.available()<8)throw new X;b[N]=this.unrandomize255State(n.readBits(8),d++)}o.push(b);try{r.append(Ce.decode(b,he.ISO88591))}catch(N){throw new Se("Platform does not support required encoding: "+N.message)}}static unrandomize255State(n,r){const o=149*r%255+1,d=n-o;return d>=0?d:d+256}}_a.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_a.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],_a.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_a.TEXT_SHIFT2_SET_CHARS=_a.C40_SHIFT2_SET_CHARS,_a.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Nd{constructor(){this.rsDecoder=new Ge(pe.DATA_MATRIX_FIELD_256)}decode(n){const r=new Bi(n),o=r.getVersion(),d=r.readCodewords(),h=Di.getDataBlocks(d,o);let x=0;for(let E of h)x+=E.getNumDataCodewords();const b=new Uint8Array(x),N=h.length;for(let E=0;E<N;E++){const k=h[E],I=k.getCodewords(),z=k.getNumDataCodewords();this.correctErrors(I,z);for(let Q=0;Q<z;Q++)b[Q*N+E]=I[Q]}return _a.decode(b)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new R}for(let d=0;d<r;d++)n[d]=o[d]}}class jn{constructor(n){this.image=n,this.rectangleDetector=new Fe(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Z;r=this.shiftToModuleCenter(r);const o=r[0],d=r[1],h=r[2],x=r[3];let b=this.transitionsBetween(o,x)+1,N=this.transitionsBetween(h,x)+1;(b&1)===1&&(b+=1),(N&1)===1&&(N+=1),4*b<7*N&&4*N<7*b&&(b=N=Math.max(b,N));let E=jn.sampleGrid(this.image,o,d,h,x,b,N);return new ls(E,[o,d,h,x])}static shiftPoint(n,r,o){let d=(r.getX()-n.getX())/(o+1),h=(r.getY()-n.getY())/(o+1);return new Qe(n.getX()+d,n.getY()+h)}static moveAway(n,r,o){let d=n.getX(),h=n.getY();return d<r?d-=1:d+=1,h<o?h-=1:h+=1,new Qe(d,h)}detectSolid1(n){let r=n[0],o=n[1],d=n[3],h=n[2],x=this.transitionsBetween(r,o),b=this.transitionsBetween(o,d),N=this.transitionsBetween(d,h),E=this.transitionsBetween(h,r),k=x,I=[h,r,o,d];return k>b&&(k=b,I[0]=r,I[1]=o,I[2]=d,I[3]=h),k>N&&(k=N,I[0]=o,I[1]=d,I[2]=h,I[3]=r),k>E&&(I[0]=d,I[1]=h,I[2]=r,I[3]=o),I}detectSolid2(n){let r=n[0],o=n[1],d=n[2],h=n[3],x=this.transitionsBetween(r,h),b=jn.shiftPoint(o,d,(x+1)*4),N=jn.shiftPoint(d,o,(x+1)*4),E=this.transitionsBetween(b,r),k=this.transitionsBetween(N,h);return E<k?(n[0]=r,n[1]=o,n[2]=d,n[3]=h):(n[0]=o,n[1]=d,n[2]=h,n[3]=r),n}correctTopRight(n){let r=n[0],o=n[1],d=n[2],h=n[3],x=this.transitionsBetween(r,h),b=this.transitionsBetween(o,h),N=jn.shiftPoint(r,o,(b+1)*4),E=jn.shiftPoint(d,o,(x+1)*4);x=this.transitionsBetween(N,h),b=this.transitionsBetween(E,h);let k=new Qe(h.getX()+(d.getX()-o.getX())/(x+1),h.getY()+(d.getY()-o.getY())/(x+1)),I=new Qe(h.getX()+(r.getX()-o.getX())/(b+1),h.getY()+(r.getY()-o.getY())/(b+1));if(!this.isValid(k))return this.isValid(I)?I:null;if(!this.isValid(I))return k;let z=this.transitionsBetween(N,k)+this.transitionsBetween(E,k),Q=this.transitionsBetween(N,I)+this.transitionsBetween(E,I);return z>Q?k:I}shiftToModuleCenter(n){let r=n[0],o=n[1],d=n[2],h=n[3],x=this.transitionsBetween(r,h)+1,b=this.transitionsBetween(d,h)+1,N=jn.shiftPoint(r,o,b*4),E=jn.shiftPoint(d,o,x*4);x=this.transitionsBetween(N,h)+1,b=this.transitionsBetween(E,h)+1,(x&1)===1&&(x+=1),(b&1)===1&&(b+=1);let k=(r.getX()+o.getX()+d.getX()+h.getX())/4,I=(r.getY()+o.getY()+d.getY()+h.getY())/4;r=jn.moveAway(r,k,I),o=jn.moveAway(o,k,I),d=jn.moveAway(d,k,I),h=jn.moveAway(h,k,I);let z,Q;return N=jn.shiftPoint(r,o,b*4),N=jn.shiftPoint(N,h,x*4),z=jn.shiftPoint(o,r,b*4),z=jn.shiftPoint(z,d,x*4),E=jn.shiftPoint(d,h,b*4),E=jn.shiftPoint(E,o,x*4),Q=jn.shiftPoint(h,d,b*4),Q=jn.shiftPoint(Q,r,x*4),[N,z,E,Q]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,o,d,h,x,b){return rt.getInstance().sampleGrid(n,x,b,.5,.5,x-.5,.5,x-.5,b-.5,.5,b-.5,r.getX(),r.getY(),h.getX(),h.getY(),d.getX(),d.getY(),o.getX(),o.getY())}transitionsBetween(n,r){let o=Math.trunc(n.getX()),d=Math.trunc(n.getY()),h=Math.trunc(r.getX()),x=Math.trunc(r.getY()),b=Math.abs(x-d)>Math.abs(h-o);if(b){let fe=o;o=d,d=fe,fe=h,h=x,x=fe}let N=Math.abs(h-o),E=Math.abs(x-d),k=-N/2,I=d<x?1:-1,z=o<h?1:-1,Q=0,ce=this.image.get(b?d:o,b?o:d);for(let fe=o,ve=d;fe!==h;fe+=z){let Oe=this.image.get(b?ve:fe,b?fe:ve);if(Oe!==ce&&(Q++,ce=Oe),k+=E,k>0){if(ve===x)break;ve+=I,k-=N}}return Q}}class Ta{constructor(){this.decoder=new Nd}decode(n,r=null){let o,d;if(r!=null&&r.has(ae.PURE_BARCODE)){const E=Ta.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(E),d=Ta.NO_POINTS}else{const E=new jn(n.getBlackMatrix()).detect();o=this.decoder.decode(E.getBits()),d=E.getPoints()}const h=o.getRawBytes(),x=new be(o.getText(),h,8*h.length,d,te.DATA_MATRIX,D.currentTimeMillis()),b=o.getByteSegments();b!=null&&x.putMetadata(xe.BYTE_SEGMENTS,b);const N=o.getECLevel();return N!=null&&x.putMetadata(xe.ERROR_CORRECTION_LEVEL,N),x}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r==null||o==null)throw new Z;const d=this.moduleSize(r,n);let h=r[1];const x=o[1];let b=r[0];const E=(o[0]-b+1)/d,k=(x-h+1)/d;if(E<=0||k<=0)throw new Z;const I=d/2;h+=I,b+=I;const z=new ge(E,k);for(let Q=0;Q<k;Q++){const ce=h+Q*d;for(let fe=0;fe<E;fe++)n.get(b+fe*d,ce)&&z.set(fe,Q)}return z}static moduleSize(n,r){const o=r.getWidth();let d=n[0];const h=n[1];for(;d<o&&r.get(d,h);)d++;if(d===o)throw new Z;const x=d-n[0];if(x===0)throw new Z;return x}}Ta.NO_POINTS=[];class Wr extends ie{constructor(n=500){super(new Ta,n)}}var Mi;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(Mi||(Mi={}));class Mt{constructor(n,r,o){this.value=n,this.stringValue=r,this.bits=o,Mt.FOR_BITS.set(o,this),Mt.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Mt.L;case"M":return Mt.M;case"Q":return Mt.Q;case"H":return Mt.H;default:throw new A(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Mt))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=Mt.FOR_BITS.size)throw new j;return Mt.FOR_BITS.get(n)}}Mt.FOR_BITS=new Map,Mt.FOR_VALUE=new Map,Mt.L=new Mt(Mi.L,"L",1),Mt.M=new Mt(Mi.M,"M",0),Mt.Q=new Mt(Mi.Q,"Q",3),Mt.H=new Mt(Mi.H,"H",2);class Jn{constructor(n){this.errorCorrectionLevel=Mt.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return L.bitCount(n^r)}static decodeFormatInformation(n,r){const o=Jn.doDecodeFormatInformation(n,r);return o!==null?o:Jn.doDecodeFormatInformation(n^Jn.FORMAT_INFO_MASK_QR,r^Jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let o=Number.MAX_SAFE_INTEGER,d=0;for(const h of Jn.FORMAT_INFO_DECODE_LOOKUP){const x=h[0];if(x===n||x===r)return new Jn(h[1]);let b=Jn.numBitsDiffering(n,x);b<o&&(d=h[1],o=b),n!==r&&(b=Jn.numBitsDiffering(r,x),b<o&&(d=h[1],o=b))}return o<=3?new Jn(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Jn))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Jn.FORMAT_INFO_MASK_QR=21522,Jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ne{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const o of r)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class lt{constructor(n,r,...o){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=o;let d=0;const h=o[0].getECCodewordsPerBlock(),x=o[0].getECBlocks();for(const b of x)d+=b.getCount()*(b.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new X;try{return this.getVersionForNumber((n-17)/4)}catch{throw new X}}static getVersionForNumber(n){if(n<1||n>40)throw new j;return lt.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,o=0;for(let d=0;d<lt.VERSION_DECODE_INFO.length;d++){const h=lt.VERSION_DECODE_INFO[d];if(h===n)return lt.getVersionForNumber(d+7);const x=Jn.numBitsDiffering(n,h);x<r&&(o=d+7,r=x)}return r<=3?lt.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new ge(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let d=0;d<o;d++){const h=this.alignmentPatternCenters[d]-2;for(let x=0;x<o;x++)d===0&&(x===0||x===o-1)||d===o-1&&x===0||r.setRegion(this.alignmentPatternCenters[x]-2,h,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),lt.VERSIONS=[new lt(1,new Int32Array(0),new Ne(7,new K(1,19)),new Ne(10,new K(1,16)),new Ne(13,new K(1,13)),new Ne(17,new K(1,9))),new lt(2,Int32Array.from([6,18]),new Ne(10,new K(1,34)),new Ne(16,new K(1,28)),new Ne(22,new K(1,22)),new Ne(28,new K(1,16))),new lt(3,Int32Array.from([6,22]),new Ne(15,new K(1,55)),new Ne(26,new K(1,44)),new Ne(18,new K(2,17)),new Ne(22,new K(2,13))),new lt(4,Int32Array.from([6,26]),new Ne(20,new K(1,80)),new Ne(18,new K(2,32)),new Ne(26,new K(2,24)),new Ne(16,new K(4,9))),new lt(5,Int32Array.from([6,30]),new Ne(26,new K(1,108)),new Ne(24,new K(2,43)),new Ne(18,new K(2,15),new K(2,16)),new Ne(22,new K(2,11),new K(2,12))),new lt(6,Int32Array.from([6,34]),new Ne(18,new K(2,68)),new Ne(16,new K(4,27)),new Ne(24,new K(4,19)),new Ne(28,new K(4,15))),new lt(7,Int32Array.from([6,22,38]),new Ne(20,new K(2,78)),new Ne(18,new K(4,31)),new Ne(18,new K(2,14),new K(4,15)),new Ne(26,new K(4,13),new K(1,14))),new lt(8,Int32Array.from([6,24,42]),new Ne(24,new K(2,97)),new Ne(22,new K(2,38),new K(2,39)),new Ne(22,new K(4,18),new K(2,19)),new Ne(26,new K(4,14),new K(2,15))),new lt(9,Int32Array.from([6,26,46]),new Ne(30,new K(2,116)),new Ne(22,new K(3,36),new K(2,37)),new Ne(20,new K(4,16),new K(4,17)),new Ne(24,new K(4,12),new K(4,13))),new lt(10,Int32Array.from([6,28,50]),new Ne(18,new K(2,68),new K(2,69)),new Ne(26,new K(4,43),new K(1,44)),new Ne(24,new K(6,19),new K(2,20)),new Ne(28,new K(6,15),new K(2,16))),new lt(11,Int32Array.from([6,30,54]),new Ne(20,new K(4,81)),new Ne(30,new K(1,50),new K(4,51)),new Ne(28,new K(4,22),new K(4,23)),new Ne(24,new K(3,12),new K(8,13))),new lt(12,Int32Array.from([6,32,58]),new Ne(24,new K(2,92),new K(2,93)),new Ne(22,new K(6,36),new K(2,37)),new Ne(26,new K(4,20),new K(6,21)),new Ne(28,new K(7,14),new K(4,15))),new lt(13,Int32Array.from([6,34,62]),new Ne(26,new K(4,107)),new Ne(22,new K(8,37),new K(1,38)),new Ne(24,new K(8,20),new K(4,21)),new Ne(22,new K(12,11),new K(4,12))),new lt(14,Int32Array.from([6,26,46,66]),new Ne(30,new K(3,115),new K(1,116)),new Ne(24,new K(4,40),new K(5,41)),new Ne(20,new K(11,16),new K(5,17)),new Ne(24,new K(11,12),new K(5,13))),new lt(15,Int32Array.from([6,26,48,70]),new Ne(22,new K(5,87),new K(1,88)),new Ne(24,new K(5,41),new K(5,42)),new Ne(30,new K(5,24),new K(7,25)),new Ne(24,new K(11,12),new K(7,13))),new lt(16,Int32Array.from([6,26,50,74]),new Ne(24,new K(5,98),new K(1,99)),new Ne(28,new K(7,45),new K(3,46)),new Ne(24,new K(15,19),new K(2,20)),new Ne(30,new K(3,15),new K(13,16))),new lt(17,Int32Array.from([6,30,54,78]),new Ne(28,new K(1,107),new K(5,108)),new Ne(28,new K(10,46),new K(1,47)),new Ne(28,new K(1,22),new K(15,23)),new Ne(28,new K(2,14),new K(17,15))),new lt(18,Int32Array.from([6,30,56,82]),new Ne(30,new K(5,120),new K(1,121)),new Ne(26,new K(9,43),new K(4,44)),new Ne(28,new K(17,22),new K(1,23)),new Ne(28,new K(2,14),new K(19,15))),new lt(19,Int32Array.from([6,30,58,86]),new Ne(28,new K(3,113),new K(4,114)),new Ne(26,new K(3,44),new K(11,45)),new Ne(26,new K(17,21),new K(4,22)),new Ne(26,new K(9,13),new K(16,14))),new lt(20,Int32Array.from([6,34,62,90]),new Ne(28,new K(3,107),new K(5,108)),new Ne(26,new K(3,41),new K(13,42)),new Ne(30,new K(15,24),new K(5,25)),new Ne(28,new K(15,15),new K(10,16))),new lt(21,Int32Array.from([6,28,50,72,94]),new Ne(28,new K(4,116),new K(4,117)),new Ne(26,new K(17,42)),new Ne(28,new K(17,22),new K(6,23)),new Ne(30,new K(19,16),new K(6,17))),new lt(22,Int32Array.from([6,26,50,74,98]),new Ne(28,new K(2,111),new K(7,112)),new Ne(28,new K(17,46)),new Ne(30,new K(7,24),new K(16,25)),new Ne(24,new K(34,13))),new lt(23,Int32Array.from([6,30,54,78,102]),new Ne(30,new K(4,121),new K(5,122)),new Ne(28,new K(4,47),new K(14,48)),new Ne(30,new K(11,24),new K(14,25)),new Ne(30,new K(16,15),new K(14,16))),new lt(24,Int32Array.from([6,28,54,80,106]),new Ne(30,new K(6,117),new K(4,118)),new Ne(28,new K(6,45),new K(14,46)),new Ne(30,new K(11,24),new K(16,25)),new Ne(30,new K(30,16),new K(2,17))),new lt(25,Int32Array.from([6,32,58,84,110]),new Ne(26,new K(8,106),new K(4,107)),new Ne(28,new K(8,47),new K(13,48)),new Ne(30,new K(7,24),new K(22,25)),new Ne(30,new K(22,15),new K(13,16))),new lt(26,Int32Array.from([6,30,58,86,114]),new Ne(28,new K(10,114),new K(2,115)),new Ne(28,new K(19,46),new K(4,47)),new Ne(28,new K(28,22),new K(6,23)),new Ne(30,new K(33,16),new K(4,17))),new lt(27,Int32Array.from([6,34,62,90,118]),new Ne(30,new K(8,122),new K(4,123)),new Ne(28,new K(22,45),new K(3,46)),new Ne(30,new K(8,23),new K(26,24)),new Ne(30,new K(12,15),new K(28,16))),new lt(28,Int32Array.from([6,26,50,74,98,122]),new Ne(30,new K(3,117),new K(10,118)),new Ne(28,new K(3,45),new K(23,46)),new Ne(30,new K(4,24),new K(31,25)),new Ne(30,new K(11,15),new K(31,16))),new lt(29,Int32Array.from([6,30,54,78,102,126]),new Ne(30,new K(7,116),new K(7,117)),new Ne(28,new K(21,45),new K(7,46)),new Ne(30,new K(1,23),new K(37,24)),new Ne(30,new K(19,15),new K(26,16))),new lt(30,Int32Array.from([6,26,52,78,104,130]),new Ne(30,new K(5,115),new K(10,116)),new Ne(28,new K(19,47),new K(10,48)),new Ne(30,new K(15,24),new K(25,25)),new Ne(30,new K(23,15),new K(25,16))),new lt(31,Int32Array.from([6,30,56,82,108,134]),new Ne(30,new K(13,115),new K(3,116)),new Ne(28,new K(2,46),new K(29,47)),new Ne(30,new K(42,24),new K(1,25)),new Ne(30,new K(23,15),new K(28,16))),new lt(32,Int32Array.from([6,34,60,86,112,138]),new Ne(30,new K(17,115)),new Ne(28,new K(10,46),new K(23,47)),new Ne(30,new K(10,24),new K(35,25)),new Ne(30,new K(19,15),new K(35,16))),new lt(33,Int32Array.from([6,30,58,86,114,142]),new Ne(30,new K(17,115),new K(1,116)),new Ne(28,new K(14,46),new K(21,47)),new Ne(30,new K(29,24),new K(19,25)),new Ne(30,new K(11,15),new K(46,16))),new lt(34,Int32Array.from([6,34,62,90,118,146]),new Ne(30,new K(13,115),new K(6,116)),new Ne(28,new K(14,46),new K(23,47)),new Ne(30,new K(44,24),new K(7,25)),new Ne(30,new K(59,16),new K(1,17))),new lt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ne(30,new K(12,121),new K(7,122)),new Ne(28,new K(12,47),new K(26,48)),new Ne(30,new K(39,24),new K(14,25)),new Ne(30,new K(22,15),new K(41,16))),new lt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ne(30,new K(6,121),new K(14,122)),new Ne(28,new K(6,47),new K(34,48)),new Ne(30,new K(46,24),new K(10,25)),new Ne(30,new K(2,15),new K(64,16))),new lt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ne(30,new K(17,122),new K(4,123)),new Ne(28,new K(29,46),new K(14,47)),new Ne(30,new K(49,24),new K(10,25)),new Ne(30,new K(24,15),new K(46,16))),new lt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ne(30,new K(4,122),new K(18,123)),new Ne(28,new K(13,46),new K(32,47)),new Ne(30,new K(48,24),new K(14,25)),new Ne(30,new K(42,15),new K(32,16))),new lt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ne(30,new K(20,117),new K(4,118)),new Ne(28,new K(40,47),new K(7,48)),new Ne(30,new K(43,24),new K(22,25)),new Ne(30,new K(10,15),new K(67,16))),new lt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ne(30,new K(19,118),new K(6,119)),new Ne(28,new K(18,47),new K(31,48)),new Ne(30,new K(34,24),new K(34,25)),new Ne(30,new K(20,15),new K(61,16)))];var Xn;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(Xn||(Xn={}));class Os{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let o=0;o<r;o++)for(let d=0;d<r;d++)this.isMasked(o,d)&&n.flip(d,o)}}Os.values=new Map([[Xn.DATA_MASK_000,new Os(Xn.DATA_MASK_000,(M,n)=>(M+n&1)===0)],[Xn.DATA_MASK_001,new Os(Xn.DATA_MASK_001,(M,n)=>(M&1)===0)],[Xn.DATA_MASK_010,new Os(Xn.DATA_MASK_010,(M,n)=>n%3===0)],[Xn.DATA_MASK_011,new Os(Xn.DATA_MASK_011,(M,n)=>(M+n)%3===0)],[Xn.DATA_MASK_100,new Os(Xn.DATA_MASK_100,(M,n)=>(Math.floor(M/2)+Math.floor(n/3)&1)===0)],[Xn.DATA_MASK_101,new Os(Xn.DATA_MASK_101,(M,n)=>M*n%6===0)],[Xn.DATA_MASK_110,new Os(Xn.DATA_MASK_110,(M,n)=>M*n%6<3)],[Xn.DATA_MASK_111,new Os(Xn.DATA_MASK_111,(M,n)=>(M+n+M*n%3&1)===0)]]);class Ii{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new X;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let h=0;h<6;h++)n=this.copyBit(h,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let h=5;h>=0;h--)n=this.copyBit(8,h,n);const r=this.bitMatrix.getHeight();let o=0;const d=r-7;for(let h=r-1;h>=d;h--)o=this.copyBit(8,h,o);for(let h=r-8;h<r;h++)o=this.copyBit(h,8,o);if(this.parsedFormatInfo=Jn.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return lt.getVersionForNumber(r);let o=0;const d=n-11;for(let x=5;x>=0;x--)for(let b=n-9;b>=d;b--)o=this.copyBit(b,x,o);let h=lt.decodeVersionInformation(o);if(h!==null&&h.getDimensionForVersion()===n)return this.parsedVersion=h,h;o=0;for(let x=5;x>=0;x--)for(let b=n-9;b>=d;b--)o=this.copyBit(x,b,o);if(h=lt.decodeVersionInformation(o),h!==null&&h.getDimensionForVersion()===n)return this.parsedVersion=h,h;throw new X}copyBit(n,r,o){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),o=Os.values.get(n.getDataMask()),d=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,d);const h=r.buildFunctionPattern();let x=!0;const b=new Uint8Array(r.getTotalCodewords());let N=0,E=0,k=0;for(let I=d-1;I>0;I-=2){I===6&&I--;for(let z=0;z<d;z++){const Q=x?d-1-z:z;for(let ce=0;ce<2;ce++)h.get(I-ce,Q)||(k++,E<<=1,this.bitMatrix.get(I-ce,Q)&&(E|=1),k===8&&(b[N++]=E,k=0,E=0))}x=!x}if(N!==r.getTotalCodewords())throw new X;return b}remask(){if(this.parsedFormatInfo===null)return;const n=Os.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,o=n.getWidth();r<o;r++)for(let d=r+1,h=n.getHeight();d<h;d++)n.get(r,d)!==n.get(d,r)&&(n.flip(d,r),n.flip(r,d))}}class Wl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,o){if(n.length!==r.getTotalCodewords())throw new j;const d=r.getECBlocksForLevel(o);let h=0;const x=d.getECBlocks();for(const ce of x)h+=ce.getCount();const b=new Array(h);let N=0;for(const ce of x)for(let fe=0;fe<ce.getCount();fe++){const ve=ce.getDataCodewords(),Oe=d.getECCodewordsPerBlock()+ve;b[N++]=new Wl(ve,new Uint8Array(Oe))}const E=b[0].codewords.length;let k=b.length-1;for(;k>=0&&b[k].codewords.length!==E;)k--;k++;const I=E-d.getECCodewordsPerBlock();let z=0;for(let ce=0;ce<I;ce++)for(let fe=0;fe<N;fe++)b[fe].codewords[ce]=n[z++];for(let ce=k;ce<N;ce++)b[ce].codewords[I]=n[z++];const Q=b[0].codewords.length;for(let ce=I;ce<Q;ce++)for(let fe=0;fe<N;fe++){const ve=fe<k?ce:ce+1;b[fe].codewords[ve]=n[z++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Bs;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(Bs||(Bs={}));class dt{constructor(n,r,o,d){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=d,dt.FOR_BITS.set(d,this),dt.FOR_VALUE.set(n,this)}static forBits(n){const r=dt.FOR_BITS.get(n);if(r===void 0)throw new j;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof dt))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.TERMINATOR=new dt(Bs.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),dt.NUMERIC=new dt(Bs.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),dt.ALPHANUMERIC=new dt(Bs.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),dt.STRUCTURED_APPEND=new dt(Bs.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),dt.BYTE=new dt(Bs.BYTE,"BYTE",Int32Array.from([8,16,16]),4),dt.ECI=new dt(Bs.ECI,"ECI",Int32Array.from([0,0,0]),7),dt.KANJI=new dt(Bs.KANJI,"KANJI",Int32Array.from([8,10,12]),8),dt.FNC1_FIRST_POSITION=new dt(Bs.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),dt.FNC1_SECOND_POSITION=new dt(Bs.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),dt.HANZI=new dt(Bs.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class yn{static decode(n,r,o,d){const h=new Js(n);let x=new oe;const b=new Array;let N=-1,E=-1;try{let k=null,I=!1,z;do{if(h.available()<4)z=dt.TERMINATOR;else{const Q=h.readBits(4);z=dt.forBits(Q)}switch(z){case dt.TERMINATOR:break;case dt.FNC1_FIRST_POSITION:case dt.FNC1_SECOND_POSITION:I=!0;break;case dt.STRUCTURED_APPEND:if(h.available()<16)throw new X;N=h.readBits(8),E=h.readBits(8);break;case dt.ECI:const Q=yn.parseECIValue(h);if(k=q.getCharacterSetECIByValue(Q),k===null)throw new X;break;case dt.HANZI:const ce=h.readBits(4),fe=h.readBits(z.getCharacterCountBits(r));ce===yn.GB2312_SUBSET&&yn.decodeHanziSegment(h,x,fe);break;default:const ve=h.readBits(z.getCharacterCountBits(r));switch(z){case dt.NUMERIC:yn.decodeNumericSegment(h,x,ve);break;case dt.ALPHANUMERIC:yn.decodeAlphanumericSegment(h,x,ve,I);break;case dt.BYTE:yn.decodeByteSegment(h,x,ve,k,b,d);break;case dt.KANJI:yn.decodeKanjiSegment(h,x,ve);break;default:throw new X}break}}while(z!==dt.TERMINATOR)}catch{throw new X}return new we(n,x.toString(),b.length===0?null:b,o===null?null:o.toString(),N,E)}static decodeHanziSegment(n,r,o){if(o*13>n.available())throw new X;const d=new Uint8Array(2*o);let h=0;for(;o>0;){const x=n.readBits(13);let b=x/96<<8&4294967295|x%96;b<959?b+=41377:b+=42657,d[h]=b>>8&255,d[h+1]=b&255,h+=2,o--}try{r.append(Ce.decode(d,he.GB2312))}catch(x){throw new X(x)}}static decodeKanjiSegment(n,r,o){if(o*13>n.available())throw new X;const d=new Uint8Array(2*o);let h=0;for(;o>0;){const x=n.readBits(13);let b=x/192<<8&4294967295|x%192;b<7936?b+=33088:b+=49472,d[h]=b>>8,d[h+1]=b,h+=2,o--}try{r.append(Ce.decode(d,he.SHIFT_JIS))}catch(x){throw new X(x)}}static decodeByteSegment(n,r,o,d,h,x){if(8*o>n.available())throw new X;const b=new Uint8Array(o);for(let E=0;E<o;E++)b[E]=n.readBits(8);let N;d===null?N=he.guessEncoding(b,x):N=d.getName();try{r.append(Ce.decode(b,N))}catch(E){throw new X(E)}h.push(b)}static toAlphaNumericChar(n){if(n>=yn.ALPHANUMERIC_CHARS.length)throw new X;return yn.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,o,d){const h=r.length();for(;o>1;){if(n.available()<11)throw new X;const x=n.readBits(11);r.append(yn.toAlphaNumericChar(Math.floor(x/45))),r.append(yn.toAlphaNumericChar(x%45)),o-=2}if(o===1){if(n.available()<6)throw new X;r.append(yn.toAlphaNumericChar(n.readBits(6)))}if(d)for(let x=h;x<r.length();x++)r.charAt(x)==="%"&&(x<r.length()-1&&r.charAt(x+1)==="%"?r.deleteCharAt(x+1):r.setCharAt(x,""))}static decodeNumericSegment(n,r,o){for(;o>=3;){if(n.available()<10)throw new X;const d=n.readBits(10);if(d>=1e3)throw new X;r.append(yn.toAlphaNumericChar(Math.floor(d/100))),r.append(yn.toAlphaNumericChar(Math.floor(d/10)%10)),r.append(yn.toAlphaNumericChar(d%10)),o-=3}if(o===2){if(n.available()<7)throw new X;const d=n.readBits(7);if(d>=100)throw new X;r.append(yn.toAlphaNumericChar(Math.floor(d/10))),r.append(yn.toAlphaNumericChar(d%10))}else if(o===1){if(n.available()<4)throw new X;const d=n.readBits(4);if(d>=10)throw new X;r.append(yn.toAlphaNumericChar(d))}}static parseECIValue(n){const r=n.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const o=n.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=n.readBits(16);return(r&31)<<16&4294967295|o}throw new X}}yn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",yn.GB2312_SUBSET=1;class gc{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class Cd{constructor(){this.rsDecoder=new Ge(pe.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(ge.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const o=new Ii(n);let d=null;try{return this.decodeBitMatrixParser(o,r)}catch(h){d=h}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const h=this.decodeBitMatrixParser(o,r);return h.setOther(new gc(!0)),h}catch(h){throw d!==null?d:h}}decodeBitMatrixParser(n,r){const o=n.readVersion(),d=n.readFormatInformation().getErrorCorrectionLevel(),h=n.readCodewords(),x=Wl.getDataBlocks(h,o,d);let b=0;for(const k of x)b+=k.getNumDataCodewords();const N=new Uint8Array(b);let E=0;for(const k of x){const I=k.getCodewords(),z=k.getNumDataCodewords();this.correctErrors(I,z);for(let Q=0;Q<z;Q++)N[E++]=I[Q]}return yn.decode(N,o,d,r)}correctErrors(n,r){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-r)}catch{throw new R}for(let d=0;d<r;d++)n[d]=o[d]}}class Li extends Qe{constructor(n,r,o){super(n,r),this.estimatedModuleSize=o}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const d=Math.abs(n-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const d=(this.getX()+r)/2,h=(this.getY()+n)/2,x=(this.estimatedModuleSize+o)/2;return new Li(d,h,x)}}class Ps{constructor(n,r,o,d,h,x,b){this.image=n,this.startX=r,this.startY=o,this.width=d,this.height=h,this.moduleSize=x,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,o=this.width,d=n+o,h=this.startY+r/2,x=new Int32Array(3),b=this.image;for(let N=0;N<r;N++){const E=h+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));x[0]=0,x[1]=0,x[2]=0;let k=n;for(;k<d&&!b.get(k,E);)k++;let I=0;for(;k<d;){if(b.get(k,E))if(I===1)x[1]++;else if(I===2){if(this.foundPatternCross(x)){const z=this.handlePossibleCenter(x,E,k);if(z!==null)return z}x[0]=x[2],x[1]=1,x[2]=0,I=1}else x[++I]++;else I===1&&I++,x[I]++;k++}if(this.foundPatternCross(x)){const z=this.handlePossibleCenter(x,E,d);if(z!==null)return z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,o=r/2;for(let d=0;d<3;d++)if(Math.abs(r-n[d])>=o)return!1;return!0}crossCheckVertical(n,r,o,d){const h=this.image,x=h.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let N=n;for(;N>=0&&h.get(r,N)&&b[1]<=o;)b[1]++,N--;if(N<0||b[1]>o)return NaN;for(;N>=0&&!h.get(r,N)&&b[0]<=o;)b[0]++,N--;if(b[0]>o)return NaN;for(N=n+1;N<x&&h.get(r,N)&&b[1]<=o;)b[1]++,N++;if(N===x||b[1]>o)return NaN;for(;N<x&&!h.get(r,N)&&b[2]<=o;)b[2]++,N++;if(b[2]>o)return NaN;const E=b[0]+b[1]+b[2];return 5*Math.abs(E-d)>=2*d?NaN:this.foundPatternCross(b)?Ps.centerFromEnd(b,N):NaN}handlePossibleCenter(n,r,o){const d=n[0]+n[1]+n[2],h=Ps.centerFromEnd(n,o),x=this.crossCheckVertical(r,h,2*n[1],d);if(!isNaN(x)){const b=(n[0]+n[1]+n[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(b,x,h))return E.combineEstimate(x,h,b);const N=new Li(h,x,b);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class yr extends Qe{constructor(n,r,o,d){super(n,r),this.estimatedModuleSize=o,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,o){if(Math.abs(r-this.getY())<=n&&Math.abs(o-this.getX())<=n){const d=Math.abs(n-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(n,r,o){const d=this.count+1,h=(this.count*this.getX()+r)/d,x=(this.count*this.getY()+n)/d,b=(this.count*this.estimatedModuleSize+o)/d;return new yr(h,x,b,d)}}class Kl{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class En{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(ae.TRY_HARDER)!==void 0,o=n!=null&&n.get(ae.PURE_BARCODE)!==void 0,d=this.image,h=d.getHeight(),x=d.getWidth();let b=Math.floor(3*h/(4*En.MAX_MODULES));(b<En.MIN_SKIP||r)&&(b=En.MIN_SKIP);let N=!1;const E=new Int32Array(5);for(let I=b-1;I<h&&!N;I+=b){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let z=0;for(let Q=0;Q<x;Q++)if(d.get(Q,I))(z&1)===1&&z++,E[z]++;else if((z&1)===0)if(z===4)if(En.foundPatternCross(E)){if(this.handlePossibleCenter(E,I,Q,o)===!0)if(b=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const fe=this.findRowSkip();fe>E[2]&&(I+=fe-E[2]-b,Q=x-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,z=3;continue}z=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,z=3;else E[++z]++;else E[z]++;En.foundPatternCross(E)&&this.handlePossibleCenter(E,I,x,o)===!0&&(b=E[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const k=this.selectBestPatterns();return Qe.orderBestPatterns(k),new Kl(k)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let h=0;h<5;h++){const x=n[h];if(x===0)return!1;r+=x}if(r<7)return!1;const o=r/7,d=o/2;return Math.abs(o-n[0])<d&&Math.abs(o-n[1])<d&&Math.abs(3*o-n[2])<3*d&&Math.abs(o-n[3])<d&&Math.abs(o-n[4])<d}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,o,d){const h=this.getCrossCheckStateCount();let x=0;const b=this.image;for(;n>=x&&r>=x&&b.get(r-x,n-x);)h[2]++,x++;if(n<x||r<x)return!1;for(;n>=x&&r>=x&&!b.get(r-x,n-x)&&h[1]<=o;)h[1]++,x++;if(n<x||r<x||h[1]>o)return!1;for(;n>=x&&r>=x&&b.get(r-x,n-x)&&h[0]<=o;)h[0]++,x++;if(h[0]>o)return!1;const N=b.getHeight(),E=b.getWidth();for(x=1;n+x<N&&r+x<E&&b.get(r+x,n+x);)h[2]++,x++;if(n+x>=N||r+x>=E)return!1;for(;n+x<N&&r+x<E&&!b.get(r+x,n+x)&&h[3]<o;)h[3]++,x++;if(n+x>=N||r+x>=E||h[3]>=o)return!1;for(;n+x<N&&r+x<E&&b.get(r+x,n+x)&&h[4]<o;)h[4]++,x++;if(h[4]>=o)return!1;const k=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(k-d)<2*d&&En.foundPatternCross(h)}crossCheckVertical(n,r,o,d){const h=this.image,x=h.getHeight(),b=this.getCrossCheckStateCount();let N=n;for(;N>=0&&h.get(r,N);)b[2]++,N--;if(N<0)return NaN;for(;N>=0&&!h.get(r,N)&&b[1]<=o;)b[1]++,N--;if(N<0||b[1]>o)return NaN;for(;N>=0&&h.get(r,N)&&b[0]<=o;)b[0]++,N--;if(b[0]>o)return NaN;for(N=n+1;N<x&&h.get(r,N);)b[2]++,N++;if(N===x)return NaN;for(;N<x&&!h.get(r,N)&&b[3]<o;)b[3]++,N++;if(N===x||b[3]>=o)return NaN;for(;N<x&&h.get(r,N)&&b[4]<o;)b[4]++,N++;if(b[4]>=o)return NaN;const E=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(E-d)>=2*d?NaN:En.foundPatternCross(b)?En.centerFromEnd(b,N):NaN}crossCheckHorizontal(n,r,o,d){const h=this.image,x=h.getWidth(),b=this.getCrossCheckStateCount();let N=n;for(;N>=0&&h.get(N,r);)b[2]++,N--;if(N<0)return NaN;for(;N>=0&&!h.get(N,r)&&b[1]<=o;)b[1]++,N--;if(N<0||b[1]>o)return NaN;for(;N>=0&&h.get(N,r)&&b[0]<=o;)b[0]++,N--;if(b[0]>o)return NaN;for(N=n+1;N<x&&h.get(N,r);)b[2]++,N++;if(N===x)return NaN;for(;N<x&&!h.get(N,r)&&b[3]<o;)b[3]++,N++;if(N===x||b[3]>=o)return NaN;for(;N<x&&h.get(N,r)&&b[4]<o;)b[4]++,N++;if(b[4]>=o)return NaN;const E=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(E-d)>=d?NaN:En.foundPatternCross(b)?En.centerFromEnd(b,N):NaN}handlePossibleCenter(n,r,o,d){const h=n[0]+n[1]+n[2]+n[3]+n[4];let x=En.centerFromEnd(n,o),b=this.crossCheckVertical(r,Math.floor(x),n[2],h);if(!isNaN(b)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(b),n[2],h),!isNaN(x)&&(!d||this.crossCheckDiagonal(Math.floor(b),Math.floor(x),n[2],h)))){const N=h/7;let E=!1;const k=this.possibleCenters;for(let I=0,z=k.length;I<z;I++){const Q=k[I];if(Q.aboutEquals(N,b,x)){k[I]=Q.combineEstimate(b,x,N),E=!0;break}}if(!E){const I=new yr(x,b,N);k.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=En.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const o=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=En.CENTER_QUORUM&&(n++,r+=x.getEstimatedModuleSize());if(n<3)return!1;const d=r/o;let h=0;for(const x of this.possibleCenters)h+=Math.abs(x.getEstimatedModuleSize()-d);return h<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new Z;const r=this.possibleCenters;let o;if(n>3){let d=0,h=0;for(const N of this.possibleCenters){const E=N.getEstimatedModuleSize();d+=E,h+=E*E}o=d/n;let x=Math.sqrt(h/n-o*o);r.sort((N,E)=>{const k=Math.abs(E.getEstimatedModuleSize()-o),I=Math.abs(N.getEstimatedModuleSize()-o);return k<I?-1:k>I?1:0});const b=Math.max(.2*o,x);for(let N=0;N<r.length&&r.length>3;N++){const E=r[N];Math.abs(E.getEstimatedModuleSize()-o)>b&&(r.splice(N,1),N--)}}if(r.length>3){let d=0;for(const h of r)d+=h.getEstimatedModuleSize();o=d/r.length,r.sort((h,x)=>{if(x.getCount()===h.getCount()){const b=Math.abs(x.getEstimatedModuleSize()-o),N=Math.abs(h.getEstimatedModuleSize()-o);return b<N?1:b>N?-1:0}else return x.getCount()-h.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}En.CENTER_QUORUM=2,En.MIN_SKIP=3,En.MAX_MODULES=57;class ua{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(ae.NEED_RESULT_POINT_CALLBACK);const o=new En(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const r=n.getTopLeft(),o=n.getTopRight(),d=n.getBottomLeft(),h=this.calculateModuleSize(r,o,d);if(h<1)throw new Z("No pattern found in proccess finder.");const x=ua.computeDimension(r,o,d,h),b=lt.getProvisionalVersionForDimension(x),N=b.getDimensionForVersion()-7;let E=null;if(b.getAlignmentPatternCenters().length>0){const Q=o.getX()-r.getX()+d.getX(),ce=o.getY()-r.getY()+d.getY(),fe=1-3/N,ve=Math.floor(r.getX()+fe*(Q-r.getX())),Oe=Math.floor(r.getY()+fe*(ce-r.getY()));for(let Ke=4;Ke<=16;Ke<<=1)try{E=this.findAlignmentInRegion(h,ve,Oe,Ke);break}catch(We){if(!(We instanceof Z))throw We}}const k=ua.createTransform(r,o,d,E,x),I=ua.sampleGrid(this.image,k,x);let z;return E===null?z=[d,r,o]:z=[d,r,o,E],new ls(I,z)}static createTransform(n,r,o,d,h){const x=h-3.5;let b,N,E,k;return d!==null?(b=d.getX(),N=d.getY(),E=x-3,k=E):(b=r.getX()-n.getX()+o.getX(),N=r.getY()-n.getY()+o.getY(),E=x,k=x),Ae.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,E,k,3.5,x,n.getX(),n.getY(),r.getX(),r.getY(),b,N,o.getX(),o.getY())}static sampleGrid(n,r,o){return rt.getInstance().sampleGridWithTransform(n,o,o,r)}static computeDimension(n,r,o,d){const h=ot.round(Qe.distance(n,r)/d),x=ot.round(Qe.distance(n,o)/d);let b=Math.floor((h+x)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new Z("Dimensions could be not found.")}return b}calculateModuleSize(n,r,o){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?d/7:isNaN(d)?o/7:(o+d)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,o,d){let h=this.sizeOfBlackWhiteBlackRun(n,r,o,d),x=1,b=n-(o-n);b<0?(x=n/(n-b),b=0):b>=this.image.getWidth()&&(x=(this.image.getWidth()-1-n)/(b-n),b=this.image.getWidth()-1);let N=Math.floor(r-(d-r)*x);return x=1,N<0?(x=r/(r-N),N=0):N>=this.image.getHeight()&&(x=(this.image.getHeight()-1-r)/(N-r),N=this.image.getHeight()-1),b=Math.floor(n+(b-n)*x),h+=this.sizeOfBlackWhiteBlackRun(n,r,b,N),h-1}sizeOfBlackWhiteBlackRun(n,r,o,d){const h=Math.abs(d-r)>Math.abs(o-n);if(h){let Q=n;n=r,r=Q,Q=o,o=d,d=Q}const x=Math.abs(o-n),b=Math.abs(d-r);let N=-x/2;const E=n<o?1:-1,k=r<d?1:-1;let I=0;const z=o+E;for(let Q=n,ce=r;Q!==z;Q+=E){const fe=h?ce:Q,ve=h?Q:ce;if(I===1===this.image.get(fe,ve)){if(I===2)return ot.distance(Q,ce,n,r);I++}if(N+=b,N>0){if(ce===d)break;ce+=k,N-=x}}return I===2?ot.distance(o+E,d,n,r):NaN}findAlignmentInRegion(n,r,o,d){const h=Math.floor(d*n),x=Math.max(0,r-h),b=Math.min(this.image.getWidth()-1,r+h);if(b-x<n*3)throw new Z("Alignment top exceeds estimated module size.");const N=Math.max(0,o-h),E=Math.min(this.image.getHeight()-1,o+h);if(E-N<n*3)throw new Z("Alignment bottom exceeds estimated module size.");return new Ps(this.image,x,N,b-x,E-N,n,this.resultPointCallback).find()}}class ka{constructor(){this.decoder=new Cd}getDecoder(){return this.decoder}decode(n,r){let o,d;if(r!=null&&r.get(ae.PURE_BARCODE)!==void 0){const N=ka.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(N,r),d=ka.NO_POINTS}else{const N=new ua(n.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(N.getBits(),r),d=N.getPoints()}o.getOther()instanceof gc&&o.getOther().applyMirroredCorrection(d);const h=new be(o.getText(),o.getRawBytes(),void 0,d,te.QR_CODE,void 0),x=o.getByteSegments();x!==null&&h.putMetadata(xe.BYTE_SEGMENTS,x);const b=o.getECLevel();return b!==null&&h.putMetadata(xe.ERROR_CORRECTION_LEVEL,b),o.hasStructuredAppend()&&(h.putMetadata(xe.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),h.putMetadata(xe.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),h}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(r===null||o===null)throw new Z;const d=this.moduleSize(r,n);let h=r[1],x=o[1],b=r[0],N=o[0];if(b>=N||h>=x)throw new Z;if(x-h!==N-b&&(N=b+(x-h),N>=n.getWidth()))throw new Z;const E=Math.round((N-b+1)/d),k=Math.round((x-h+1)/d);if(E<=0||k<=0)throw new Z;if(k!==E)throw new Z;const I=Math.floor(d/2);h+=I,b+=I;const z=b+Math.floor((E-1)*d)-N;if(z>0){if(z>I)throw new Z;b-=z}const Q=h+Math.floor((k-1)*d)-x;if(Q>0){if(Q>I)throw new Z;h-=Q}const ce=new ge(E,k);for(let fe=0;fe<k;fe++){const ve=h+Math.floor(fe*d);for(let Oe=0;Oe<E;Oe++)n.get(b+Math.floor(Oe*d),ve)&&ce.set(Oe,fe)}return ce}static moduleSize(n,r){const o=r.getHeight(),d=r.getWidth();let h=n[0],x=n[1],b=!0,N=0;for(;h<d&&x<o;){if(b!==r.get(h,x)){if(++N===5)break;b=!b}h++,x++}if(h===d||x===o)throw new Z;return(h-n[0])/7}}ka.NO_POINTS=new Array;class mt{PDF417Common(){}static getBitCountSum(n){return ot.sum(n)}static toIntArray(n){if(n==null||!n.length)return mt.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let o=0;for(const d of n)r[o++]=d;return r}static getCodeword(n){const r=O.binarySearch(mt.SYMBOL_TABLE,n&262143);return r<0?-1:(mt.CODEWORD_TABLE[r]-1)%mt.NUMBER_OF_CODEWORDS}}mt.NUMBER_OF_CODEWORDS=929,mt.MAX_CODEWORDS_IN_BARCODE=mt.NUMBER_OF_CODEWORDS-1,mt.MIN_ROWS_IN_BARCODE=3,mt.MAX_ROWS_IN_BARCODE=90,mt.MODULES_IN_CODEWORD=17,mt.MODULES_IN_STOP_PATTERN=18,mt.BARS_IN_MODULE=8,mt.EMPTY_INT_ARRAY=new Int32Array([]),mt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),mt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bc{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class St{static detectMultiple(n,r,o){let d=n.getBlackMatrix(),h=St.detect(o,d);return h.length||(d=d.clone(),d.rotate180(),h=St.detect(o,d)),new bc(d,h)}static detect(n,r){const o=new Array;let d=0,h=0,x=!1;for(;d<r.getHeight();){const b=St.findVertices(r,d,h);if(b[0]==null&&b[3]==null){if(!x)break;x=!1,h=0;for(const N of o)N[1]!=null&&(d=Math.trunc(Math.max(d,N[1].getY()))),N[3]!=null&&(d=Math.max(d,Math.trunc(N[3].getY())));d+=St.ROW_STEP;continue}if(x=!0,o.push(b),!n)break;b[2]!=null?(h=Math.trunc(b[2].getX()),d=Math.trunc(b[2].getY())):(h=Math.trunc(b[4].getX()),d=Math.trunc(b[4].getY()))}return o}static findVertices(n,r,o){const d=n.getHeight(),h=n.getWidth(),x=new Array(8);return St.copyToResult(x,St.findRowsWithPattern(n,d,h,r,o,St.START_PATTERN),St.INDEXES_START_PATTERN),x[4]!=null&&(o=Math.trunc(x[4].getX()),r=Math.trunc(x[4].getY())),St.copyToResult(x,St.findRowsWithPattern(n,d,h,r,o,St.STOP_PATTERN),St.INDEXES_STOP_PATTERN),x}static copyToResult(n,r,o){for(let d=0;d<o.length;d++)n[o[d]]=r[d]}static findRowsWithPattern(n,r,o,d,h,x){const b=new Array(4);let N=!1;const E=new Int32Array(x.length);for(;d<r;d+=St.ROW_STEP){let I=St.findGuardPattern(n,h,d,o,!1,x,E);if(I!=null){for(;d>0;){const z=St.findGuardPattern(n,h,--d,o,!1,x,E);if(z!=null)I=z;else{d++;break}}b[0]=new Qe(I[0],d),b[1]=new Qe(I[1],d),N=!0;break}}let k=d+1;if(N){let I=0,z=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;k<r;k++){const Q=St.findGuardPattern(n,z[0],k,o,!1,x,E);if(Q!=null&&Math.abs(z[0]-Q[0])<St.MAX_PATTERN_DRIFT&&Math.abs(z[1]-Q[1])<St.MAX_PATTERN_DRIFT)z=Q,I=0;else{if(I>St.SKIPPED_ROW_COUNT_MAX)break;I++}}k-=I+1,b[2]=new Qe(z[0],k),b[3]=new Qe(z[1],k)}return k-d<St.BARCODE_MIN_HEIGHT&&O.fill(b,null),b}static findGuardPattern(n,r,o,d,h,x,b){O.fillWithin(b,0,b.length,0);let N=r,E=0;for(;n.get(N,o)&&N>0&&E++<St.MAX_PIXEL_DRIFT;)N--;let k=N,I=0,z=x.length;for(let Q=h;k<d;k++)if(n.get(k,o)!==Q)b[I]++;else{if(I===z-1){if(St.patternMatchVariance(b,x,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return new Int32Array([N,k]);N+=b[0]+b[1],D.arraycopy(b,2,b,0,I-1),b[I-1]=0,b[I]=0,I--}else I++;b[I]=1,Q=!Q}return I===z-1&&St.patternMatchVariance(b,x,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE?new Int32Array([N,k-1]):null}static patternMatchVariance(n,r,o){let d=n.length,h=0,x=0;for(let E=0;E<d;E++)h+=n[E],x+=r[E];if(h<x)return 1/0;let b=h/x;o*=b;let N=0;for(let E=0;E<d;E++){let k=n[E],I=r[E]*b,z=k>I?k-I:I-k;if(z>o)return 1/0;N+=z}return N/h}}St.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),St.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),St.MAX_AVG_VARIANCE=.42,St.MAX_INDIVIDUAL_VARIANCE=.8,St.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),St.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),St.MAX_PIXEL_DRIFT=3,St.MAX_PATTERN_DRIFT=5,St.SKIPPED_ROW_COUNT_MAX=25,St.ROW_STEP=5,St.BARCODE_MIN_HEIGHT=10;class wn{constructor(n,r){if(r.length===0)throw new j;this.field=n;let o=r.length;if(o>1&&r[0]===0){let d=1;for(;d<o&&r[d]===0;)d++;d===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-d),D.arraycopy(r,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let d=0;for(let h of this.coefficients)d=this.field.add(d,h);return d}let r=this.coefficients[0],o=this.coefficients.length;for(let d=1;d<o;d++)r=this.field.add(this.field.multiply(n,r),this.coefficients[d]);return r}add(n){if(!this.field.equals(n.field))throw new j("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,o=n.coefficients;if(r.length>o.length){let x=r;r=o,o=x}let d=new Int32Array(o.length),h=o.length-r.length;D.arraycopy(o,0,d,0,h);for(let x=h;x<o.length;x++)d[x]=this.field.add(r[x-h],o[x]);return new wn(this.field,d)}subtract(n){if(!this.field.equals(n.field))throw new j("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof wn?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new j("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new wn(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,d=n.coefficients,h=d.length,x=new Int32Array(o+h-1);for(let b=0;b<o;b++){let N=r[b];for(let E=0;E<h;E++)x[b+E]=this.field.add(x[b+E],this.field.multiply(N,d[E]))}return new wn(this.field,x)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let o=0;o<n;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new wn(this.field,r)}multiplyScalar(n){if(n===0)return new wn(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let d=0;d<r;d++)o[d]=this.field.multiply(this.coefficients[d],n);return new wn(this.field,o)}multiplyByMonomial(n,r){if(n<0)throw new j;if(r===0)return new wn(this.field,new Int32Array([0]));let o=this.coefficients.length,d=new Int32Array(o+n);for(let h=0;h<o;h++)d[h]=this.field.multiply(this.coefficients[h],r);return new wn(this.field,d)}toString(){let n=new oe;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(r===0||o!==1)&&n.append(o),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class Zl{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new j;return this.logTable[n]}inverse(n){if(n===0)throw new Re;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class ii extends Zl{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let d=0;d<n;d++)this.expTable[d]=o,o=o*r%n;for(let d=0;d<n-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new wn(this,new Int32Array([0])),this.one=new wn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new j;if(r===0)return this.zero;let o=new Int32Array(n+1);return o[0]=r,new wn(this,o)}}ii.PDF417_GF=new ii(mt.NUMBER_OF_CODEWORDS,3);class Fa{constructor(){this.field=ii.PDF417_GF}decode(n,r,o){let d=new wn(this.field,n),h=new Int32Array(r),x=!1;for(let ce=r;ce>0;ce--){let fe=d.evaluateAt(this.field.exp(ce));h[r-ce]=fe,fe!==0&&(x=!0)}if(!x)return 0;let b=this.field.getOne();if(o!=null)for(const ce of o){let fe=this.field.exp(n.length-1-ce),ve=new wn(this.field,new Int32Array([this.field.subtract(0,fe),1]));b=b.multiply(ve)}let N=new wn(this.field,h),E=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),N,r),k=E[0],I=E[1],z=this.findErrorLocations(k),Q=this.findErrorMagnitudes(I,k,z);for(let ce=0;ce<z.length;ce++){let fe=n.length-1-this.field.log(z[ce]);if(fe<0)throw R.getChecksumInstance();n[fe]=this.field.subtract(n[fe],Q[ce])}return z.length}runEuclideanAlgorithm(n,r,o){if(n.getDegree()<r.getDegree()){let z=n;n=r,r=z}let d=n,h=r,x=this.field.getZero(),b=this.field.getOne();for(;h.getDegree()>=Math.round(o/2);){let z=d,Q=x;if(d=h,x=b,d.isZero())throw R.getChecksumInstance();h=z;let ce=this.field.getZero(),fe=d.getCoefficient(d.getDegree()),ve=this.field.inverse(fe);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){let Oe=h.getDegree()-d.getDegree(),Ke=this.field.multiply(h.getCoefficient(h.getDegree()),ve);ce=ce.add(this.field.buildMonomial(Oe,Ke)),h=h.subtract(d.multiplyByMonomial(Oe,Ke))}b=ce.multiply(x).subtract(Q).negative()}let N=b.getCoefficient(0);if(N===0)throw R.getChecksumInstance();let E=this.field.inverse(N),k=b.multiply(E),I=h.multiply(E);return[k,I]}findErrorLocations(n){let r=n.getDegree(),o=new Int32Array(r),d=0;for(let h=1;h<this.field.getSize()&&d<r;h++)n.evaluateAt(h)===0&&(o[d]=this.field.inverse(h),d++);if(d!==r)throw R.getChecksumInstance();return o}findErrorMagnitudes(n,r,o){let d=r.getDegree(),h=new Int32Array(d);for(let E=1;E<=d;E++)h[d-E]=this.field.multiply(E,r.getCoefficient(E));let x=new wn(this.field,h),b=o.length,N=new Int32Array(b);for(let E=0;E<b;E++){let k=this.field.inverse(o[E]),I=this.field.subtract(0,n.evaluateAt(k)),z=this.field.inverse(x.evaluateAt(k));N[E]=this.field.multiply(I,z)}return N}}class Ra{constructor(n,r,o,d,h){n instanceof Ra?this.constructor_2(n):this.constructor_1(n,r,o,d,h)}constructor_1(n,r,o,d,h){const x=r==null||o==null,b=d==null||h==null;if(x&&b)throw new Z;x?(r=new Qe(0,d.getY()),o=new Qe(0,h.getY())):b&&(d=new Qe(n.getWidth()-1,r.getY()),h=new Qe(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=r,this.bottomLeft=o,this.topRight=d,this.bottomRight=h,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(d.getX(),h.getX())),this.minY=Math.trunc(Math.min(r.getY(),d.getY())),this.maxY=Math.trunc(Math.max(o.getY(),h.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new Ra(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,o){let d=this.topLeft,h=this.bottomLeft,x=this.topRight,b=this.bottomRight;if(n>0){let N=o?this.topLeft:this.topRight,E=Math.trunc(N.getY()-n);E<0&&(E=0);let k=new Qe(N.getX(),E);o?d=k:x=k}if(r>0){let N=o?this.bottomLeft:this.bottomRight,E=Math.trunc(N.getY()+r);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let k=new Qe(N.getX(),E);o?h=k:b=k}return new Ra(this.image,d,h,x,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Kr{constructor(n,r,o,d){this.columnCount=n,this.errorCorrectionLevel=d,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Pi{constructor(){this.buffer=""}static form(n,r){let o=-1;function d(x,b,N,E,k,I){if(x==="%%")return"%";if(r[++o]===void 0)return;x=E?parseInt(E.substr(1)):void 0;let z=k?parseInt(k.substr(1)):void 0,Q;switch(I){case"s":Q=r[o];break;case"c":Q=r[o][0];break;case"f":Q=parseFloat(r[o]).toFixed(x);break;case"p":Q=parseFloat(r[o]).toPrecision(x);break;case"e":Q=parseFloat(r[o]).toExponential(x);break;case"x":Q=parseInt(r[o]).toString(z||16);break;case"d":Q=parseFloat(parseInt(r[o],z||10).toPrecision(x)).toFixed(0);break}Q=typeof Q=="object"?JSON.stringify(Q):(+Q).toString(z);let ce=parseInt(N),fe=N&&N[0]+""=="0"?"0":" ";for(;Q.length<ce;)Q=b!==void 0?Q+fe:fe+Q;return Q}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(h,d)}format(n,...r){this.buffer+=Pi.form(n,r)}toString(){return this.buffer}}class Ua{constructor(n){this.boundingBox=new Ra(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let o=1;o<Ua.MAX_NEARBY_DISTANCE;o++){let d=this.imageRowToCodewordIndex(n)-o;if(d>=0&&(r=this.codewords[d],r!=null)||(d=this.imageRowToCodewordIndex(n)+o,d<this.codewords.length&&(r=this.codewords[d],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Pi;let r=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return n.toString()}}Ua.MAX_NEARBY_DISTANCE=5;class Va{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[o,d]of this.values.entries()){const h={getKey:()=>o,getValue:()=>d};h.getValue()>n?(n=h.getValue(),r=[],r.push(h.getKey())):h.getValue()===n&&r.push(h.getKey())}return mt.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class Ql extends Ua{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let o=this.getBoundingBox(),d=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),b=this.imageRowToCodewordIndex(Math.trunc(h.getY())),N=-1,E=1,k=0;for(let I=x;I<b;I++){if(r[I]==null)continue;let z=r[I],Q=z.getRowNumber()-N;if(Q===0)k++;else if(Q===1)E=Math.max(E,k),k=1,N=z.getRowNumber();else if(Q<0||z.getRowNumber()>=n.getRowCount()||Q>I)r[I]=null;else{let ce;E>2?ce=(E-2)*Q:ce=Q;let fe=ce>=I;for(let ve=1;ve<=ce&&!fe;ve++)fe=r[I-ve]!=null;fe?r[I]=null:(N=z.getRowNumber(),k=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let d=o.getRowNumber();if(d>=r.length)continue;r[d]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),d=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),b=this.getCodewords(),N=-1;for(let E=h;E<x;E++){if(b[E]==null)continue;let k=b[E];k.setRowNumberAsRowIndicatorColumn();let I=k.getRowNumber()-N;I===0||(I===1?N=k.getRowNumber():k.getRowNumber()>=n.getRowCount()?b[E]=null:N=k.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new Va,o=new Va,d=new Va,h=new Va;for(let b of n){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let N=b.getValue()%30,E=b.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:o.setValue(N*3+1);break;case 1:h.setValue(N/3),d.setValue(N%3);break;case 2:r.setValue(N+1);break}}if(r.getValue().length===0||o.getValue().length===0||d.getValue().length===0||h.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+d.getValue()[0]<mt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+d.getValue()[0]>mt.MAX_ROWS_IN_BARCODE)return null;let x=new Kr(r.getValue()[0],o.getValue()[0],d.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(n,x),x}removeIncorrectCodewords(n,r){for(let o=0;o<n.length;o++){let d=n[o];if(n[o]==null)continue;let h=d.getValue()%30,x=d.getRowNumber();if(x>r.getRowCount()){n[o]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:h*3+1!==r.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(h/3)!==r.getErrorCorrectionLevel()||h%3!==r.getRowCountLowerPart())&&(n[o]=null);break;case 2:h+1!==r.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class es{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=mt.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let d=0;d<o.length;d++)o[d]!=null&&(o[d].hasValidRowNumber()||this.adjustRowNumbers(r,d,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&r[o]!=null&&n[o].getRowNumber()===r[o].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let h=this.detectionResultColumns[d].getCodewords()[o];h!=null&&(h.setRowNumber(n[o].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let d=r[o].getRowNumber(),h=0;for(let x=this.barcodeColumnCount+1;x>0&&h<this.ADJUST_ROW_NUMBER_SKIP;x--){let b=this.detectionResultColumns[x].getCodewords()[o];b!=null&&(h=es.adjustRowNumberIfValid(d,h,b),b.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let d=r[o].getRowNumber(),h=0;for(let x=1;x<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;x++){let b=this.detectionResultColumns[x].getCodewords()[o];b!=null&&(h=es.adjustRowNumberIfValid(d,h,b),b.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,o){if(!this.detectionResultColumns[n-1])return;let d=o[r],h=this.detectionResultColumns[n-1].getCodewords(),x=h;this.detectionResultColumns[n+1]!=null&&(x=this.detectionResultColumns[n+1].getCodewords());let b=new Array(14);b[2]=h[r],b[3]=x[r],r>0&&(b[0]=o[r-1],b[4]=h[r-1],b[5]=x[r-1]),r>1&&(b[8]=o[r-2],b[10]=h[r-2],b[11]=x[r-2]),r<o.length-1&&(b[1]=o[r+1],b[6]=h[r+1],b[7]=x[r+1]),r<o.length-2&&(b[9]=o[r+2],b[12]=h[r+2],b[13]=x[r+2]);for(let N of b)if(es.adjustRowNumber(d,N))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Pi;for(let o=0;o<n.getCodewords().length;o++){r.format("CW %3d:",o);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){r.format("    |   ");continue}let h=this.detectionResultColumns[d].getCodewords()[o];if(h==null){r.format("    |   ");continue}r.format(" %3d|%3d",h.getRowNumber(),h.getValue())}r.format("%n")}return r.toString()}}class ea{constructor(n,r,o,d){this.rowNumber=ea.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==ea.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}ea.BARCODE_ROW_UNKNOWN=-1;class cs{static initialize(){for(let n=0;n<mt.SYMBOL_TABLE.length;n++){let r=mt.SYMBOL_TABLE[n],o=r&1;for(let d=0;d<mt.BARS_IN_MODULE;d++){let h=0;for(;(r&1)===o;)h+=1,r>>=1;o=r&1,cs.RATIOS_TABLE[n]||(cs.RATIOS_TABLE[n]=new Array(mt.BARS_IN_MODULE)),cs.RATIOS_TABLE[n][mt.BARS_IN_MODULE-d-1]=Math.fround(h/mt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=cs.getDecodedCodewordValue(cs.sampleBitCounts(n));return r!==-1?r:cs.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=ot.sum(n),o=new Int32Array(mt.BARS_IN_MODULE),d=0,h=0;for(let x=0;x<mt.MODULES_IN_CODEWORD;x++){let b=r/(2*mt.MODULES_IN_CODEWORD)+x*r/mt.MODULES_IN_CODEWORD;h+n[d]<=b&&(h+=n[d],d++),o[d]++}return o}static getDecodedCodewordValue(n){let r=cs.getBitValue(n);return mt.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let o=0;o<n.length;o++)for(let d=0;d<n[o];d++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=ot.sum(n),o=new Array(mt.BARS_IN_MODULE);if(r>1)for(let x=0;x<o.length;x++)o[x]=Math.fround(n[x]/r);let d=cn.MAX_VALUE,h=-1;this.bSymbolTableReady||cs.initialize();for(let x=0;x<cs.RATIOS_TABLE.length;x++){let b=0,N=cs.RATIOS_TABLE[x];for(let E=0;E<mt.BARS_IN_MODULE;E++){let k=Math.fround(N[E]-o[E]);if(b+=Math.fround(k*k),b>=d)break}b<d&&(d=b,h=mt.SYMBOL_TABLE[x])}return h}}cs.bSymbolTableReady=!1,cs.RATIOS_TABLE=new Array(mt.SYMBOL_TABLE.length).map(M=>new Array(mt.BARS_IN_MODULE));class $i{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class yc{static parseLong(n,r=void 0){return parseInt(n,r)}}class Zr extends w{}Zr.kind="NullPointerException";class Jl{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,o){if(n==null)throw new Zr;if(r<0||r>n.length||o<0||r+o>n.length||r+o<0)throw new $;if(o===0)return;for(let d=0;d<o;d++)this.write(n[r+d])}flush(){}close(){}}class wr extends w{}class Qr extends Jl{constructor(n=32){if(super(),this.count=0,n<0)throw new j("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new wr;o=L.MAX_VALUE}this.buf=O.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,o){if(r<0||r>n.length||o<0||r+o-n.length>0)throw new $;this.ensureCapacity(this.count+o),D.arraycopy(n,r,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return O.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var nn;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function wc(){if(typeof window<"u")return window.BigInt||null;if(typeof Fu<"u")return Fu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Jr;function Ha(M){if(typeof Jr>"u"&&(Jr=wc()),Jr===null)throw new Error("BigInt is not supported!");return Jr(M)}function eo(){let M=[];M[0]=Ha(1);let n=Ha(900);M[1]=n;for(let r=2;r<16;r++)M[r]=M[r-1]*n;return M}class Be{static decode(n,r){let o=new oe(""),d=q.ISO8859_1;o.enableDecoding(d);let h=1,x=n[h++],b=new $i;for(;h<n[0];){switch(x){case Be.TEXT_COMPACTION_MODE_LATCH:h=Be.textCompaction(n,h,o);break;case Be.BYTE_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:h=Be.byteCompaction(x,n,d,h,o);break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[h++]);break;case Be.NUMERIC_COMPACTION_MODE_LATCH:h=Be.numericCompaction(n,h,o);break;case Be.ECI_CHARSET:q.getCharacterSetECIByValue(n[h++]);break;case Be.ECI_GENERAL_PURPOSE:h+=2;break;case Be.ECI_USER_DEFINED:h++;break;case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=Be.decodeMacroBlock(n,h,b);break;case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:throw new X;default:h--,h=Be.textCompaction(n,h,o);break}if(h<n.length)x=n[h++];else throw X.getFormatInstance()}if(o.length()===0)throw X.getFormatInstance();let N=new we(null,o.toString(),null,r);return N.setOther(b),N}static decodeMacroBlock(n,r,o){if(r+Be.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw X.getFormatInstance();let d=new Int32Array(Be.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<Be.NUMBER_OF_SEQUENCE_CODEWORDS;b++,r++)d[b]=n[r];o.setSegmentIndex(L.parseInt(Be.decodeBase900toBase10(d,Be.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new oe;r=Be.textCompaction(n,r,h),o.setFileId(h.toString());let x=-1;for(n[r]===Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=r+1);r<n[0];)switch(n[r]){case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new oe;r=Be.textCompaction(n,r+1,b),o.setFileName(b.toString());break;case Be.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new oe;r=Be.textCompaction(n,r+1,N),o.setSender(N.toString());break;case Be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new oe;r=Be.textCompaction(n,r+1,E),o.setAddressee(E.toString());break;case Be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let k=new oe;r=Be.numericCompaction(n,r+1,k),o.setSegmentCount(L.parseInt(k.toString()));break;case Be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new oe;r=Be.numericCompaction(n,r+1,I),o.setTimestamp(yc.parseLong(I.toString()));break;case Be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let z=new oe;r=Be.numericCompaction(n,r+1,z),o.setChecksum(L.parseInt(z.toString()));break;case Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Q=new oe;r=Be.numericCompaction(n,r+1,Q),o.setFileSize(yc.parseLong(Q.toString()));break;default:throw X.getFormatInstance()}break;case Be.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(x!==-1){let b=r-x;o.isLastSegment()&&b--,o.setOptionalData(O.copyOfRange(n,x,x+b))}return r}static textCompaction(n,r,o){let d=new Int32Array((n[0]-r)*2),h=new Int32Array((n[0]-r)*2),x=0,b=!1;for(;r<n[0]&&!b;){let N=n[r++];if(N<Be.TEXT_COMPACTION_MODE_LATCH)d[x]=N/30,d[x+1]=N%30,x+=2;else switch(N){case Be.TEXT_COMPACTION_MODE_LATCH:d[x++]=Be.TEXT_COMPACTION_MODE_LATCH;break;case Be.BYTE_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.NUMERIC_COMPACTION_MODE_LATCH:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:r--,b=!0;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[x]=Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=n[r++],h[x]=N,x++;break}}return Be.decodeTextCompaction(d,h,x,o),r}static decodeTextCompaction(n,r,o,d){let h=nn.ALPHA,x=nn.ALPHA,b=0;for(;b<o;){let N=n[b],E="";switch(h){case nn.ALPHA:if(N<26)E=String.fromCharCode(65+N);else switch(N){case 26:E=" ";break;case Be.LL:h=nn.LOWER;break;case Be.ML:h=nn.MIXED;break;case Be.PS:x=h,h=nn.PUNCT_SHIFT;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[b]);break;case Be.TEXT_COMPACTION_MODE_LATCH:h=nn.ALPHA;break}break;case nn.LOWER:if(N<26)E=String.fromCharCode(97+N);else switch(N){case 26:E=" ";break;case Be.AS:x=h,h=nn.ALPHA_SHIFT;break;case Be.ML:h=nn.MIXED;break;case Be.PS:x=h,h=nn.PUNCT_SHIFT;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[b]);break;case Be.TEXT_COMPACTION_MODE_LATCH:h=nn.ALPHA;break}break;case nn.MIXED:if(N<Be.PL)E=Be.MIXED_CHARS[N];else switch(N){case Be.PL:h=nn.PUNCT;break;case 26:E=" ";break;case Be.LL:h=nn.LOWER;break;case Be.AL:h=nn.ALPHA;break;case Be.PS:x=h,h=nn.PUNCT_SHIFT;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[b]);break;case Be.TEXT_COMPACTION_MODE_LATCH:h=nn.ALPHA;break}break;case nn.PUNCT:if(N<Be.PAL)E=Be.PUNCT_CHARS[N];else switch(N){case Be.PAL:h=nn.ALPHA;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[b]);break;case Be.TEXT_COMPACTION_MODE_LATCH:h=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(h=x,N<26)E=String.fromCharCode(65+N);else switch(N){case 26:E=" ";break;case Be.TEXT_COMPACTION_MODE_LATCH:h=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(h=x,N<Be.PAL)E=Be.PUNCT_CHARS[N];else switch(N){case Be.PAL:h=nn.ALPHA;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(r[b]);break;case Be.TEXT_COMPACTION_MODE_LATCH:h=nn.ALPHA;break}break}E!==""&&d.append(E),b++}}static byteCompaction(n,r,o,d,h){let x=new Qr,b=0,N=0,E=!1;switch(n){case Be.BYTE_COMPACTION_MODE_LATCH:let k=new Int32Array(6),I=r[d++];for(;d<r[0]&&!E;)switch(k[b++]=I,N=900*N+I,I=r[d++],I){case Be.TEXT_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH:case Be.NUMERIC_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:d--,E=!0;break;default:if(b%5===0&&b>0){for(let z=0;z<6;++z)x.write(Number(Ha(N)>>Ha(8*(5-z))));N=0,b=0}break}d===r[0]&&I<Be.TEXT_COMPACTION_MODE_LATCH&&(k[b++]=I);for(let z=0;z<b;z++)x.write(k[z]);break;case Be.BYTE_COMPACTION_MODE_LATCH_6:for(;d<r[0]&&!E;){let z=r[d++];if(z<Be.TEXT_COMPACTION_MODE_LATCH)b++,N=900*N+z;else switch(z){case Be.TEXT_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH:case Be.NUMERIC_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:d--,E=!0;break}if(b%5===0&&b>0){for(let Q=0;Q<6;++Q)x.write(Number(Ha(N)>>Ha(8*(5-Q))));N=0,b=0}}break}return h.append(Ce.decode(x.toByteArray(),o)),d}static numericCompaction(n,r,o){let d=0,h=!1,x=new Int32Array(Be.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!h;){let b=n[r++];if(r===n[0]&&(h=!0),b<Be.TEXT_COMPACTION_MODE_LATCH)x[d]=b,d++;else switch(b){case Be.TEXT_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:r--,h=!0;break}(d%Be.MAX_NUMERIC_CODEWORDS===0||b===Be.NUMERIC_COMPACTION_MODE_LATCH||h)&&d>0&&(o.append(Be.decodeBase900toBase10(x,d)),d=0)}return r}static decodeBase900toBase10(n,r){let o=Ha(0);for(let h=0;h<r;h++)o+=Be.EXP900[r-h-1]*Ha(n[h]);let d=o.toString();if(d.charAt(0)!=="1")throw new X;return d.substring(1)}}Be.TEXT_COMPACTION_MODE_LATCH=900,Be.BYTE_COMPACTION_MODE_LATCH=901,Be.NUMERIC_COMPACTION_MODE_LATCH=902,Be.BYTE_COMPACTION_MODE_LATCH_6=924,Be.ECI_USER_DEFINED=925,Be.ECI_GENERAL_PURPOSE=926,Be.ECI_CHARSET=927,Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Be.MACRO_PDF417_TERMINATOR=922,Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Be.MAX_NUMERIC_CODEWORDS=15,Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Be.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Be.PL=25,Be.LL=27,Be.AS=27,Be.ML=28,Be.AL=28,Be.PS=29,Be.PAL=29,Be.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Be.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Be.EXP900=wc()?eo():[],Be.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Tt{constructor(){}static decode(n,r,o,d,h,x,b){let N=new Ra(n,r,o,d,h),E=null,k=null,I;for(let ce=!0;;ce=!1){if(r!=null&&(E=Tt.getRowIndicatorColumn(n,N,r,!0,x,b)),d!=null&&(k=Tt.getRowIndicatorColumn(n,N,d,!1,x,b)),I=Tt.merge(E,k),I==null)throw Z.getNotFoundInstance();let fe=I.getBoundingBox();if(ce&&fe!=null&&(fe.getMinY()<N.getMinY()||fe.getMaxY()>N.getMaxY()))N=fe;else break}I.setBoundingBox(N);let z=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,E),I.setDetectionResultColumn(z,k);let Q=E!=null;for(let ce=1;ce<=z;ce++){let fe=Q?ce:z-ce;if(I.getDetectionResultColumn(fe)!==void 0)continue;let ve;fe===0||fe===z?ve=new Ql(N,fe===0):ve=new Ua(N),I.setDetectionResultColumn(fe,ve);let Oe=-1,Ke=Oe;for(let We=N.getMinY();We<=N.getMaxY();We++){if(Oe=Tt.getStartColumn(I,fe,We,Q),Oe<0||Oe>N.getMaxX()){if(Ke===-1)continue;Oe=Ke}let He=Tt.detectCodeword(n,N.getMinX(),N.getMaxX(),Q,Oe,We,x,b);He!=null&&(ve.setCodeword(We,He),Ke=Oe,x=Math.min(x,He.getWidth()),b=Math.max(b,He.getWidth()))}}return Tt.createDecoderResult(I)}static merge(n,r){if(n==null&&r==null)return null;let o=Tt.getBarcodeMetadata(n,r);if(o==null)return null;let d=Ra.merge(Tt.adjustBoundingBox(n),Tt.adjustBoundingBox(r));return new es(o,d)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let o=Tt.getMax(r),d=0;for(let b of r)if(d+=o-b,b>0)break;let h=n.getCodewords();for(let b=0;d>0&&h[b]==null;b++)d--;let x=0;for(let b=r.length-1;b>=0&&(x+=o-r[b],!(r[b]>0));b--);for(let b=h.length-1;x>0&&h[b]==null;b--)x--;return n.getBoundingBox().addMissingRows(d,x,n.isLeft())}static getMax(n){let r=-1;for(let o of n)r=Math.max(r,o);return r}static getBarcodeMetadata(n,r){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let d;return r==null||(d=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==d.getColumnCount()&&o.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&o.getRowCount()!==d.getRowCount()?null:o}static getRowIndicatorColumn(n,r,o,d,h,x){let b=new Ql(r,d);for(let N=0;N<2;N++){let E=N===0?1:-1,k=Math.trunc(Math.trunc(o.getX()));for(let I=Math.trunc(Math.trunc(o.getY()));I<=r.getMaxY()&&I>=r.getMinY();I+=E){let z=Tt.detectCodeword(n,0,n.getWidth(),d,k,I,h,x);z!=null&&(b.setCodeword(I,z),d?k=z.getStartX():k=z.getEndX())}}return b}static adjustCodewordCount(n,r){let o=r[0][1],d=o.getValue(),h=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Tt.getNumberOfECCodeWords(n.getBarcodeECLevel());if(d.length===0){if(h<1||h>mt.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();o.setValue(h)}else d[0]!==h&&o.setValue(h)}static createDecoderResult(n){let r=Tt.createBarcodeMatrix(n);Tt.adjustCodewordCount(n,r);let o=new Array,d=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),h=[],x=new Array;for(let N=0;N<n.getBarcodeRowCount();N++)for(let E=0;E<n.getBarcodeColumnCount();E++){let k=r[N][E+1].getValue(),I=N*n.getBarcodeColumnCount()+E;k.length===0?o.push(I):k.length===1?d[I]=k[0]:(x.push(I),h.push(k))}let b=new Array(h.length);for(let N=0;N<b.length;N++)b[N]=h[N];return Tt.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),d,mt.toIntArray(o),mt.toIntArray(x),b)}static createDecoderResultFromAmbiguousValues(n,r,o,d,h){let x=new Int32Array(d.length),b=100;for(;b-- >0;){for(let N=0;N<x.length;N++)r[d[N]]=h[N][x[N]];try{return Tt.decodeCodewords(r,n,o)}catch(N){if(!(N instanceof R))throw N}if(x.length===0)throw R.getChecksumInstance();for(let N=0;N<x.length;N++)if(x[N]<h[N].length-1){x[N]++;break}else if(x[N]=0,N===x.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let d=0;d<r.length;d++)for(let h=0;h<r[d].length;h++)r[d][h]=new Va;let o=0;for(let d of n.getDetectionResultColumns()){if(d!=null){for(let h of d.getCodewords())if(h!=null){let x=h.getRowNumber();if(x>=0){if(x>=r.length)continue;r[x][o].setValue(h.getValue())}}}o++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,o,d){let h=d?1:-1,x=null;if(Tt.isValidBarcodeColumn(n,r-h)&&(x=n.getDetectionResultColumn(r-h).getCodeword(o)),x!=null)return d?x.getEndX():x.getStartX();if(x=n.getDetectionResultColumn(r).getCodewordNearby(o),x!=null)return d?x.getStartX():x.getEndX();if(Tt.isValidBarcodeColumn(n,r-h)&&(x=n.getDetectionResultColumn(r-h).getCodewordNearby(o)),x!=null)return d?x.getEndX():x.getStartX();let b=0;for(;Tt.isValidBarcodeColumn(n,r-h);){r-=h;for(let N of n.getDetectionResultColumn(r).getCodewords())if(N!=null)return(d?N.getEndX():N.getStartX())+h*b*(N.getEndX()-N.getStartX());b++}return d?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,o,d,h,x,b,N){h=Tt.adjustCodewordStartColumn(n,r,o,d,h,x);let E=Tt.getModuleBitCount(n,r,o,d,h,x);if(E==null)return null;let k,I=ot.sum(E);if(d)k=h+I;else{for(let ce=0;ce<E.length/2;ce++){let fe=E[ce];E[ce]=E[E.length-1-ce],E[E.length-1-ce]=fe}k=h,h=k-I}if(!Tt.checkCodewordSkew(I,b,N))return null;let z=cs.getDecodedValue(E),Q=mt.getCodeword(z);return Q===-1?null:new ea(h,k,Tt.getCodewordBucketNumber(z),Q)}static getModuleBitCount(n,r,o,d,h,x){let b=h,N=new Int32Array(8),E=0,k=d?1:-1,I=d;for(;(d?b<o:b>=r)&&E<N.length;)n.get(b,x)===I?(N[E]++,b+=k):(E++,I=!I);return E===N.length||b===(d?o:r)&&E===N.length-1?N:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,o,d,h,x){let b=h,N=d?-1:1;for(let E=0;E<2;E++){for(;(d?b>=r:b<o)&&d===n.get(b,x);){if(Math.abs(h-b)>Tt.CODEWORD_SKEW_SIZE)return h;b+=N}N=-N,d=!d}return b}static checkCodewordSkew(n,r,o){return r-Tt.CODEWORD_SKEW_SIZE<=n&&n<=o+Tt.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,o){if(n.length===0)throw X.getFormatInstance();let d=1<<r+1,h=Tt.correctErrors(n,o,d);Tt.verifyCodewordCount(n,d);let x=Be.decode(n,""+r);return x.setErrorsCorrected(h),x.setErasures(o.length),x}static correctErrors(n,r,o){if(r!=null&&r.length>o/2+Tt.MAX_ERRORS||o<0||o>Tt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return Tt.errorCorrection.decode(n,o,r)}static verifyCodewordCount(n,r){if(n.length<4)throw X.getFormatInstance();let o=n[0];if(o>n.length)throw X.getFormatInstance();if(o===0)if(r<n.length)n[0]=n.length-r;else throw X.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),o=0,d=r.length-1;for(;!((n&1)!==o&&(o=n&1,d--,d<0));)r[d]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Tt.getCodewordBucketNumber(Tt.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new Pi;for(let o=0;o<n.length;o++){r.format("Row %2d: ",o);for(let d=0;d<n[o].length;d++){let h=n[o][d];h.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}r.format("%n")}return r.toString()}}Tt.CODEWORD_SKEW_SIZE=2,Tt.MAX_ERRORS=3,Tt.MAX_EC_CODEWORDS=512,Tt.errorCorrection=new Fa;class us{decode(n,r=null){let o=us.decode(n,r,!1);if(o==null||o.length===0||o[0]==null)throw Z.getNotFoundInstance();return o[0]}decodeMultiple(n,r=null){try{return us.decode(n,r,!0)}catch(o){throw o instanceof X||o instanceof R?Z.getNotFoundInstance():o}}static decode(n,r,o){const d=new Array,h=St.detectMultiple(n,r,o);for(const x of h.getPoints()){const b=Tt.decode(h.getBits(),x[4],x[5],x[6],x[7],us.getMinCodewordWidth(x),us.getMaxCodewordWidth(x)),N=new be(b.getText(),b.getRawBytes(),void 0,x,te.PDF_417);N.putMetadata(xe.ERROR_CORRECTION_LEVEL,b.getECLevel());const E=b.getOther();E!=null&&N.putMetadata(xe.PDF417_EXTRA_METADATA,E),d.push(N)}return d.map(x=>x)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?L.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(us.getMaxWidth(n[0],n[4]),us.getMaxWidth(n[6],n[2])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN),Math.max(us.getMaxWidth(n[1],n[5]),us.getMaxWidth(n[7],n[3])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(us.getMinWidth(n[0],n[4]),us.getMinWidth(n[6],n[2])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN),Math.min(us.getMinWidth(n[1],n[5]),us.getMinWidth(n[7],n[3])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN)))}reset(){}}class el extends w{}el.kind="ReaderException";class vc{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!u(n)&&n.get(ae.TRY_HARDER)===!0,o=u(n)?null:n.get(ae.POSSIBLE_FORMATS),d=new Array;if(!u(o)){const h=o.some(x=>x===te.UPC_A||x===te.UPC_E||x===te.EAN_13||x===te.EAN_8||x===te.CODABAR||x===te.CODE_39||x===te.CODE_93||x===te.CODE_128||x===te.ITF||x===te.RSS_14||x===te.RSS_EXPANDED);h&&!r&&d.push(new Qs(n,this.verbose)),o.includes(te.QR_CODE)&&d.push(new ka),o.includes(te.DATA_MATRIX)&&d.push(new Ta),o.includes(te.AZTEC)&&d.push(new Es),o.includes(te.PDF_417)&&d.push(new us),h&&r&&d.push(new Qs(n,this.verbose))}d.length===0&&(r||d.push(new Qs(n,this.verbose)),d.push(new ka),d.push(new Ta),d.push(new Es),d.push(new us),r&&d.push(new Qs(n,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new el("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(o){if(o instanceof el)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class Nc extends ie{constructor(n=null,r=500){const o=new vc;o.setHints(n),super(o,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Sd extends ie{constructor(n=500){super(new us,n)}}class jd extends ie{constructor(n=500){super(new ka,n)}}var to;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(to||(to={}));var Yn=to;class vr{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Ve(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let o=r[r.length-1];const d=this.field;for(let h=r.length;h<=n;h++){const x=o.multiply(new Ve(d,Int32Array.from([1,d.exp(h-1+d.getGeneratorBase())])));r.push(x),o=x}}return r[n]}encode(n,r){if(r===0)throw new j("No error correction bytes");const o=n.length-r;if(o<=0)throw new j("No data bytes provided");const d=this.buildGenerator(r),h=new Int32Array(o);D.arraycopy(n,0,h,0,o);let x=new Ve(this.field,h);x=x.multiplyByMonomial(r,1);const N=x.divide(d)[1].getCoefficients(),E=r-N.length;for(let k=0;k<E;k++)n[o+k]=0;D.arraycopy(N,0,n,o+E,N.length)}}class Rn{constructor(){}static applyMaskPenaltyRule1(n){return Rn.applyMaskPenaltyRule1Internal(n,!0)+Rn.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const o=n.getArray(),d=n.getWidth(),h=n.getHeight();for(let x=0;x<h-1;x++){const b=o[x];for(let N=0;N<d-1;N++){const E=b[N];E===b[N+1]&&E===o[x+1][N]&&E===o[x+1][N+1]&&r++}}return Rn.N2*r}static applyMaskPenaltyRule3(n){let r=0;const o=n.getArray(),d=n.getWidth(),h=n.getHeight();for(let x=0;x<h;x++)for(let b=0;b<d;b++){const N=o[x];b+6<d&&N[b]===1&&N[b+1]===0&&N[b+2]===1&&N[b+3]===1&&N[b+4]===1&&N[b+5]===0&&N[b+6]===1&&(Rn.isWhiteHorizontal(N,b-4,b)||Rn.isWhiteHorizontal(N,b+7,b+11))&&r++,x+6<h&&o[x][b]===1&&o[x+1][b]===0&&o[x+2][b]===1&&o[x+3][b]===1&&o[x+4][b]===1&&o[x+5][b]===0&&o[x+6][b]===1&&(Rn.isWhiteVertical(o,b,x-4,x)||Rn.isWhiteVertical(o,b,x+7,x+11))&&r++}return r*Rn.N3}static isWhiteHorizontal(n,r,o){r=Math.max(r,0),o=Math.min(o,n.length);for(let d=r;d<o;d++)if(n[d]===1)return!1;return!0}static isWhiteVertical(n,r,o,d){o=Math.max(o,0),d=Math.min(d,n.length);for(let h=o;h<d;h++)if(n[h][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const o=n.getArray(),d=n.getWidth(),h=n.getHeight();for(let N=0;N<h;N++){const E=o[N];for(let k=0;k<d;k++)E[k]===1&&r++}const x=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-x)*10/x)*Rn.N4}static getDataMaskBit(n,r,o){let d,h;switch(n){case 0:d=o+r&1;break;case 1:d=o&1;break;case 2:d=r%3;break;case 3:d=(o+r)%3;break;case 4:d=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:h=o*r,d=(h&1)+h%3;break;case 6:h=o*r,d=(h&1)+h%3&1;break;case 7:h=o*r,d=h%3+(o+r&1)&1;break;default:throw new j("Invalid mask pattern: "+n)}return d===0}static applyMaskPenaltyRule1Internal(n,r){let o=0;const d=r?n.getHeight():n.getWidth(),h=r?n.getWidth():n.getHeight(),x=n.getArray();for(let b=0;b<d;b++){let N=0,E=-1;for(let k=0;k<h;k++){const I=r?x[b][k]:x[k][b];I===E?N++:(N>=5&&(o+=Rn.N1+(N-5)),N=1,E=I)}N>=5&&(o+=Rn.N1+(N-5))}return o}}Rn.N1=3,Rn.N2=3,Rn.N3=40,Rn.N4=10;class tl{constructor(n,r){this.width=n,this.height=r;const o=new Array(r);for(let d=0;d!==r;d++)o[d]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,o){this.bytes[r][n]=o}setBoolean(n,r,o){this.bytes[r][n]=o?1:0}clear(n){for(const r of this.bytes)O.fill(r,n)}equals(n){if(!(n instanceof tl))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,d=this.height;o<d;++o){const h=this.bytes[o],x=r.bytes[o];for(let b=0,N=this.width;b<N;++b)if(h[b]!==x[b])return!1}return!0}toString(){const n=new oe;for(let r=0,o=this.height;r<o;++r){const d=this.bytes[r];for(let h=0,x=this.width;h<x;++h)switch(d[h]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class ri{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new oe;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<ri.NUM_MASK_PATTERNS}}ri.NUM_MASK_PATTERNS=8;class ln extends w{}ln.kind="WriterException";class xt{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,o,d,h){xt.clearMatrix(h),xt.embedBasicPatterns(o,h),xt.embedTypeInfo(r,d,h),xt.maybeEmbedVersionInfo(o,h),xt.embedDataBits(n,d,h)}static embedBasicPatterns(n,r){xt.embedPositionDetectionPatternsAndSeparators(r),xt.embedDarkDotAtLeftBottomCorner(r),xt.maybeEmbedPositionAdjustmentPatterns(n,r),xt.embedTimingPatterns(r)}static embedTypeInfo(n,r,o){const d=new W;xt.makeTypeInfoBits(n,r,d);for(let h=0,x=d.getSize();h<x;++h){const b=d.get(d.getSize()-1-h),N=xt.TYPE_INFO_COORDINATES[h],E=N[0],k=N[1];if(o.setBoolean(E,k,b),h<8){const I=o.getWidth()-h-1;o.setBoolean(I,8,b)}else{const z=o.getHeight()-7+(h-8);o.setBoolean(8,z,b)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const o=new W;xt.makeVersionInfoBits(n,o);let d=17;for(let h=0;h<6;++h)for(let x=0;x<3;++x){const b=o.get(d);d--,r.setBoolean(h,r.getHeight()-11+x,b),r.setBoolean(r.getHeight()-11+x,h,b)}}static embedDataBits(n,r,o){let d=0,h=-1,x=o.getWidth()-1,b=o.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);b>=0&&b<o.getHeight();){for(let N=0;N<2;++N){const E=x-N;if(!xt.isEmpty(o.get(E,b)))continue;let k;d<n.getSize()?(k=n.get(d),++d):k=!1,r!==255&&Rn.getDataMaskBit(r,E,b)&&(k=!k),o.setBoolean(E,b,k)}b+=h}h=-h,b+=h,x-=2}if(d!==n.getSize())throw new ln("Not all bits consumed: "+d+"/"+n.getSize())}static findMSBSet(n){return 32-L.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new j("0 polynomial");const o=xt.findMSBSet(r);for(n<<=o-1;xt.findMSBSet(n)>=o;)n^=r<<xt.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,r,o){if(!ri.isValidMaskPattern(r))throw new ln("Invalid mask pattern");const d=n.getBits()<<3|r;o.appendBits(d,5);const h=xt.calculateBCHCode(d,xt.TYPE_INFO_POLY);o.appendBits(h,10);const x=new W;if(x.appendBits(xt.TYPE_INFO_MASK_PATTERN,15),o.xor(x),o.getSize()!==15)throw new ln("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const o=xt.calculateBCHCode(n.getVersionNumber(),xt.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new ln("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const o=(r+1)%2;xt.isEmpty(n.get(r,6))&&n.setNumber(r,6,o),xt.isEmpty(n.get(6,r))&&n.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new ln;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,o){for(let d=0;d<8;++d){if(!xt.isEmpty(o.get(n+d,r)))throw new ln;o.setNumber(n+d,r,0)}}static embedVerticalSeparationPattern(n,r,o){for(let d=0;d<7;++d){if(!xt.isEmpty(o.get(n,r+d)))throw new ln;o.setNumber(n,r+d,0)}}static embedPositionAdjustmentPattern(n,r,o){for(let d=0;d<5;++d){const h=xt.POSITION_ADJUSTMENT_PATTERN[d];for(let x=0;x<5;++x)o.setNumber(n+x,r+d,h[x])}}static embedPositionDetectionPattern(n,r,o){for(let d=0;d<7;++d){const h=xt.POSITION_DETECTION_PATTERN[d];for(let x=0;x<7;++x)o.setNumber(n+x,r+d,h[x])}}static embedPositionDetectionPatternsAndSeparators(n){const r=xt.POSITION_DETECTION_PATTERN[0].length;xt.embedPositionDetectionPattern(0,0,n),xt.embedPositionDetectionPattern(n.getWidth()-r,0,n),xt.embedPositionDetectionPattern(0,n.getWidth()-r,n);const o=8;xt.embedHorizontalSeparationPattern(0,o-1,n),xt.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),xt.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const d=7;xt.embedVerticalSeparationPattern(d,0,n),xt.embedVerticalSeparationPattern(n.getHeight()-d-1,0,n),xt.embedVerticalSeparationPattern(d,n.getHeight()-d,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,d=xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let h=0,x=d.length;h!==x;h++){const b=d[h];if(b>=0)for(let N=0;N!==x;N++){const E=d[N];E>=0&&xt.isEmpty(r.get(E,b))&&xt.embedPositionAdjustmentPattern(E-2,b-2,r)}}}}xt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xt.VERSION_INFO_POLY=7973,xt.TYPE_INFO_POLY=1335,xt.TYPE_INFO_MASK_PATTERN=21522;class Ed{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class vn{constructor(){}static calculateMaskPenalty(n){return Rn.applyMaskPenaltyRule1(n)+Rn.applyMaskPenaltyRule2(n)+Rn.applyMaskPenaltyRule3(n)+Rn.applyMaskPenaltyRule4(n)}static encode(n,r,o=null){let d=vn.DEFAULT_BYTE_MODE_ENCODING;const h=o!==null&&o.get(Yn.CHARACTER_SET)!==void 0;h&&(d=o.get(Yn.CHARACTER_SET).toString());const x=this.chooseMode(n,d),b=new W;if(x===dt.BYTE&&(h||vn.DEFAULT_BYTE_MODE_ENCODING!==d)){const We=q.getCharacterSetECIByName(d);We!==void 0&&this.appendECI(We,b)}this.appendModeInfo(x,b);const N=new W;this.appendBytes(n,x,N,d);let E;if(o!==null&&o.get(Yn.QR_VERSION)!==void 0){const We=Number.parseInt(o.get(Yn.QR_VERSION).toString(),10);E=lt.getVersionForNumber(We);const He=this.calculateBitsNeeded(x,b,N,E);if(!this.willFit(He,E,r))throw new ln("Data too big for requested version")}else E=this.recommendVersion(r,x,b,N);const k=new W;k.appendBitArray(b);const I=x===dt.BYTE?N.getSizeInBytes():n.length;this.appendLengthInfo(I,E,x,k),k.appendBitArray(N);const z=E.getECBlocksForLevel(r),Q=E.getTotalCodewords()-z.getTotalECCodewords();this.terminateBits(Q,k);const ce=this.interleaveWithECBytes(k,E.getTotalCodewords(),Q,z.getNumBlocks()),fe=new ri;fe.setECLevel(r),fe.setMode(x),fe.setVersion(E);const ve=E.getDimensionForVersion(),Oe=new tl(ve,ve),Ke=this.chooseMaskPattern(ce,r,E,Oe);return fe.setMaskPattern(Ke),xt.buildMatrix(ce,r,E,Ke,Oe),fe.setMatrix(Oe),fe}static recommendVersion(n,r,o,d){const h=this.calculateBitsNeeded(r,o,d,lt.getVersionForNumber(1)),x=this.chooseVersion(h,n),b=this.calculateBitsNeeded(r,o,d,x);return this.chooseVersion(b,n)}static calculateBitsNeeded(n,r,o,d){return r.getSize()+n.getCharacterCountBits(d)+o.getSize()}static getAlphanumericCode(n){return n<vn.ALPHANUMERIC_TABLE.length?vn.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(q.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return dt.KANJI;let o=!1,d=!1;for(let h=0,x=n.length;h<x;++h){const b=n.charAt(h);if(vn.isDigit(b))o=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)d=!0;else return dt.BYTE}return d?dt.ALPHANUMERIC:o?dt.NUMERIC:dt.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=Ce.encode(n,q.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let d=0;d<o;d+=2){const h=r[d]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(n,r,o,d){let h=Number.MAX_SAFE_INTEGER,x=-1;for(let b=0;b<ri.NUM_MASK_PATTERNS;b++){xt.buildMatrix(n,r,o,b,d);let N=this.calculateMaskPenalty(d);N<h&&(h=N,x=b)}return x}static chooseVersion(n,r){for(let o=1;o<=40;o++){const d=lt.getVersionForNumber(o);if(vn.willFit(n,d,r))return d}throw new ln("Data too big")}static willFit(n,r,o){const d=r.getTotalCodewords(),x=r.getECBlocksForLevel(o).getTotalECCodewords(),b=d-x,N=(n+7)/8;return b>=N}static terminateBits(n,r){const o=n*8;if(r.getSize()>o)throw new ln("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let x=0;x<4&&r.getSize()<o;++x)r.appendBit(!1);const d=r.getSize()&7;if(d>0)for(let x=d;x<8;x++)r.appendBit(!1);const h=n-r.getSizeInBytes();for(let x=0;x<h;++x)r.appendBits((x&1)===0?236:17,8);if(r.getSize()!==o)throw new ln("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,o,d,h,x){if(d>=o)throw new ln("Block ID too large");const b=n%o,N=o-b,E=Math.floor(n/o),k=E+1,I=Math.floor(r/o),z=I+1,Q=E-I,ce=k-z;if(Q!==ce)throw new ln("EC bytes mismatch");if(o!==N+b)throw new ln("RS blocks mismatch");if(n!==(I+Q)*N+(z+ce)*b)throw new ln("Total bytes mismatch");d<N?(h[0]=I,x[0]=Q):(h[0]=z,x[0]=ce)}static interleaveWithECBytes(n,r,o,d){if(n.getSizeInBytes()!==o)throw new ln("Number of bits and data bytes does not match");let h=0,x=0,b=0;const N=new Array;for(let k=0;k<d;++k){const I=new Int32Array(1),z=new Int32Array(1);vn.getNumDataBytesAndNumECBytesForBlockID(r,o,d,k,I,z);const Q=I[0],ce=new Uint8Array(Q);n.toBytes(8*h,ce,0,Q);const fe=vn.generateECBytes(ce,z[0]);N.push(new Ed(ce,fe)),x=Math.max(x,Q),b=Math.max(b,fe.length),h+=I[0]}if(o!==h)throw new ln("Data bytes does not match offset");const E=new W;for(let k=0;k<x;++k)for(const I of N){const z=I.getDataBytes();k<z.length&&E.appendBits(z[k],8)}for(let k=0;k<b;++k)for(const I of N){const z=I.getErrorCorrectionBytes();k<z.length&&E.appendBits(z[k],8)}if(r!==E.getSizeInBytes())throw new ln("Interleaving error: "+r+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(n,r){const o=n.length,d=new Int32Array(o+r);for(let x=0;x<o;x++)d[x]=n[x]&255;new vr(pe.QR_CODE_FIELD_256).encode(d,r);const h=new Uint8Array(r);for(let x=0;x<r;x++)h[x]=d[o+x];return h}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,o,d){const h=o.getCharacterCountBits(r);if(n>=1<<h)throw new ln(n+" is bigger than "+((1<<h)-1));d.appendBits(n,h)}static appendBytes(n,r,o,d){switch(r){case dt.NUMERIC:vn.appendNumericBytes(n,o);break;case dt.ALPHANUMERIC:vn.appendAlphanumericBytes(n,o);break;case dt.BYTE:vn.append8BitBytes(n,o,d);break;case dt.KANJI:vn.appendKanjiBytes(n,o);break;default:throw new ln("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=vn.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const o=n.length;let d=0;for(;d<o;){const h=vn.getDigit(n.charAt(d));if(d+2<o){const x=vn.getDigit(n.charAt(d+1)),b=vn.getDigit(n.charAt(d+2));r.appendBits(h*100+x*10+b,10),d+=3}else if(d+1<o){const x=vn.getDigit(n.charAt(d+1));r.appendBits(h*10+x,7),d+=2}else r.appendBits(h,4),d++}}static appendAlphanumericBytes(n,r){const o=n.length;let d=0;for(;d<o;){const h=vn.getAlphanumericCode(n.charCodeAt(d));if(h===-1)throw new ln;if(d+1<o){const x=vn.getAlphanumericCode(n.charCodeAt(d+1));if(x===-1)throw new ln;r.appendBits(h*45+x,11),d+=2}else r.appendBits(h,6),d++}}static append8BitBytes(n,r,o){let d;try{d=Ce.encode(n,o)}catch(h){throw new ln(h)}for(let h=0,x=d.length;h!==x;h++){const b=d[h];r.appendBits(b,8)}}static appendKanjiBytes(n,r){let o;try{o=Ce.encode(n,q.SJIS)}catch(h){throw new ln(h)}const d=o.length;for(let h=0;h<d;h+=2){const x=o[h]&255,b=o[h+1]&255,N=x<<8&4294967295|b;let E=-1;if(N>=33088&&N<=40956?E=N-33088:N>=57408&&N<=60351&&(E=N-49472),E===-1)throw new ln("Invalid byte sequence");const k=(E>>8)*192+(E&255);r.appendBits(k,13)}}static appendECI(n,r){r.appendBits(dt.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}vn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),vn.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class li{write(n,r,o,d=null){if(n.length===0)throw new j("Found empty contents");if(r<0||o<0)throw new j("Requested dimensions are too small: "+r+"x"+o);let h=Mt.L,x=li.QUIET_ZONE_SIZE;d!==null&&(d.get(Yn.ERROR_CORRECTION)!==void 0&&(h=Mt.fromString(d.get(Yn.ERROR_CORRECTION).toString())),d.get(Yn.MARGIN)!==void 0&&(x=Number.parseInt(d.get(Yn.MARGIN).toString(),10)));const b=vn.encode(n,h,d);return this.renderResult(b,r,o,x)}writeToDom(n,r,o,d,h=null){typeof n=="string"&&(n=document.querySelector(n));const x=this.write(r,o,d,h);n&&n.appendChild(x)}renderResult(n,r,o,d){const h=n.getMatrix();if(h===null)throw new Se;const x=h.getWidth(),b=h.getHeight(),N=x+d*2,E=b+d*2,k=Math.max(r,N),I=Math.max(o,E),z=Math.min(Math.floor(k/N),Math.floor(I/E)),Q=Math.floor((k-x*z)/2),ce=Math.floor((I-b*z)/2),fe=this.createSVGElement(k,I);for(let ve=0,Oe=ce;ve<b;ve++,Oe+=z)for(let Ke=0,We=Q;Ke<x;Ke++,We+=z)if(h.get(Ke,ve)===1){const He=this.createSvgRectElement(We,Oe,z,z);fe.appendChild(He)}return fe}createSVGElement(n,r){const o=document.createElementNS(li.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(n,r,o,d){const h=document.createElementNS(li.SVG_NS,"rect");return h.setAttributeNS(null,"x",n.toString()),h.setAttributeNS(null,"y",r.toString()),h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",d.toString()),h.setAttributeNS(null,"fill","#000000"),h}}li.QUIET_ZONE_SIZE=4,li.SVG_NS="http://www.w3.org/2000/svg";class zi{encode(n,r,o,d,h){if(n.length===0)throw new j("Found empty contents");if(r!==te.QR_CODE)throw new j("Can only encode QR_CODE, but got "+r);if(o<0||d<0)throw new j(`Requested dimensions are too small: ${o}x${d}`);let x=Mt.L,b=zi.QUIET_ZONE_SIZE;h!==null&&(h.get(Yn.ERROR_CORRECTION)!==void 0&&(x=Mt.fromString(h.get(Yn.ERROR_CORRECTION).toString())),h.get(Yn.MARGIN)!==void 0&&(b=Number.parseInt(h.get(Yn.MARGIN).toString(),10)));const N=vn.encode(n,x,h);return zi.renderResult(N,o,d,b)}static renderResult(n,r,o,d){const h=n.getMatrix();if(h===null)throw new Se;const x=h.getWidth(),b=h.getHeight(),N=x+d*2,E=b+d*2,k=Math.max(r,N),I=Math.max(o,E),z=Math.min(Math.floor(k/N),Math.floor(I/E)),Q=Math.floor((k-x*z)/2),ce=Math.floor((I-b*z)/2),fe=new ge(k,I);for(let ve=0,Oe=ce;ve<b;ve++,Oe+=z)for(let Ke=0,We=Q;Ke<x;Ke++,We+=z)h.get(Ke,ve)===1&&fe.setRegion(We,Oe,z,z);return fe}}zi.QUIET_ZONE_SIZE=4;class Ad{encode(n,r,o,d,h){let x;if(r===te.QR_CODE)x=new zi;else throw new j("No encoder available for format "+r);return x.encode(n,r,o,d,h)}}class da extends ke{constructor(n,r,o,d,h,x,b,N){if(super(x,b),this.yuvData=n,this.dataWidth=r,this.dataHeight=o,this.left=d,this.top=h,d+x>r||h+b>o)throw new j("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(x,b)}getRow(n,r){if(n<0||n>=this.getHeight())throw new j("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const d=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,d,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=n*r,d=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.yuvData,h,d,0,o),d;for(let x=0;x<r;x++){const b=x*n;D.arraycopy(this.yuvData,h,d,b,n),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(n,r,o,d){return new da(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,o,d,!1)}renderThumbnail(){const n=this.getWidth()/da.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/da.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*r),d=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let x=0;x<r;x++){const b=x*n;for(let N=0;N<n;N++){const E=d[h+N*da.THUMBNAIL_SCALE_FACTOR]&255;o[b+N]=4278190080|E*65793}h+=this.dataWidth*da.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/da.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/da.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const o=this.yuvData;for(let d=0,h=this.top*this.dataWidth+this.left;d<r;d++,h+=this.dataWidth){const x=h+n/2;for(let b=h,N=h+n-1;b<x;b++,N--){const E=o[b];o[b]=o[N],o[N]=E}}}invert(){return new ne(this)}}da.THUMBNAIL_SCALE_FACTOR=2;class no extends ke{constructor(n,r,o,d,h,x,b){if(super(r,o),this.dataWidth=d,this.dataHeight=h,this.left=x,this.top=b,n.BYTES_PER_ELEMENT===4){const N=r*o,E=new Uint8ClampedArray(N);for(let k=0;k<N;k++){const I=n[k],z=I>>16&255,Q=I>>7&510,ce=I&255;E[k]=(z+Q+ce)/4&255}this.luminances=E}else this.luminances=n;if(d===void 0&&(this.dataWidth=r),h===void 0&&(this.dataHeight=o),x===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new j("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new j("Requested row is outside the image: "+n);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const d=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,d,r,0,o),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=n*r,d=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.luminances,h,d,0,o),d;for(let x=0;x<r;x++){const b=x*n;D.arraycopy(this.luminances,h,d,b,n),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(n,r,o,d){return new no(this.luminances,o,d,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new ne(this)}}class Cc extends q{static forName(n){return this.getCharacterSetECIByName(n)}}class Nr{}Nr.ISO_8859_1=q.ISO8859_1;class Ui{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Sc{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class jc{constructor(n){this.previous=n}getPrevious(){return this.previous}}class oi extends jc{constructor(n,r,o){super(n),this.value=r,this.bitCount=o}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new oi(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new oi(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+L.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class nl extends oi{constructor(n,r,o){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(n,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(n,r){return new nl(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ec(M,n,r){return new nl(M,n,r)}function Vi(M,n,r){return new oi(M,n,r)}const Hi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ga=0,sl=1,$s=2,so=3,ta=4,Cr=new oi(null,0,0),ci=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function _d(M){for(let n of M)O.fill(n,-1);return M[Ga][ta]=0,M[sl][ta]=0,M[sl][Ga]=28,M[so][ta]=0,M[$s][ta]=0,M[$s][Ga]=15,M}const Sr=_d(O.createInt32Array(6,6));class na{constructor(n,r,o,d){this.token=n,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let o=this.bitCount,d=this.token;if(n!==this.mode){let x=ci[this.mode][n];d=Vi(d,x&65535,x>>16),o+=x>>16}let h=n===$s?4:5;return d=Vi(d,r,h),new na(d,n,0,o+h)}shiftAndAppend(n,r){let o=this.token,d=this.mode===$s?4:5;return o=Vi(o,Sr[this.mode][n],d),o=Vi(o,r,5),new na(o,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(n){let r=this.token,o=this.mode,d=this.bitCount;if(this.mode===ta||this.mode===$s){let b=ci[o][Ga];r=Vi(r,b&65535,b>>16),d+=b>>16,o=Ga}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new na(r,o,this.binaryShiftByteCount+1,d+h);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(n+1)),x}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Ec(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new na(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(ci[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=na.calculateBinaryShiftCost(n)-na.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let d=this.endBinaryShift(n.length).token;d!==null;d=d.getPrevious())r.unshift(d);let o=new W;for(const d of r)d.appendTo(o,n);return o}toString(){return he.format("%s bits=%d bytes=%d",Hi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}na.INITIAL_STATE=new na(Cr,Ga,0,0);function Ac(M){const n=he.getCharCode(" "),r=he.getCharCode("."),o=he.getCharCode(",");M[Ga][n]=1;const d=he.getCharCode("Z"),h=he.getCharCode("A");for(let z=h;z<=d;z++)M[Ga][z]=z-h+2;M[sl][n]=1;const x=he.getCharCode("z"),b=he.getCharCode("a");for(let z=b;z<=x;z++)M[sl][z]=z-b+2;M[$s][n]=1;const N=he.getCharCode("9"),E=he.getCharCode("0");for(let z=E;z<=N;z++)M[$s][z]=z-E+2;M[$s][o]=12,M[$s][r]=13;const k=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let z=0;z<k.length;z++)M[so][he.getCharCode(k[z])]=z;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let z=0;z<I.length;z++)he.getCharCode(I[z])>0&&(M[ta][he.getCharCode(I[z])]=z);return M}const jr=Ac(O.createInt32Array(5,256));class ui{constructor(n){this.text=n}encode(){const n=he.getCharCode(" "),r=he.getCharCode(`
`);let o=Sc.singletonList(na.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let x,b=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case he.getCharCode("\r"):x=b===r?2:0;break;case he.getCharCode("."):x=b===n?3:0;break;case he.getCharCode(","):x=b===n?4:0;break;case he.getCharCode(":"):x=b===n?5:0;break;default:x=0}x>0?(o=ui.updateStateListForPair(o,h,x),h++):o=this.updateStateListForChar(o,h)}return Sc.min(o,(h,x)=>h.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const o=[];for(let d of n)this.updateStateForChar(d,r,o);return ui.simplifyStates(o)}updateStateForChar(n,r,o){let d=this.text[r]&255,h=jr[n.getMode()][d]>0,x=null;for(let b=0;b<=ta;b++){let N=jr[b][d];if(N>0){if(x==null&&(x=n.endBinaryShift(r)),!h||b===n.getMode()||b===$s){const E=x.latchAndAppend(b,N);o.push(E)}if(!h&&Sr[n.getMode()][b]>=0){const E=x.shiftAndAppend(b,N);o.push(E)}}}if(n.getBinaryShiftByteCount()>0||jr[n.getMode()][d]===0){let b=n.addBinaryShiftChar(r);o.push(b)}}static updateStateListForPair(n,r,o){const d=[];for(let h of n)this.updateStateForPair(h,r,o,d);return this.simplifyStates(d)}static updateStateForPair(n,r,o,d){let h=n.endBinaryShift(r);if(d.push(h.latchAndAppend(ta,o)),n.getMode()!==ta&&d.push(h.shiftAndAppend(ta,o)),o===3||o===4){let x=h.latchAndAppend($s,16-o).latchAndAppend($s,1);d.push(x)}if(n.getBinaryShiftByteCount()>0){let x=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);d.push(x)}}static simplifyStates(n){let r=[];for(const o of n){let d=!0;for(const h of r){if(h.isBetterThanOrEqualTo(o)){d=!1;break}o.isBetterThanOrEqualTo(h)&&(r=r.filter(x=>x!==h))}d&&r.push(o)}return r}}class zt{constructor(){}static encodeBytes(n){return zt.encode(n,zt.DEFAULT_EC_PERCENT,zt.DEFAULT_AZTEC_LAYERS)}static encode(n,r,o){let d=new ui(n).encode(),h=L.truncDivision(d.getSize()*r,100)+11,x=d.getSize()+h,b,N,E,k,I;if(o!==zt.DEFAULT_AZTEC_LAYERS){if(b=o<0,N=Math.abs(o),N>(b?zt.MAX_NB_BITS_COMPACT:zt.MAX_NB_BITS))throw new j(he.format("Illegal value %s for layers",o));E=zt.totalBitsInLayer(N,b),k=zt.WORD_SIZE[N];let He=E-E%k;if(I=zt.stuffBits(d,k),I.getSize()+h>He)throw new j("Data to large for user specified layer");if(b&&I.getSize()>k*64)throw new j("Data to large for user specified layer")}else{k=0,I=null;for(let He=0;;He++){if(He>zt.MAX_NB_BITS)throw new j("Data too large for an Aztec code");if(b=He<=3,N=b?He+1:He,E=zt.totalBitsInLayer(N,b),x>E)continue;(I==null||k!==zt.WORD_SIZE[N])&&(k=zt.WORD_SIZE[N],I=zt.stuffBits(d,k));let Rt=E-E%k;if(!(b&&I.getSize()>k*64)&&I.getSize()+h<=Rt)break}}let z=zt.generateCheckWords(I,E,k),Q=I.getSize()/k,ce=zt.generateModeMessage(b,N,Q),fe=(b?11:14)+N*4,ve=new Int32Array(fe),Oe;if(b){Oe=fe;for(let He=0;He<ve.length;He++)ve[He]=He}else{Oe=fe+1+2*L.truncDivision(L.truncDivision(fe,2)-1,15);let He=L.truncDivision(fe,2),Rt=L.truncDivision(Oe,2);for(let Et=0;Et<He;Et++){let zn=Et+L.truncDivision(Et,15);ve[He-Et-1]=Rt-zn-1,ve[He+Et]=Rt+zn+1}}let Ke=new ge(Oe);for(let He=0,Rt=0;He<N;He++){let Et=(N-He)*4+(b?9:12);for(let zn=0;zn<Et;zn++){let zs=zn*2;for(let gs=0;gs<2;gs++)z.get(Rt+zs+gs)&&Ke.set(ve[He*2+gs],ve[He*2+zn]),z.get(Rt+Et*2+zs+gs)&&Ke.set(ve[He*2+zn],ve[fe-1-He*2-gs]),z.get(Rt+Et*4+zs+gs)&&Ke.set(ve[fe-1-He*2-gs],ve[fe-1-He*2-zn]),z.get(Rt+Et*6+zs+gs)&&Ke.set(ve[fe-1-He*2-zn],ve[He*2+gs])}Rt+=Et*8}if(zt.drawModeMessage(Ke,b,Oe,ce),b)zt.drawBullsEye(Ke,L.truncDivision(Oe,2),5);else{zt.drawBullsEye(Ke,L.truncDivision(Oe,2),7);for(let He=0,Rt=0;He<L.truncDivision(fe,2)-1;He+=15,Rt+=16)for(let Et=L.truncDivision(Oe,2)&1;Et<Oe;Et+=2)Ke.set(L.truncDivision(Oe,2)-Rt,Et),Ke.set(L.truncDivision(Oe,2)+Rt,Et),Ke.set(Et,L.truncDivision(Oe,2)-Rt),Ke.set(Et,L.truncDivision(Oe,2)+Rt)}let We=new Ui;return We.setCompact(b),We.setSize(Oe),We.setLayers(N),We.setCodeWords(Q),We.setMatrix(Ke),We}static drawBullsEye(n,r,o){for(let d=0;d<o;d+=2)for(let h=r-d;h<=r+d;h++)n.set(h,r-d),n.set(h,r+d),n.set(r-d,h),n.set(r+d,h);n.set(r-o,r-o),n.set(r-o+1,r-o),n.set(r-o,r-o+1),n.set(r+o,r-o),n.set(r+o,r-o+1),n.set(r+o,r+o-1)}static generateModeMessage(n,r,o){let d=new W;return n?(d.appendBits(r-1,2),d.appendBits(o-1,6),d=zt.generateCheckWords(d,28,4)):(d.appendBits(r-1,5),d.appendBits(o-1,11),d=zt.generateCheckWords(d,40,4)),d}static drawModeMessage(n,r,o,d){let h=L.truncDivision(o,2);if(r)for(let x=0;x<7;x++){let b=h-3+x;d.get(x)&&n.set(b,h-5),d.get(x+7)&&n.set(h+5,b),d.get(20-x)&&n.set(b,h+5),d.get(27-x)&&n.set(h-5,b)}else for(let x=0;x<10;x++){let b=h-5+x+L.truncDivision(x,5);d.get(x)&&n.set(b,h-7),d.get(x+10)&&n.set(h+7,b),d.get(29-x)&&n.set(b,h+7),d.get(39-x)&&n.set(h-7,b)}}static generateCheckWords(n,r,o){let d=n.getSize()/o,h=new vr(zt.getGF(o)),x=L.truncDivision(r,o),b=zt.bitsToWords(n,o,x);h.encode(b,x-d);let N=r%o,E=new W;E.appendBits(0,N);for(const k of Array.from(b))E.appendBits(k,o);return E}static bitsToWords(n,r,o){let d=new Int32Array(o),h,x;for(h=0,x=n.getSize()/r;h<x;h++){let b=0;for(let N=0;N<r;N++)b|=n.get(h*r+N)?1<<r-N-1:0;d[h]=b}return d}static getGF(n){switch(n){case 4:return pe.AZTEC_PARAM;case 6:return pe.AZTEC_DATA_6;case 8:return pe.AZTEC_DATA_8;case 10:return pe.AZTEC_DATA_10;case 12:return pe.AZTEC_DATA_12;default:throw new j("Unsupported word size "+n)}}static stuffBits(n,r){let o=new W,d=n.getSize(),h=(1<<r)-2;for(let x=0;x<d;x+=r){let b=0;for(let N=0;N<r;N++)(x+N>=d||n.get(x+N))&&(b|=1<<r-1-N);(b&h)===h?(o.appendBits(b&h,r),x--):(b&h)===0?(o.appendBits(b|1,r),x--):o.appendBits(b,r)}return o}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}zt.DEFAULT_EC_PERCENT=33,zt.DEFAULT_AZTEC_LAYERS=0,zt.MAX_NB_BITS=32,zt.MAX_NB_BITS_COMPACT=4,zt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Er{encode(n,r,o,d){return this.encodeWithHints(n,r,o,d,null)}encodeWithHints(n,r,o,d,h){let x=Nr.ISO_8859_1,b=zt.DEFAULT_EC_PERCENT,N=zt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Yn.CHARACTER_SET)&&(x=Cc.forName(h.get(Yn.CHARACTER_SET).toString())),h.has(Yn.ERROR_CORRECTION)&&(b=L.parseInt(h.get(Yn.ERROR_CORRECTION).toString())),h.has(Yn.AZTEC_LAYERS)&&(N=L.parseInt(h.get(Yn.AZTEC_LAYERS).toString()))),Er.encodeLayers(n,r,o,d,x,b,N)}static encodeLayers(n,r,o,d,h,x,b){if(r!==te.AZTEC)throw new j("Can only encode AZTEC, but got "+r);let N=zt.encode(he.getBytes(n,h),x,b);return Er.renderResult(N,o,d)}static renderResult(n,r,o){let d=n.getMatrix();if(d==null)throw new Se;let h=d.getWidth(),x=d.getHeight(),b=Math.max(r,h),N=Math.max(o,x),E=Math.min(b/h,N/x),k=(b-h*E)/2,I=(N-x*E)/2,z=new ge(b,N);for(let Q=0,ce=I;Q<x;Q++,ce+=E)for(let fe=0,ve=k;fe<h;fe++,ve+=E)d.get(fe,Q)&&z.setRegion(ve,ce,E,E);return z}}l.AbstractExpandedDecoder=an,l.ArgumentException=A,l.ArithmeticException=Re,l.AztecCode=Ui,l.AztecCodeReader=Es,l.AztecCodeWriter=Er,l.AztecDecoder=et,l.AztecDetector=Mn,l.AztecDetectorResult=Fs,l.AztecEncoder=zt,l.AztecHighLevelEncoder=ui,l.AztecPoint=gt,l.BarcodeFormat=te,l.Binarizer=B,l.BinaryBitmap=T,l.BitArray=W,l.BitMatrix=ge,l.BitSource=Js,l.BrowserAztecCodeReader=Ea,l.BrowserBarcodeReader=vd,l.BrowserCodeReader=ie,l.BrowserDatamatrixCodeReader=Wr,l.BrowserMultiFormatReader=Nc,l.BrowserPDF417Reader=Sd,l.BrowserQRCodeReader=jd,l.BrowserQRCodeSvgWriter=li,l.CharacterSetECI=q,l.ChecksumException=R,l.Code128Reader=Xe,l.Code39Reader=qt,l.DataMatrixDecodedBitStreamParser=_a,l.DataMatrixReader=Ta,l.DecodeHintType=ae,l.DecoderResult=we,l.DefaultGridSampler=nt,l.DetectorResult=ls,l.EAN13Reader=Ie,l.EncodeHintType=Yn,l.Exception=w,l.FormatException=X,l.GenericGF=pe,l.GenericGFPoly=Ve,l.GlobalHistogramBinarizer=re,l.GridSampler=ut,l.GridSamplerInstance=rt,l.HTMLCanvasElementLuminanceSource=ee,l.HybridBinarizer=J,l.ITFReader=Ct,l.IllegalArgumentException=j,l.IllegalStateException=Se,l.InvertedLuminanceSource=ne,l.LuminanceSource=ke,l.MathUtils=ot,l.MultiFormatOneDReader=Qs,l.MultiFormatReader=vc,l.MultiFormatWriter=Ad,l.NotFoundException=Z,l.OneDReader=Bt,l.PDF417DecodedBitStreamParser=Be,l.PDF417DecoderErrorCorrection=Fa,l.PDF417Reader=us,l.PDF417ResultMetadata=$i,l.PerspectiveTransform=Ae,l.PlanarYUVLuminanceSource=da,l.QRCodeByteMatrix=tl,l.QRCodeDataMask=Os,l.QRCodeDecodedBitStreamParser=yn,l.QRCodeDecoderErrorCorrectionLevel=Mt,l.QRCodeDecoderFormatInformation=Jn,l.QRCodeEncoder=vn,l.QRCodeEncoderQRCode=ri,l.QRCodeMaskUtil=Rn,l.QRCodeMatrixUtil=xt,l.QRCodeMode=dt,l.QRCodeReader=ka,l.QRCodeVersion=lt,l.QRCodeWriter=zi,l.RGBLuminanceSource=no,l.RSS14Reader=rn,l.RSSExpandedReader=ze,l.ReaderException=el,l.ReedSolomonDecoder=Ge,l.ReedSolomonEncoder=vr,l.ReedSolomonException=Ue,l.Result=be,l.ResultMetadataType=xe,l.ResultPoint=Qe,l.StringUtils=he,l.UnsupportedOperationException=Y,l.VideoInputDevice=U,l.WhiteRectangleDetector=Fe,l.WriterException=ln,l.ZXingArrays=O,l.ZXingCharset=Cc,l.ZXingInteger=L,l.ZXingStandardCharsets=Nr,l.ZXingStringBuilder=oe,l.ZXingStringEncoding=Ce,l.ZXingSystem=D,l.createAbstractExpandedDecoder=Oi,Object.defineProperty(l,"__esModule",{value:!0})}))})(Yo,Yo.exports)),Yo.exports}var Tn=o8();const c8=cd(Tn),u8=zN({__proto__:null,default:c8},[Tn]);var qb=(function(){function s(i,l,u){if(this.formatMap=new Map([[at.QR_CODE,Tn.BarcodeFormat.QR_CODE],[at.AZTEC,Tn.BarcodeFormat.AZTEC],[at.CODABAR,Tn.BarcodeFormat.CODABAR],[at.CODE_39,Tn.BarcodeFormat.CODE_39],[at.CODE_93,Tn.BarcodeFormat.CODE_93],[at.CODE_128,Tn.BarcodeFormat.CODE_128],[at.DATA_MATRIX,Tn.BarcodeFormat.DATA_MATRIX],[at.MAXICODE,Tn.BarcodeFormat.MAXICODE],[at.ITF,Tn.BarcodeFormat.ITF],[at.EAN_13,Tn.BarcodeFormat.EAN_13],[at.EAN_8,Tn.BarcodeFormat.EAN_8],[at.PDF_417,Tn.BarcodeFormat.PDF_417],[at.RSS_14,Tn.BarcodeFormat.RSS_14],[at.RSS_EXPANDED,Tn.BarcodeFormat.RSS_EXPANDED],[at.UPC_A,Tn.BarcodeFormat.UPC_A],[at.UPC_E,Tn.BarcodeFormat.UPC_E],[at.UPC_EAN_EXTENSION,Tn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!u8)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=u;var f=this.createZXingFormats(i),p=new Map;p.set(Tn.DecodeHintType.POSSIBLE_FORMATS,f),p.set(Tn.DecodeHintType.TRY_HARDER,!1),this.hints=p}return s.prototype.decodeAsync=function(i){var l=this;return new Promise(function(u,f){try{u(l.decode(i))}catch(p){f(p)}})},s.prototype.decode=function(i){var l=new Tn.MultiFormatReader(this.verbose,this.hints),u=new Tn.HTMLCanvasElementLuminanceSource(i),f=new Tn.BinaryBitmap(new Tn.HybridBinarizer(u)),p=l.decode(f);return{text:p.text,format:mv.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},s.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(l,u,f){i.set(l,u)}),i},s.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},s.prototype.createZXingFormats=function(i){for(var l=[],u=0,f=i;u<f.length;u++){var p=f[u];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return l},s.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},s})(),d8=function(s,i,l,u){function f(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function v(A){try{w(u.next(A))}catch(j){g(j)}}function S(A){try{w(u.throw(A))}catch(j){g(j)}}function w(A){A.done?p(A.value):f(A.value).then(v,S)}w((u=u.apply(s,i||[])).next())})},h8=function(s,i){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,f,p,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(w){return function(A){return S([w,A])}}function S(w){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(l=0)),l;)try{if(u=1,f&&(p=w[0]&2?f.return:w[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,w[1])).done)return p;switch(f=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,f=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){l.label=w[1];break}if(w[0]===6&&l.label<p[1]){l.label=p[1],p=w;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(w);break}p[2]&&l.ops.pop(),l.trys.pop();continue}w=i.call(s,l)}catch(A){w=[6,A],f=0}finally{u=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Xb=(function(){function s(i,l,u){if(this.formatMap=new Map([[at.QR_CODE,"qr_code"],[at.AZTEC,"aztec"],[at.CODABAR,"codabar"],[at.CODE_39,"code_39"],[at.CODE_93,"code_93"],[at.CODE_128,"code_128"],[at.DATA_MATRIX,"data_matrix"],[at.ITF,"itf"],[at.EAN_13,"ean_13"],[at.EAN_8,"ean_8"],[at.PDF_417,"pdf417"],[at.UPC_A,"upc_a"],[at.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!s.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=u;var f=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return s.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},s.prototype.decodeAsync=function(i){return d8(this,void 0,void 0,function(){var l,u;return h8(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(i)];case 1:if(l=f.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(l),[2,{text:u.rawValue,format:mv.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},s.prototype.selectLargestBarcode=function(i){for(var l=null,u=0,f=0,p=i;f<p.length;f++){var g=p[f],v=g.boundingBox.width*g.boundingBox.height;v>u&&(u=v,l=g)}if(!l)throw"No largest barcode found";return l},s.prototype.createBarcodeDetectorFormats=function(i){for(var l=[],u=0,f=i;u<f.length;u++){var p=f[u];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},s.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},s.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(l,u,f){i.set(l,u)}),i},s.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},s})(),Yb=function(s,i,l,u){function f(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function v(A){try{w(u.next(A))}catch(j){g(j)}}function S(A){try{w(u.throw(A))}catch(j){g(j)}}function w(A){A.done?p(A.value):f(A.value).then(v,S)}w((u=u.apply(s,i||[])).next())})},Wb=function(s,i){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,f,p,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(w){return function(A){return S([w,A])}}function S(w){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(l=0)),l;)try{if(u=1,f&&(p=w[0]&2?f.return:w[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,w[1])).done)return p;switch(f=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,f=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){l.label=w[1];break}if(w[0]===6&&l.label<p[1]){l.label=p[1],p=w;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(w);break}p[2]&&l.ops.pop(),l.trys.pop();continue}w=i.call(s,l)}catch(A){w=[6,A],f=0}finally{u=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},f8=(function(){function s(i,l,u,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,l&&Xb.isSupported()?(this.primaryDecoder=new Xb(i,u,f),this.secondaryDecoder=new qb(i,u,f)):this.primaryDecoder=new qb(i,u,f)}return s.prototype.decodeAsync=function(i){return Yb(this,void 0,void 0,function(){var l;return Wb(this,function(u){switch(u.label){case 0:l=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},s.prototype.decodeRobustlyAsync=function(i){return Yb(this,void 0,void 0,function(){var l,u;return Wb(this,function(f){switch(f.label){case 0:l=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,f.sent()];case 3:if(u=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw u;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},s.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},s.prototype.possiblyLogPerformance=function(i){if(this.verbose){var l=performance.now()-i;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},s.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,l=0,u=this.executionResults;l<u.length;l++){var f=u[l];i+=f}var p=i/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},s})(),Rm=(function(){var s=function(i,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])},s(i,l)};return function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");s(i,l);function u(){this.constructor=i}i.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}})(),ld=function(s,i,l,u){function f(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function v(A){try{w(u.next(A))}catch(j){g(j)}}function S(A){try{w(u.throw(A))}catch(j){g(j)}}function w(A){A.done?p(A.value):f(A.value).then(v,S)}w((u=u.apply(s,i||[])).next())})},od=function(s,i){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,f,p,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(w){return function(A){return S([w,A])}}function S(w){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(l=0)),l;)try{if(u=1,f&&(p=w[0]&2?f.return:w[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,w[1])).done)return p;switch(f=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,f=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){l.label=w[1];break}if(w[0]===6&&l.label<p[1]){l.label=p[1],p=w;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(w);break}p[2]&&l.ops.pop(),l.trys.pop();continue}w=i.call(s,l)}catch(A){w=[6,A],f=0}finally{u=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},pv=(function(){function s(i,l){this.name=i,this.track=l}return s.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},s.prototype.apply=function(i){var l={};l[this.name]=i;var u={advanced:[l]};return this.track.applyConstraints(u)},s.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var l=i[this.name];return l}return null},s})(),m8=(function(s){Rm(i,s);function i(l,u){return s.call(this,l,u)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(l){var u={};u[this.name]=l;var f={advanced:[u]};return this.track.applyConstraints(f)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),u=l[this.name];return{min:u.min,max:u.max,step:u.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i})(pv),x8=(function(s){Rm(i,s);function i(l){return s.call(this,"zoom",l)||this}return i})(m8),p8=(function(s){Rm(i,s);function i(l){return s.call(this,"torch",l)||this}return i})(pv),g8=(function(){function s(i){this.track=i}return s.prototype.zoomFeature=function(){return new x8(this.track)},s.prototype.torchFeature=function(){return new p8(this.track)},s})(),b8=(function(){function s(i,l,u){this.isClosed=!1,this.parentElement=i,this.mediaStream=l,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return s.prototype.createVideoElement=function(i){var l=document.createElement("video");return l.style.width="".concat(i,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},s.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var u=i.surface.clientWidth,f=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(u,f),i.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},s.create=function(i,l,u,f){return ld(this,void 0,void 0,function(){var p,g;return od(this,function(v){switch(v.label){case 0:return p=new s(i,l,f),u.aspectRatio?(g={aspectRatio:u.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:v.sent(),v.label=2;case 2:return p.setupSurface(),[2,p]}})})},s.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},s.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},s.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},s.prototype.resume=function(i){this.failIfClosed();var l=this,u=function(){setTimeout(i,200),l.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},s.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},s.prototype.getSurface=function(){return this.failIfClosed(),this.surface},s.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},s.prototype.applyVideoConstraints=function(i){return ld(this,void 0,void 0,function(){return od(this,function(l){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},s.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(l,u){var f=i.mediaStream.getVideoTracks(),p=f.length,g=0;i.mediaStream.getVideoTracks().forEach(function(v){i.mediaStream.removeTrack(v),v.stop(),++g,g>=p&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),l())})})},s.prototype.getCapabilities=function(){return new g8(this.getFirstTrackOrFail())},s})(),y8=(function(){function s(i){this.mediaStream=i}return s.prototype.render=function(i,l,u){return ld(this,void 0,void 0,function(){return od(this,function(f){return[2,b8.create(i,this.mediaStream,l,u)]})})},s.create=function(i){return ld(this,void 0,void 0,function(){var l,u;return od(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return u=f.sent(),[2,new s(u)]}})})},s})(),Kb=function(s,i,l,u){function f(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function v(A){try{w(u.next(A))}catch(j){g(j)}}function S(A){try{w(u.throw(A))}catch(j){g(j)}}function w(A){A.done?p(A.value):f(A.value).then(v,S)}w((u=u.apply(s,i||[])).next())})},Zb=function(s,i){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,f,p,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(w){return function(A){return S([w,A])}}function S(w){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(l=0)),l;)try{if(u=1,f&&(p=w[0]&2?f.return:w[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,w[1])).done)return p;switch(f=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,f=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){l.label=w[1];break}if(w[0]===6&&l.label<p[1]){l.label=p[1],p=w;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(w);break}p[2]&&l.ops.pop(),l.trys.pop();continue}w=i.call(s,l)}catch(A){w=[6,A],f=0}finally{u=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},w8=(function(){function s(){}return s.failIfNotSupported=function(){return Kb(this,void 0,void 0,function(){return Zb(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new s]})})},s.prototype.create=function(i){return Kb(this,void 0,void 0,function(){return Zb(this,function(l){return[2,y8.create(i)]})})},s})(),v8=function(s,i,l,u){function f(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function v(A){try{w(u.next(A))}catch(j){g(j)}}function S(A){try{w(u.throw(A))}catch(j){g(j)}}function w(A){A.done?p(A.value):f(A.value).then(v,S)}w((u=u.apply(s,i||[])).next())})},N8=function(s,i){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,f,p,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(w){return function(A){return S([w,A])}}function S(w){if(u)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(l=0)),l;)try{if(u=1,f&&(p=w[0]&2?f.return:w[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,w[1])).done)return p;switch(f=0,p&&(w=[w[0]&2,p.value]),w[0]){case 0:case 1:p=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,f=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){l.label=w[1];break}if(w[0]===6&&l.label<p[1]){l.label=p[1],p=w;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(w);break}p[2]&&l.ops.pop(),l.trys.pop();continue}w=i.call(s,l)}catch(A){w=[6,A],f=0}finally{u=p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},C8=(function(){function s(){}return s.retrieve=function(){if(navigator.mediaDevices)return s.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?s.getCamerasFromMediaStreamTrack():s.rejectWithError()},s.rejectWithError=function(){var i=Il.unableToQuerySupportedDevices();return s.isHttpsOrLocalhost()||(i=Il.insecureContextCameraQueryError()),Promise.reject(i)},s.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},s.getCamerasFromMediaDevices=function(){return v8(this,void 0,void 0,function(){var i,l,u,f,p,g,v;return N8(this,function(S){switch(S.label){case 0:return i=function(w){for(var A=w.getVideoTracks(),j=0,T=A;j<T.length;j++){var R=T[j];R.enabled=!1,R.stop(),w.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=S.sent(),f=[],p=0,g=u;p<g.length;p++)v=g[p],v.kind==="videoinput"&&f.push({id:v.deviceId,label:v.label});return i(l),[2,f]}})})},s.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,l){var u=function(p){for(var g=[],v=0,S=p;v<S.length;v++){var w=S[v];w.kind==="video"&&g.push({id:w.id,label:w.label})}i(g)},f=MediaStreamTrack;f.getSources(u)})},s})(),Hn;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.NOT_STARTED=1]="NOT_STARTED",s[s.SCANNING=2]="SCANNING",s[s.PAUSED=3]="PAUSED"})(Hn||(Hn={}));var S8=(function(){function s(){this.state=Hn.NOT_STARTED,this.onGoingTransactionNewState=Hn.UNKNOWN}return s.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},s.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},s.prototype.execute=function(){if(this.onGoingTransactionNewState===Hn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Hn.UNKNOWN,this.directTransition(i)},s.prototype.cancel=function(){if(this.onGoingTransactionNewState===Hn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Hn.UNKNOWN},s.prototype.getState=function(){return this.state},s.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Hn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},s.prototype.validateTransition=function(i){switch(this.state){case Hn.UNKNOWN:throw"Transition from unknown is not allowed";case Hn.NOT_STARTED:this.failIfNewStateIs(i,[Hn.PAUSED]);break;case Hn.SCANNING:break;case Hn.PAUSED:break}},s.prototype.failIfNewStateIs=function(i,l){for(var u=0,f=l;u<f.length;u++){var p=f[u];if(i===p)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},s})(),j8=(function(){function s(i){this.stateManager=i}return s.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},s.prototype.directTransition=function(i){this.stateManager.directTransition(i)},s.prototype.getState=function(){return this.stateManager.getState()},s.prototype.canScanFile=function(){return this.stateManager.getState()===Hn.NOT_STARTED},s.prototype.isScanning=function(){return this.stateManager.getState()!==Hn.NOT_STARTED},s.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Hn.SCANNING},s.prototype.isPaused=function(){return this.stateManager.getState()===Hn.PAUSED},s})(),E8=(function(){function s(){}return s.create=function(){return new j8(new S8)},s})(),A8=(function(){var s=function(i,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])},s(i,l)};return function(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");s(i,l);function u(){this.constructor=i}i.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}})(),ca=(function(s){A8(i,s);function i(){return s!==null&&s.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i})(a8),_8=(function(){function s(i,l){this.logger=l,this.fps=ca.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=ca.DEFAULT_DISABLE_FLIP}return s.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?xv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},s.prototype.isShadedBoxEnabled=function(){return!Ai(this.qrbox)},s.create=function(i,l){return new s(i,l)},s})(),T8=(function(){function s(i,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var u;typeof l=="boolean"?this.verbose=l===!0:l&&(u=l,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new r8(this.verbose),this.qrcode=new f8(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=E8.create()}return s.prototype.start=function(i,l,u,f){var p=this;if(!i)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;f?g=f:g=this.verbose?this.logger.log:function(){};var v=_8.create(l,this.logger);this.clearElement();var S=!1;v.videoConstraints&&(v.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=S,A=document.getElementById(this.elementId);A.clientWidth?A.clientWidth:ca.DEFAULT_WIDTH,A.style.position="relative",this.shouldScan=!0,this.element=A;var j=this,T=this.stateManagerProxy.startTransition(Hn.SCANNING);return new Promise(function(R,B){var D=w?v.videoConstraints:j.createVideoConstraints(i);if(!D){T.cancel(),B("videoConstraints should be defined");return}var $={};(!w||v.aspectRatio)&&($.aspectRatio=v.aspectRatio);var P={onRenderSurfaceReady:function(O,L){j.setupUi(O,L,v),j.isScanning=!0,j.foreverScan(v,u,g)}};w8.failIfNotSupported().then(function(O){O.create(D).then(function(L){return L.render(p.element,$,P).then(function(W){j.renderedCamera=W,T.execute(),R(null)}).catch(function(W){T.cancel(),B(W)})}).catch(function(L){T.cancel(),B(Il.errorGettingUserMedia(L))})}).catch(function(O){T.cancel(),B(Il.cameraStreamingNotSupported())})})},s.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Hn.PAUSED),this.showPausedState(),(Ai(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},s.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,l=function(){i.stateManagerProxy.directTransition(Hn.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},s.prototype.getState=function(){return this.stateManagerProxy.getState()},s.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(Hn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(i.element){var p=document.getElementById(ca.SHADED_REGION_ELEMENT_ID);p&&i.element.removeChild(p)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),u(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),l.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},s.prototype.scanFile=function(i,l){return this.scanFileV2(i,l).then(function(u){return u.decodedText})},s.prototype.scanFileV2=function(i,l){var u=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ai(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,p){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(i);var g=new Image;g.onload=function(){var v=g.width,S=g.height,w=document.getElementById(u.elementId),A=w.clientWidth?w.clientWidth:ca.DEFAULT_WIDTH,j=Math.max(w.clientHeight?w.clientHeight:S,ca.FILE_SCAN_MIN_HEIGHT),T=u.computeCanvasDrawConfig(v,S,A,j);if(l){var R=u.createCanvasElement(A,j,"qr-canvas-visible");R.style.display="inline-block",w.appendChild(R);var B=R.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=A,B.canvas.height=j,B.drawImage(g,0,0,v,S,T.x,T.y,T.width,T.height)}var D=ca.FILE_SCAN_HIDDEN_CANVAS_PADDING,$=Math.max(g.width,T.width),P=Math.max(g.height,T.height),O=$+2*D,L=P+2*D,W=u.createCanvasElement(O,L);w.appendChild(W);var de=W.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=O,de.canvas.height=L,de.drawImage(g,0,0,v,S,D,D,$,P);try{u.qrcode.decodeRobustlyAsync(W).then(function(ae){f(Hb.createFromQrcodeResult(ae))}).catch(p)}catch(ae){p("QR code parse error, error = ".concat(ae))}},g.onerror=p,g.onabort=p,g.onstalled=p,g.onsuspend=p,g.src=URL.createObjectURL(i)})},s.prototype.clear=function(){this.clearElement()},s.getCameras=function(){return C8.retrieve()},s.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},s.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},s.prototype.applyVideoConstraints=function(i){if(i){if(!xv.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},s.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},s.prototype.getSupportedFormats=function(i){var l=[at.QR_CODE,at.AZTEC,at.CODABAR,at.CODE_39,at.CODE_93,at.CODE_128,at.DATA_MATRIX,at.MAXICODE,at.ITF,at.EAN_13,at.EAN_8,at.PDF_417,at.RSS_14,at.RSS_EXPANDED,at.UPC_A,at.UPC_E,at.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return l;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],f=0,p=i.formatsToSupport;f<p.length;f++){var g=p[f];s8(g)?u.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},s.prototype.getUseBarCodeDetectorIfSupported=function(i){if(Ai(i))return!0;if(!Ai(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(Ai(i.experimentalFeatures))return!0;var l=i.experimentalFeatures;return Ai(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},s.prototype.validateQrboxSize=function(i,l,u){var f=this,p=u.qrbox;this.validateQrboxConfig(p);var g=this.toQrdimensions(i,l,p),v=function(w){if(w<ca.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ca.MIN_QR_BOX_SIZE,"px.")},S=function(w){return w>i&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=i),w};v(g.width),v(g.height),g.width=S(g.width)},s.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},s.prototype.toQrdimensions=function(i,l,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(i,l)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return u},s.prototype.setupUi=function(i,l,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(i,l,u);var f=Ai(u.qrbox)?{width:i,height:l}:u.qrbox;this.validateQrboxConfig(f);var p=this.toQrdimensions(i,l,f);p.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=u.isShadedBoxEnabled()&&p.height<=l,v={x:0,y:0,width:i,height:l},S=g?this.getShadedRegionBounds(i,l,p):v,w=this.createCanvasElement(S.width,S.height),A={willReadFrequently:!0},j=w.getContext("2d",A);j.canvas.width=S.width,j.canvas.height=S.height,this.element.append(w),g&&this.possiblyInsertShadingElement(this.element,i,l,p),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=j,this.canvasElement=w},s.prototype.createScannerPausedUiElement=function(i){var l=document.createElement("div");l.innerText=Il.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",i.appendChild(l),this.scannerPausedUiElement=l},s.prototype.scanContext=function(i,l){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return i(f.text,Hb.createFromQrcodeResult(f)),u.possiblyUpdateShaders(!0),!0}).catch(function(f){u.possiblyUpdateShaders(!1);var p=Il.codeParseError(f);return l(p,i8.createFrom(p)),!1})},s.prototype.foreverScan=function(i,l,u){var f=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),g=p.videoWidth/p.clientWidth,v=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*g,w=this.qrRegion.height*v,A=this.qrRegion.x*g,j=this.qrRegion.y*v;this.context.drawImage(p,A,j,S,w,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(i,l,u)},f.getTimeoutFps(i.fps))};this.scanContext(l,u).then(function(R){!R&&i.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(l,u).finally(function(){T()})):T()}).catch(function(R){f.logger.logError("Error happend while scanning context",R),T()})}},s.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var l="facingMode",u="deviceId",f={user:!0,environment:!0},p="exact",g=function(B){if(B in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(B,"'")},v=Object.keys(i);if(v.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(v.length," keys");var S=Object.keys(i)[0];if(S!==l&&S!==u)throw"Only '".concat(l,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(S===l){var w=i.facingMode;if(typeof w=="string"){if(g(w))return{facingMode:w}}else if(typeof w=="object")if(p in w){if(g(w["".concat(p)]))return{facingMode:{exact:w["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var A=typeof w;throw"Invalid type of 'facingMode' = ".concat(A)}}else{var j=i.deviceId;if(typeof j=="string")return{deviceId:j};if(typeof j=="object"){if(p in j)return{deviceId:{exact:j["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var T=typeof j;throw"Invalid type of 'deviceId' = ".concat(T)}}}var R=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},s.prototype.computeCanvasDrawConfig=function(i,l,u,f){if(i<=u&&l<=f){var p=(u-i)/2,g=(f-l)/2;return{x:p,y:g,width:i,height:l}}else{var v=i,S=l;return i>u&&(l=u/i*l,i=u),l>f&&(i=f/l*i,l=f),this.logger.log("Image downsampled from "+"".concat(v,"X").concat(S)+" to ".concat(i,"X").concat(l,".")),this.computeCanvasDrawConfig(i,l,u,f)}},s.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},s.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=i?ca.BORDER_SHADER_MATCH_COLOR:ca.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},s.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},s.prototype.createCanvasElement=function(i,l,u){var f=i,p=l,g=document.createElement("canvas");return g.style.width="".concat(f,"px"),g.style.height="".concat(p,"px"),g.style.display="none",g.id=Ai(u)?"qr-canvas":u,g},s.prototype.getShadedRegionBounds=function(i,l,u){if(u.width>i||u.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-u.width)/2,y:(l-u.height)/2,width:u.width,height:u.height}},s.prototype.possiblyInsertShadingElement=function(i,l,u,f){if(!(l-f.width<1||u-f.height<1)){var p=document.createElement("div");p.style.position="absolute";var g=(l-f.width)/2,v=(u-f.height)/2;if(p.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(v,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(ca.SHADED_REGION_ELEMENT_ID),l-f.width<11||u-f.height<11)this.hasBorderShaders=!1;else{var S=5,w=40;this.insertShaderBorders(p,w,S,-S,null,0,!0),this.insertShaderBorders(p,w,S,-S,null,0,!1),this.insertShaderBorders(p,w,S,null,-S,0,!0),this.insertShaderBorders(p,w,S,null,-S,0,!1),this.insertShaderBorders(p,S,w+S,-S,null,-S,!0),this.insertShaderBorders(p,S,w+S,null,-S,-S,!0),this.insertShaderBorders(p,S,w+S,-S,null,-S,!1),this.insertShaderBorders(p,S,w+S,null,-S,-S,!1),this.hasBorderShaders=!0}i.append(p)}},s.prototype.insertShaderBorders=function(i,l,u,f,p,g,v){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=ca.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(l,"px"),S.style.height="".concat(u,"px"),f!==null&&(S.style.top="".concat(f,"px")),p!==null&&(S.style.bottom="".concat(p,"px")),v?S.style.left="".concat(g,"px"):S.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),i.appendChild(S)},s.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},s.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},s.prototype.getTimeoutFps=function(i){return 1e3/i},s})(),Qb;(function(s){s[s.STATUS_DEFAULT=0]="STATUS_DEFAULT",s[s.STATUS_SUCCESS=1]="STATUS_SUCCESS",s[s.STATUS_WARNING=2]="STATUS_WARNING",s[s.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Qb||(Qb={}));var Wf={exports:{}},Jb;function k8(){return Jb||(Jb=1,(function(s){var i=(function(l){var u=Object.prototype,f=u.hasOwnProperty,p=Object.defineProperty||function(ne,ee,U){ne[ee]=U.value},g,v=typeof Symbol=="function"?Symbol:{},S=v.iterator||"@@iterator",w=v.asyncIterator||"@@asyncIterator",A=v.toStringTag||"@@toStringTag";function j(ne,ee,U){return Object.defineProperty(ne,ee,{value:U,enumerable:!0,configurable:!0,writable:!0}),ne[ee]}try{j({},"")}catch{j=function(ee,U,G){return ee[U]=G}}function T(ne,ee,U,G){var ie=ee&&ee.prototype instanceof L?ee:L,be=Object.create(ie.prototype),V=new re(G||[]);return p(be,"_invoke",{value:he(ne,U,V)}),be}l.wrap=T;function R(ne,ee,U){try{return{type:"normal",arg:ne.call(ee,U)}}catch(G){return{type:"throw",arg:G}}}var B="suspendedStart",D="suspendedYield",$="executing",P="completed",O={};function L(){}function W(){}function de(){}var ae={};j(ae,S,function(){return this});var X=Object.getPrototypeOf,ue=X&&X(X(J([])));ue&&ue!==u&&f.call(ue,S)&&(ae=ue);var q=de.prototype=L.prototype=Object.create(ae);W.prototype=de,p(q,"constructor",{value:de,configurable:!0}),p(de,"constructor",{value:W,configurable:!0}),W.displayName=j(de,A,"GeneratorFunction");function Y(ne){["next","throw","return"].forEach(function(ee){j(ne,ee,function(U){return this._invoke(ee,U)})})}l.isGeneratorFunction=function(ne){var ee=typeof ne=="function"&&ne.constructor;return ee?ee===W||(ee.displayName||ee.name)==="GeneratorFunction":!1},l.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,de):(ne.__proto__=de,j(ne,A,"GeneratorFunction")),ne.prototype=Object.create(q),ne},l.awrap=function(ne){return{__await:ne}};function Ce(ne,ee){function U(be,V,te,se){var xe=R(ne[be],ne,V);if(xe.type==="throw")se(xe.arg);else{var we=xe.arg,Me=we.value;return Me&&typeof Me=="object"&&f.call(Me,"__await")?ee.resolve(Me.__await).then(function(Ve){U("next",Ve,te,se)},function(Ve){U("throw",Ve,te,se)}):ee.resolve(Me).then(function(Ve){we.value=Ve,te(we)},function(Ve){return U("throw",Ve,te,se)})}}var G;function ie(be,V){function te(){return new ee(function(se,xe){U(be,V,se,xe)})}return G=G?G.then(te,te):te()}p(this,"_invoke",{value:ie})}Y(Ce.prototype),j(Ce.prototype,w,function(){return this}),l.AsyncIterator=Ce,l.async=function(ne,ee,U,G,ie){ie===void 0&&(ie=Promise);var be=new Ce(T(ne,ee,U,G),ie);return l.isGeneratorFunction(ee)?be:be.next().then(function(V){return V.done?V.value:be.next()})};function he(ne,ee,U){var G=B;return function(be,V){if(G===$)throw new Error("Generator is already running");if(G===P){if(be==="throw")throw V;return ke()}for(U.method=be,U.arg=V;;){var te=U.delegate;if(te){var se=oe(te,U);if(se){if(se===O)continue;return se}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(G===B)throw G=P,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);G=$;var xe=R(ne,ee,U);if(xe.type==="normal"){if(G=U.done?P:D,xe.arg===O)continue;return{value:xe.arg,done:U.done}}else xe.type==="throw"&&(G=P,U.method="throw",U.arg=xe.arg)}}}function oe(ne,ee){var U=ee.method,G=ne.iterator[U];if(G===g)return ee.delegate=null,U==="throw"&&ne.iterator.return&&(ee.method="return",ee.arg=g,oe(ne,ee),ee.method==="throw")||U!=="return"&&(ee.method="throw",ee.arg=new TypeError("The iterator does not provide a '"+U+"' method")),O;var ie=R(G,ne.iterator,ee.arg);if(ie.type==="throw")return ee.method="throw",ee.arg=ie.arg,ee.delegate=null,O;var be=ie.arg;if(!be)return ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,O;if(be.done)ee[ne.resultName]=be.value,ee.next=ne.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=g);else return be;return ee.delegate=null,O}Y(q),j(q,A,"Generator"),j(q,S,function(){return this}),j(q,"toString",function(){return"[object Generator]"});function ge(ne){var ee={tryLoc:ne[0]};1 in ne&&(ee.catchLoc=ne[1]),2 in ne&&(ee.finallyLoc=ne[2],ee.afterLoc=ne[3]),this.tryEntries.push(ee)}function Z(ne){var ee=ne.completion||{};ee.type="normal",delete ee.arg,ne.completion=ee}function re(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(ge,this),this.reset(!0)}l.keys=function(ne){var ee=Object(ne),U=[];for(var G in ee)U.push(G);return U.reverse(),function ie(){for(;U.length;){var be=U.pop();if(be in ee)return ie.value=be,ie.done=!1,ie}return ie.done=!0,ie}};function J(ne){if(ne){var ee=ne[S];if(ee)return ee.call(ne);if(typeof ne.next=="function")return ne;if(!isNaN(ne.length)){var U=-1,G=function ie(){for(;++U<ne.length;)if(f.call(ne,U))return ie.value=ne[U],ie.done=!1,ie;return ie.value=g,ie.done=!0,ie};return G.next=G}}return{next:ke}}l.values=J;function ke(){return{value:g,done:!0}}return re.prototype={constructor:re,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(Z),!ne)for(var ee in this)ee.charAt(0)==="t"&&f.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=g)},stop:function(){this.done=!0;var ne=this.tryEntries[0],ee=ne.completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var ee=this;function U(se,xe){return be.type="throw",be.arg=ne,ee.next=se,xe&&(ee.method="next",ee.arg=g),!!xe}for(var G=this.tryEntries.length-1;G>=0;--G){var ie=this.tryEntries[G],be=ie.completion;if(ie.tryLoc==="root")return U("end");if(ie.tryLoc<=this.prev){var V=f.call(ie,"catchLoc"),te=f.call(ie,"finallyLoc");if(V&&te){if(this.prev<ie.catchLoc)return U(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return U(ie.finallyLoc)}else if(V){if(this.prev<ie.catchLoc)return U(ie.catchLoc,!0)}else if(te){if(this.prev<ie.finallyLoc)return U(ie.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ne,ee){for(var U=this.tryEntries.length-1;U>=0;--U){var G=this.tryEntries[U];if(G.tryLoc<=this.prev&&f.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var ie=G;break}}ie&&(ne==="break"||ne==="continue")&&ie.tryLoc<=ee&&ee<=ie.finallyLoc&&(ie=null);var be=ie?ie.completion:{};return be.type=ne,be.arg=ee,ie?(this.method="next",this.next=ie.finallyLoc,O):this.complete(be)},complete:function(ne,ee){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&ee&&(this.next=ee),O},finish:function(ne){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var U=this.tryEntries[ee];if(U.finallyLoc===ne)return this.complete(U.completion,U.afterLoc),Z(U),O}},catch:function(ne){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var U=this.tryEntries[ee];if(U.tryLoc===ne){var G=U.completion;if(G.type==="throw"){var ie=G.arg;Z(U)}return ie}}throw new Error("illegal catch attempt")},delegateYield:function(ne,ee,U){return this.delegate={iterator:J(ne),resultName:ee,nextLoc:U},this.method==="next"&&(this.arg=g),O}},l})(s.exports);try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}})(Wf)),Wf.exports}var Kf,e2;function Om(){return e2||(e2=1,Kf=(s,i)=>`${s}-${i}-${Math.random().toString(16).slice(3,8)}`),Kf}var Zf,t2;function gv(){if(t2)return Zf;t2=1;const s=Om();let i=0;return Zf=({id:l,action:u,payload:f={}})=>{let p=l;return typeof p>"u"&&(p=s("Job",i),i+=1),{id:p,action:u,payload:f}},Zf}var Ho={},n2;function Bm(){if(n2)return Ho;n2=1;let s=!1;return Ho.logging=s,Ho.setLogging=i=>{s=i},Ho.log=(...i)=>s?console.log.apply(this,i):null,Ho}var Qf,s2;function F8(){if(s2)return Qf;s2=1;const s=gv(),{log:i}=Bm(),l=Om();let u=0;return Qf=()=>{const f=l("Scheduler",u),p={},g={};let v=[];u+=1;const S=()=>v.length,w=()=>Object.keys(p).length,A=()=>{if(v.length!==0){const D=Object.keys(p);for(let $=0;$<D.length;$+=1)if(typeof g[D[$]]>"u"){v[0](p[D[$]]);break}}},j=(D,$)=>new Promise((P,O)=>{const L=s({action:D,payload:$});v.push(async W=>{v.shift(),g[W.id]=L;try{P(await W[D].apply(this,[...$,L.id]))}catch(de){O(de)}finally{delete g[W.id],A()}}),i(`[${f}]: Add ${L.id} to JobQueue`),i(`[${f}]: JobQueue length=${v.length}`),A()});return{addWorker:D=>(p[D.id]=D,i(`[${f}]: Add ${D.id}`),i(`[${f}]: Number of workers=${w()}`),A(),D.id),addJob:async(D,...$)=>{if(w()===0)throw Error(`[${f}]: You need to have at least one worker before adding jobs`);return j(D,$)},terminate:async()=>{Object.keys(p).forEach(async D=>{await p[D].terminate()}),v=[]},getQueueLen:S,getNumWorkers:w}},Qf}function R8(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jf,a2;function O8(){return a2||(a2=1,Jf=s=>{const i={};return typeof WorkerGlobalScope<"u"?i.type="webworker":typeof document=="object"?i.type="browser":typeof process=="object"&&typeof R8=="function"&&(i.type="node"),typeof s>"u"?i:i[s]}),Jf}var e0,i2;function B8(){if(i2)return e0;i2=1;const i=O8()("type")==="browser"?l=>new URL(l,window.location.href).href:l=>l;return e0=l=>{const u={...l};return["corePath","workerPath","langPath"].forEach(f=>{l[f]&&(u[f]=i(u[f]))}),u},e0}var t0,r2;function bv(){return r2||(r2=1,t0={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),t0}const D8="7.0.0",M8={version:D8};var n0,l2;function I8(){return l2||(l2=1,n0={workerBlobURL:!0,logger:()=>{}}),n0}var s0,o2;function L8(){if(o2)return s0;o2=1;const s=M8.version;return s0={...I8(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${s}/dist/worker.min.js`},s0}var a0,c2;function P8(){return c2||(c2=1,a0=({workerPath:s,workerBlobURL:i})=>{let l;if(Blob&&URL&&i){const u=new Blob([`importScripts("${s}");`],{type:"application/javascript"});l=new Worker(URL.createObjectURL(u))}else l=new Worker(s);return l}),a0}var i0,u2;function $8(){return u2||(u2=1,i0=s=>{s.terminate()}),i0}var r0,d2;function z8(){return d2||(d2=1,r0=(s,i)=>{s.onmessage=({data:l})=>{i(l)}}),r0}var l0,h2;function U8(){return h2||(h2=1,l0=async(s,i)=>{s.postMessage(i)}),l0}var o0,f2;function V8(){if(f2)return o0;f2=1;const s=l=>new Promise((u,f)=>{const p=new FileReader;p.onload=()=>{u(p.result)},p.onerror=({target:{error:{code:g}}})=>{f(Error(`File could not be read! Code=${g}`))},p.readAsArrayBuffer(l)}),i=async l=>{let u=l;if(typeof l>"u")return"undefined";if(typeof l=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(l)?u=atob(l.split(",")[1]).split("").map(f=>f.charCodeAt(0)):u=await(await fetch(l)).arrayBuffer();else if(typeof HTMLElement<"u"&&l instanceof HTMLElement)l.tagName==="IMG"&&(u=await i(l.src)),l.tagName==="VIDEO"&&(u=await i(l.poster)),l.tagName==="CANVAS"&&await new Promise(f=>{l.toBlob(async p=>{u=await s(p),f()})});else if(typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas){const f=await l.convertToBlob();u=await s(f)}else(l instanceof File||l instanceof Blob)&&(u=await s(l));return new Uint8Array(u)};return o0=i,o0}var c0,m2;function H8(){if(m2)return c0;m2=1;const s=L8(),i=P8(),l=$8(),u=z8(),f=U8(),p=V8();return c0={defaultOptions:s,spawnWorker:i,terminateWorker:l,onMessage:u,send:f,loadImage:p},c0}var u0,x2;function yv(){if(x2)return u0;x2=1;const s=B8(),i=gv(),{log:l}=Bm(),u=Om(),f=bv(),{defaultOptions:p,spawnWorker:g,terminateWorker:v,onMessage:S,loadImage:w,send:A}=H8();let j=0;return u0=async(T="eng",R=f.LSTM_ONLY,B={},D={})=>{const $=u("Worker",j),{logger:P,errorHandler:O,...L}=s({...p,...B}),W={},de=typeof T=="string"?T.split("+"):T;let ae=R,X=D;const ue=[f.DEFAULT,f.LSTM_ONLY].includes(R)&&!L.legacyCore;let q,Y;const Ce=new Promise((we,Me)=>{Y=we,q=Me}),he=we=>{q(we.message)};let oe=g(L);oe.onerror=he,j+=1;const ge=({id:we,action:Me,payload:Ve})=>new Promise((Re,pe)=>{l(`[${$}]: Start ${we}, action=${Me}`);const Ue=`${Me}-${we}`;W[Ue]={resolve:Re,reject:pe},A(oe,{workerId:$,jobId:we,action:Me,payload:Ve})}),Z=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),re=we=>ge(i({id:we,action:"load",payload:{options:{lstmOnly:ue,corePath:L.corePath,logging:L.logging}}})),J=(we,Me,Ve)=>ge(i({id:Ve,action:"FS",payload:{method:"writeFile",args:[we,Me]}})),ke=(we,Me)=>ge(i({id:Me,action:"FS",payload:{method:"readFile",args:[we,{encoding:"utf8"}]}})),ne=(we,Me)=>ge(i({id:Me,action:"FS",payload:{method:"unlink",args:[we]}})),ee=(we,Me,Ve)=>ge(i({id:Ve,action:"FS",payload:{method:we,args:Me}})),U=(we,Me)=>ge(i({id:Me,action:"loadLanguage",payload:{langs:we,options:{langPath:L.langPath,dataPath:L.dataPath,cachePath:L.cachePath,cacheMethod:L.cacheMethod,gzip:L.gzip,lstmOnly:[f.DEFAULT,f.LSTM_ONLY].includes(ae)&&!L.legacyLang}}})),G=(we,Me,Ve,Re)=>ge(i({id:Re,action:"initialize",payload:{langs:we,oem:Me,config:Ve}})),ie=(we="eng",Me,Ve,Re)=>{if(ue&&[f.TESSERACT_ONLY,f.TESSERACT_LSTM_COMBINED].includes(Me))throw Error("Legacy model requested but code missing.");const pe=Me||ae;ae=pe;const Ue=Ve||X;X=Ue;const Ge=(typeof we=="string"?we.split("+"):we).filter(Je=>!de.includes(Je));return de.push(...Ge),Ge.length>0?U(Ge,Re).then(()=>G(we,pe,Ue,Re)):G(we,pe,Ue,Re)},be=(we={},Me)=>ge(i({id:Me,action:"setParameters",payload:{params:we}})),V=async(we,Me={},Ve={text:!0},Re)=>ge(i({id:Re,action:"recognize",payload:{image:await w(we),options:Me,output:Ve}})),te=async(we,Me)=>{if(ue)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return ge(i({id:Me,action:"detect",payload:{image:await w(we)}}))},se=async()=>(oe!==null&&(v(oe),oe=null),Promise.resolve());S(oe,({workerId:we,jobId:Me,status:Ve,action:Re,data:pe})=>{const Ue=`${Re}-${Me}`;if(Ve==="resolve")l(`[${we}]: Complete ${Me}`),W[Ue].resolve({jobId:Me,data:pe}),delete W[Ue];else if(Ve==="reject")if(W[Ue].reject(pe),delete W[Ue],Re==="load"&&q(pe),O)O(pe);else throw Error(pe);else Ve==="progress"&&P({...pe,userJobId:Me})});const xe={id:$,worker:oe,load:Z,writeText:J,readText:ke,removeFile:ne,FS:ee,reinitialize:ie,setParameters:be,recognize:V,detect:te,terminate:se};return re().then(()=>U(T)).then(()=>G(T,R,D)).then(()=>Y(xe)).catch(()=>{}),Ce},u0}var d0,p2;function G8(){if(p2)return d0;p2=1;const s=yv();return d0={recognize:async(u,f,p)=>{const g=await s(f,1,p);return g.recognize(u).finally(async()=>{await g.terminate()})},detect:async(u,f)=>{const p=await s("osd",0,f);return p.detect(u).finally(async()=>{await p.terminate()})}},d0}var h0,g2;function q8(){return g2||(g2=1,h0={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),h0}var f0,b2;function X8(){return b2||(b2=1,f0={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),f0}var m0,y2;function Y8(){if(y2)return m0;y2=1,k8();const s=F8(),i=yv(),l=G8(),u=q8(),f=bv(),p=X8(),{setLogging:g}=Bm();return m0={languages:u,OEM:f,PSM:p,createScheduler:s,createWorker:i,setLogging:g,...l},m0}var W8=Y8();const K8=cd(W8),wv=({isOpen:s,onClose:i,onScan:l})=>{const u=_.useRef(null),f=_.useRef(null),p=_.useRef(null),g=_.useRef(null),v=_.useRef(null),[S,w]=_.useState(null),[A,j]=_.useState(!1),[T,R]=_.useState(null),[B,D]=_.useState(""),[$,P]=_.useState(!1),[O,L]=_.useState(!1),[W,de]=_.useState(1),[ae,X]=_.useState(null),[ue,q]=_.useState(!1),Y=_.useRef(null),[Ce,he]=_.useState(!1),[oe,ge]=_.useState(!1);_.useEffect(()=>{(async()=>{if("BarcodeDetector"in window&&window.BarcodeDetector)try{(await window.BarcodeDetector.getSupportedFormats()).some(Me=>Me.includes("ean")||Me.includes("upc"))&&he(!0)}catch(xe){console.warn("BarcodeDetector not available:",xe)}})();const se=()=>{ge(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",se),s&&O?Z():re(),()=>{re(),document.removeEventListener("fullscreenchange",se)}},[s,O]);const Z=async()=>{try{g.current&&re();const te=async xe=>{try{return await navigator.mediaDevices.getUserMedia(xe)}catch{return null}};let se=await te({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30},videoStabilization:!0}});if(se||(se=await te({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}})),se||(se=await te({video:{facingMode:"environment"}})),!se)throw new Error("Camera access denied");g.current=se,p.current&&(p.current.srcObject=se,p.current.onloadedmetadata=()=>{p.current?.play().catch(Me=>console.error("Play failed:",Me));const xe=se.getVideoTracks()[0],we=xe.getCapabilities?xe.getCapabilities():{};if(we.zoom){const Me=Math.min(we.zoom.max,5),Ve=Math.max(we.zoom.min,1);X({min:Ve,max:Me,step:we.zoom.step}),de(1)}})}catch(te){let se="   .";te.name==="NotAllowedError"?se+="  .":te.name==="NotFoundError"&&(se+="   ."),R(se)}},re=()=>{Y.current&&(clearTimeout(Y.current),Y.current=null),g.current&&(g.current.getTracks().forEach(te=>te.stop()),g.current=null)},J=async()=>{if(console.log("toggleFullscreen called, ref exists:",!!v.current),console.log("toggleFullscreen called, current state:",!!document.fullscreenElement),document.fullscreenElement)console.log("Exiting fullscreen..."),await document.exitFullscreen();else{console.log("Requesting fullscreen...");try{await v.current?.requestFullscreen(),console.log("Fullscreen request successful")}catch(te){console.error("Fullscreen error:",te)}}},ke=te=>{de(te),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(async()=>{if(q(!0),g.current){const se=g.current.getVideoTracks()[0];try{await se.applyConstraints({advanced:[{zoom:te}]})}catch(xe){console.warn("Zoom failed:",xe)}}q(!1)},150)},ne=()=>{if(p.current){const te=p.current,se=document.createElement("canvas");se.width=te.videoWidth,se.height=te.videoHeight;const xe=se.getContext("2d");xe&&(xe.drawImage(te,0,0,se.width,se.height),se.toBlob(we=>{if(we){const Me=new File([we],"capture.jpg",{type:"image/jpeg"});G(Me)}},"image/jpeg",1))}},ee=te=>new Promise((se,xe)=>{const we=new Image;we.onload=()=>{const Me=document.createElement("canvas"),Ve=we.width*.8,Re=we.height*.25,pe=(we.width-Ve)/2,Ue=(we.height-Re)/2,Ge=Math.min(1200/Ve,1);Me.width=Ve*Ge,Me.height=Re*Ge;const Je=Me.getContext("2d");if(!Je)return xe(new Error("Canvas failed"));Je.filter="grayscale(100%) brightness(100%) contrast(400%)",Je.drawImage(we,pe,Ue,Ve,Re,0,0,Me.width,Me.height),Je.globalAlpha=.5,Je.drawImage(Me,1,1),Je.globalAlpha=1,Me.toBlob(et=>{et?se(new File([et],te.name,{type:"image/jpeg"})):xe(new Error("Blob failed"))},"image/jpeg",1)},we.onerror=()=>xe(new Error("Image load failed")),we.src=URL.createObjectURL(te)}),U=async te=>{if(!("BarcodeDetector"in window)||!window.BarcodeDetector)return null;try{const se=new window.BarcodeDetector({formats:["ean_13","ean_8","upc_a","upc_e","code_128","code_39"]}),xe=await createImageBitmap(te),we=await se.detect(xe);if(we.length>0)return we[0].rawValue}catch(se){console.warn("Native detection failed:",se)}return null},G=async te=>{j(!0),R(null),D(""),P(!1);try{const se=URL.createObjectURL(te);w(se);const xe=await ee(te);if(Ce){const Ve=await U(xe);if(Ve){D(Ve),P(!0),window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(200),j(!1);return}}const we=new T8("reader-hidden");let Me=!1;try{const Ve=await we.scanFile(xe,!1);D(Ve),P(!0),Me=!0,window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(200)}catch{console.warn("Barcode scan failed")}finally{we.clear()}if(!Me){const Ve=await K8.recognize(xe,"eng",{logger:Se=>console.log(Se),tessedit_char_whitelist:"0123456789",tessedit_pageseg_mode:"6"});let Re=Ve.data.text.replace(/[^0-9]/g,"");Re.length===15&&Re[1]==="1"&&Re[8]==="1"&&(Re=Re.substring(0,1)+Re.substring(2,8)+Re.substring(9)),Re.length>13&&(Re=Re.replace("001","00"));const pe=Re.match(/(87|78|88|3\d|4\d|50)\d{11}/);let Ue=pe?pe[0]:Re.length>13&&Re.startsWith("1")?Re.substring(1,14):Re.substring(0,13);Ue.length>=8?(D(Ue),P(!0),window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(200)):R(`. OCR : "${Ve.data.text.substring(0,10)}"`)}}catch(se){R(": "+(se?.message||" "))}finally{j(!1),f.current&&(f.current.value=""),u.current&&(u.current.value="")}},ie=te=>{const se=te.target.files?.[0];se&&G(se)},be=()=>{const te=B.trim();te&&(l(te),i())},V=()=>{w(null),R(null),D(""),P(!1),L(!1)};return s?t.jsx("div",{ref:v,className:"fixed inset-0 z-[9999] bg-black flex flex-col",style:{height:"100dvh",paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:t.jsxs(qe.div,{initial:{y:"100%"},animate:{y:0},className:"w-full h-full bg-black flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900/90 z-50 shrink-0 backdrop-blur-md",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FF6B00] flex items-center justify-center",children:t.jsx(bA,{className:"w-5 h-5 text-black"})}),t.jsx("h3",{className:"text-white font-bold text-base uppercase tracking-wider",children:" v5.0"}),Ce&&t.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full border border-green-500/30",children:"Native API "})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{console.log("Fullscreen button clicked"),J()},className:"w-10 h-10 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-full active:bg-white/20 transition-colors",children:oe?t.jsx(Db,{className:"w-5 h-5 text-zinc-400"}):t.jsx(Bb,{className:"w-5 h-5 text-zinc-400"})}),t.jsx("button",{onClick:i,className:"w-10 h-10 flex items-center justify-center bg-white/5 hover:bg-white/10 rounded-full",children:t.jsx(qn,{className:"w-6 h-6 text-zinc-400"})})]})]}),t.jsxs("div",{className:"flex-1 relative bg-black flex items-center justify-center overflow-hidden",children:[t.jsx("div",{id:"reader-hidden",className:"hidden",style:{display:"none"}}),O&&t.jsx("video",{ref:p,className:"absolute inset-0 w-full h-full object-cover",style:{transform:"translateZ(0)",willChange:"transform"},playsInline:!0,muted:!0,autoPlay:!0}),t.jsx("div",{className:"absolute inset-0 pointer-events-none z-20 flex items-center justify-center",children:t.jsxs("div",{className:"w-[85%] h-[25%] border-2 border-green-500 rounded-lg shadow-[0_0_0_9999px_rgba(0,0,0,0.7)] relative",children:[t.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-4 border-l-4 border-green-500 -mt-1 -ml-1"}),t.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-4 border-r-4 border-green-500 -mt-1 -mr-1"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-4 border-l-4 border-green-500 -mb-1 -ml-1"}),t.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-4 border-r-4 border-green-500 -mb-1 -mr-1"})]})}),S?t.jsx("img",{src:S,alt:"Captured",className:`w-full h-full object-contain ${A?"opacity-40":"opacity-100"}`}):t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4 opacity-50",children:[t.jsx(zl,{className:"w-16 h-16 text-zinc-600"}),t.jsx("p",{className:"text-zinc-500 text-center text-sm max-w-[200px]",children:"   "})]}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-30 pointer-events-none",children:[A&&t.jsxs("div",{className:"flex flex-col items-center bg-black/80 p-6 rounded-2xl backdrop-blur-md border border-white/10",children:[t.jsx(Nt,{className:"w-12 h-12 text-[#FF6B00] animate-spin mb-3"}),t.jsx("span",{className:"text-white font-bold uppercase tracking-widest text-xs",children:"..."})]}),!A&&T&&t.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl border border-red-500/50 text-center max-w-[80%]",children:[t.jsx(bE,{className:"w-10 h-10 text-red-500 mx-auto mb-3"}),t.jsx("p",{className:"text-white font-bold text-sm mb-4",children:T}),t.jsx("button",{onClick:V,className:"w-full py-3 bg-white/10 rounded-xl text-white font-bold text-xs uppercase",children:""})]}),!A&&$&&t.jsxs("div",{className:"bg-black/90 p-6 rounded-2xl border border-green-500/50 text-center max-w-[80%]",children:[t.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:t.jsx(Dn,{className:"w-6 h-6 text-black stroke-[3]"})}),t.jsx("p",{className:"text-white font-mono text-2xl font-bold mb-4 break-all",children:B}),t.jsx("button",{onClick:be,className:"w-full py-3 bg-[#FF6B00] text-black font-bold rounded-xl uppercase",children:""})]})]})]}),t.jsxs("div",{className:"p-4 pb-6 bg-zinc-900/90 space-y-4 z-50 shrink-0 border-t border-white/5 backdrop-blur-md",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[!S&&!O?t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("button",{onClick:()=>L(!0),className:"w-full py-4 bg-[#FF6B00] text-black rounded-2xl flex items-center justify-center gap-3 font-black uppercase text-sm",children:[t.jsx(zl,{className:"w-6 h-6"}),""]}),t.jsxs("button",{onClick:()=>u.current?.click(),className:"w-full py-3 bg-zinc-800 text-zinc-400 rounded-xl flex items-center justify-center gap-2 font-bold text-xs uppercase",children:[t.jsx(UE,{className:"w-5 h-5"})," "]})]}):O?t.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[ae&&t.jsxs("div",{className:"flex items-center gap-3 px-1",children:[t.jsxs("span",{className:"text-white text-xs font-bold w-8 text-right",children:[W.toFixed(1),"x"]}),t.jsx("input",{type:"range",min:ae.min,max:ae.max,step:.1,value:W,onChange:te=>ke(parseFloat(te.target.value)),className:"flex-1 h-1.5 rounded-lg appearance-none cursor-pointer bg-zinc-700 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:bg-[#FF6B00] [&::-webkit-slider-thumb]:rounded-full",disabled:ue}),ue&&t.jsx(Nt,{className:"w-4 h-4 text-[#FF6B00] animate-spin"})]}),t.jsxs("div",{className:"flex gap-3 items-center",children:[t.jsx("button",{onClick:()=>L(!1),className:"w-12 h-12 rounded-full bg-zinc-800 text-white flex items-center justify-center border border-white/10",children:t.jsx(qn,{className:"w-5 h-5"})}),t.jsx("button",{onClick:ne,className:"flex-1 h-14 bg-white rounded-full flex items-center justify-center shadow-[0_0_0_4px_rgba(255,255,255,0.2)]",children:t.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-black"})}),t.jsx("button",{onClick:J,className:"w-12 h-12 rounded-full bg-zinc-800 text-white flex items-center justify-center border border-white/10",children:oe?t.jsx(Db,{className:"w-5 h-5"}):t.jsx(Bb,{className:"w-5 h-5"})})]})]}):t.jsx("div",{className:"flex gap-3",children:t.jsx("button",{onClick:V,className:"flex-1 py-3 bg-zinc-800 text-white rounded-xl font-bold text-xs uppercase",children:""})}),t.jsx("input",{type:"file",ref:f,onChange:ie,accept:"image/*",capture:"environment",className:"hidden"}),t.jsx("input",{type:"file",ref:u,onChange:ie,accept:"image/*",className:"hidden"})]})]})}):null},w2=()=>{const s=Sn(),[i,l]=_.useState(""),[u,f]=_.useState(""),[p,g]=_.useState(""),[v,S]=_.useState(""),[w,A]=_.useState(null),[j,T]=_.useState(null),[R,B]=_.useState([]),[D,$]=_.useState([]),[P,O]=_.useState(!1),[L,W]=_.useState(!1),[de,ae]=_.useState(""),[X,ue]=_.useState(""),[q,Y]=_.useState({ru:{name:"",description:""},fr:{name:"",description:""},en:{name:"",description:""}}),[Ce,he]=_.useState(!1),[oe,ge]=_.useState(""),[Z,re]=_.useState(!1),[J,ke]=_.useState(""),ne="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{U(),ee(),window.runTranslate=()=>xe("ru")},[]);const ee=async()=>{try{const pe=await(await fetch(`${ne}/categories`)).json();pe?.success&&$(pe.data)}catch(Re){console.error(Re)}},U=async()=>{try{const pe=await(await fetch(`${ne}/brands`)).json();pe?.success&&B(pe.data)}catch(Re){console.error(Re)}},G=Re=>{Re.preventDefault(),O(!0)},ie=()=>O(!1),be=async Re=>{Re.preventDefault(),O(!1);const pe=Re.dataTransfer.files?.[0];pe&&await te(pe)},V=async Re=>{const pe=Re.target.files?.[0];pe&&await te(pe)},te=async Re=>{W(!0),ae("");const pe=new FormData;pe.append("file",Re),pe.append("folder","products");try{const Se=await(await fetch(`${ne}/upload`,{method:"POST",body:pe})).text();let Ge;try{Ge=JSON.parse(Se)}catch{Ge=null}Ge?.success?(g(Ge.data.url),S(Ge.data.url)):ae(Ge?.error??"Upload error")}catch(Ue){ae("Upload error: "+Ue.message)}finally{W(!1)}},se=async Re=>{ke(Re),re(!1);try{const Ue=await(await fetch(`${ne}/products/by-barcode/${Re}`)).json();if(Ue?.success&&Ue?.data){const Se=Ue.data;Se.name_fr&&Y({ru:{name:Se.name_ru||"",description:Se.desc_ru||""},fr:{name:Se.name_fr||"",description:Se.desc_fr||""},en:{name:Se.name_en||"",description:Se.desc_en||""}}),Se.price&&f(Se.price.toString()),Se.brand_id&&A(Se.brand_id),Se.category_id&&T(Se.category_id),Se.image_url&&(g(Se.image_url),S(Se.image_url)),ue(`  - ${Re} !`),setTimeout(()=>ue(""),3e3)}else ue(`- ${Re} .`),setTimeout(()=>ue(""),3e3)}catch{ue(`- ${Re} .`),setTimeout(()=>ue(""),3e3)}},xe=async Re=>{console.log("--- TRANSLATION START ---");let pe=q[Re].name,Ue=q[Re].description;if(console.log(`Source (${Re}):`,{name:pe,desc:Ue}),!pe||pe.length<3){console.log("Name too short in state, checking input field...");const Je=document.querySelector(`input[placeholder="${Re==="fr"?"Nom":""}"]`);Je&&(pe=Je.value,console.log("Found name in input:",pe))}if(!pe||pe.trim().length<3){console.warn("Translation aborted: Name too short (min 3 chars)");return}const Se=["ru","fr","en"].filter(Je=>Je!==Re),Ge={text:String(pe),description:Ue||"",sourceLang:Re,targetLangs:Se,tags:"product_name"};console.log("Request Body:",Ge);try{console.log("Fetching from API...");const Je=await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge)});if(console.log("API Response Status:",Je.status),!Je.ok){const ot=await Je.text();console.error("API Error Response:",ot);return}const et=await Je.json();if(console.log("API Success Data:",et),et.success&&et.data){const ot={...q};["ru","fr","en"].forEach(cn=>{if(cn===Re)return;const Qe=et.data[cn];Qe&&(console.log(`Applying translation for ${cn}:`,Qe),Qe.name!==void 0&&Qe.name!==null&&(ot[cn].name=Qe.name),Qe.description!==void 0&&Qe.description!==null&&(ot[cn].description=Qe.description))}),Y(ot),ue("Translation completed"),setTimeout(()=>ue(""),3e3)}else console.error("API returned success:false or no data:",et)}catch(Je){console.error("Translation Fetch Error:",Je)}},we=async()=>{if(!oe.trim()){ae("Enter brand name");return}try{const pe=await(await fetch(`${ne}/brands`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:oe})})).json();if(pe?.success){const Ue=pe.data;B(Se=>[...Se,Ue]),A(Ue.id),he(!1),ge(""),ue("Brand added"),setTimeout(()=>ue(""),3e3)}else ae(pe?.error??"Failed to add brand")}catch{ae("Failed to add brand")}},Me=async()=>{if(!i.trim()){ae("Enter product SKU");return}if(!q.fr.name.trim()){ae("Enter product name");return}if(!u){ae("Enter price");return}try{const Re={sku:i.trim(),barcode:J?.trim()??null,price:parseFloat(u)||0,image_url:p||null,brand_id:w??null,category_id:j??null,name_ru:q.ru.name||null,desc_ru:q.ru.description||null,name_fr:q.fr.name||null,desc_fr:q.fr.description||null,name_en:q.en.name||null,desc_en:q.en.description||null},Ue=await(await fetch(`${ne}/products`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re)})).json();Ue?.success?(ue("Product added successfully!"),setTimeout(()=>s("/admin/products"),1500)):ae(Ue?.error??"Failed to save product")}catch{ae("Failed to save product")}},Ve=D.filter(Re=>!Re.parent_id);return t.jsxs("div",{className:"min-h-screen p-8",children:[t.jsx(wv,{isOpen:Z,onClose:()=>re(!1),onScan:se}),de&&t.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:de}),X&&t.jsxs("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),X]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[t.jsx("div",{children:t.jsxs("div",{className:`relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm border-2 border-dashed ${P?"border-[#FF6B00] bg-[#FF6B00]/10":"border-zinc-700/50"}`,onDragOver:G,onDragLeave:ie,onDrop:be,children:[t.jsx("div",{className:"aspect-square flex items-center justify-center p-8",children:L?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Nt,{className:"w-10 h-10 text-[#FF6B00] animate-spin"}),t.jsx("span",{className:"text-gray-400 text-sm",children:"..."})]}):v?t.jsx("img",{src:v,alt:"Product preview",className:"max-w-full max-h-full object-contain"}):t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Cn,{className:"w-20 h-20 text-gray-300"}),t.jsx("span",{className:"text-gray-400 text-sm mt-4",children:"  "})]})}),t.jsx("label",{className:`absolute inset-0 cursor-pointer ${v?"hidden":"flex"}`,children:t.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"hidden"})}),v&&t.jsx("button",{onClick:()=>{S(""),g("")},className:"absolute top-4 right-4 p-2 bg-red-500 rounded-full text-white",children:t.jsx(qn,{className:"w-4 h-4"})})]})}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-4",children:t.jsx("span",{className:"text-[#FF6B00] text-sm font-bold uppercase tracking-wide",children:" "})}),t.jsx("input",{type:"text",value:i,onChange:Re=>l(Re.target.value),className:"w-full font-black italic text-3xl uppercase tracking-tight bg-transparent border-none focus:outline-none text-white mb-4",placeholder:""}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-1 ml-1",children:" ()"}),t.jsx("input",{type:"text",value:u,onChange:Re=>f(Re.target.value),className:"w-full font-bold text-2xl bg-transparent border-b border-dashed focus:outline-none focus:border-[#FF6B00] text-white",placeholder:"0.00"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] font-bold uppercase tracking-widest text-gray-500 mb-1 ml-1",children:"-"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:J,onChange:Re=>ke(Re.target.value),className:"flex-1 font-mono text-sm bg-transparent border-b border-dashed focus:outline-none focus:border-[#FF6B00] text-white",placeholder:"-"}),t.jsx("button",{type:"button",onClick:()=>re(!0),className:"px-3 py-1.5 bg-[#FF6B00]/20 border border-[#FF6B00]/50 rounded-lg text-[#FF6B00] text-xs font-bold uppercase tracking-wider hover:bg-[#FF6B00]/30 transition-colors",children:""})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("select",{value:w??"",onChange:Re=>A(Re.target.value?parseInt(Re.target.value):null),className:"px-4 py-2 rounded-lg border border-zinc-700 bg-black/50 text-white",children:[t.jsx("option",{value:"",children:""}),R.map(Re=>t.jsx("option",{value:Re.id,children:Re.name},Re.id))]}),t.jsxs("select",{value:j??"",onChange:Re=>T(Re.target.value?parseInt(Re.target.value):null),className:"px-4 py-2 rounded-lg border border-zinc-700 bg-black/50 text-white",children:[t.jsx("option",{value:"",children:""}),Ve.map(Re=>t.jsx("option",{value:Re.id,children:Re.name_fr||Re.name_ru||Re.name_en||""},Re.id))]})]}),t.jsx("button",{onClick:Me,className:"w-full bg-[#FF6B00] text-black px-8 py-4 text-sm font-bold uppercase rounded-xl hover:bg-[#FF8533]",children:""})]})]}),t.jsxs("div",{className:"mt-12",children:[t.jsx("h3",{className:"font-bold italic text-xl uppercase tracking-wide text-white mb-6",children:""}),t.jsx("div",{className:"space-y-6",children:["ru","fr","en"].map(Re=>t.jsxs("div",{className:"p-4 rounded-xl bg-white/5",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("span",{className:"text-lg font-bold text-white",children:Re.toUpperCase()}),t.jsx("button",{onClick:()=>{console.log("BUTTON CLICKED for",Re),xe(Re)},className:"ml-auto p-2 bg-[#FF6B00]/20 rounded-lg hover:bg-[#FF6B00]/30 transition-colors",title:"AI Translate",children:t.jsx(Qa,{className:"w-4 h-4 text-[#FF6B00]"})})]}),t.jsx("input",{type:"text",value:q[Re].name,onChange:pe=>Y(Ue=>({...Ue,[Re]:{...Ue[Re],name:pe.target.value}})),placeholder:Re==="fr"?"Nom":Re==="ru"?"":"Name",className:"w-full px-4 py-2 bg-transparent border border-zinc-700 rounded-lg text-white text-sm focus:outline-none focus:border-[#FF6B00] mb-3"}),t.jsx("textarea",{value:q[Re].description,onChange:pe=>Y(Ue=>({...Ue,[Re]:{...Ue[Re],description:pe.target.value}})),placeholder:"Description",rows:3,className:"w-full px-4 py-2 bg-transparent border border-zinc-700 rounded-lg text-white text-sm focus:outline-none focus:border-[#FF6B00] resize-none"})]},Re))})]}),Ce&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:t.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl border border-zinc-700 w-full max-w-md",children:[t.jsxs("div",{className:"flex justify-between mb-4",children:[t.jsx("h3",{className:"font-bold italic text-xl uppercase text-white",children:" "}),t.jsx("button",{onClick:()=>he(!1),children:t.jsx(qn,{className:"w-5 h-5 text-gray-400"})})]}),t.jsx("input",{type:"text",value:oe,onChange:Re=>ge(Re.target.value),className:"w-full px-4 py-2.5 border border-zinc-700 rounded-lg text-white bg-black/50",placeholder:" "}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsx("button",{onClick:()=>he(!1),className:"flex-1 py-2.5 border border-zinc-700 rounded-lg text-sm font-bold uppercase text-white",children:""}),t.jsx("button",{onClick:we,disabled:!oe.trim(),className:"flex-1 py-2.5 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase",children:""})]})]})})]})},v2=()=>{const{t:s}=Ot(),i=Sn(),l=Ss(),[u,f]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[p,g]=_.useState(new Set);_.useEffect(()=>{const Fe=()=>{f(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",Fe),()=>window.removeEventListener("themechange",Fe)},[]);const[v,S]=_.useState([]),[w,A]=_.useState(!0),[j,T]=_.useState(!1),[R,B]=_.useState(null),[D,$]=_.useState(""),[P,O]=_.useState(""),[L,W]=_.useState(!1),[de,ae]=_.useState(!1),[X,ue]=_.useState(!1),[q,Y]=_.useState(""),[Ce,he]=_.useState(!1),[oe,ge]=_.useState(null),[Z,re]=_.useState({slug:"",icon:"",image_url:"",parent_id:null,sort_order:0,name_ru:"",name_fr:"",name_en:"",desc_ru:"",desc_fr:"",desc_en:""}),J="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{ke()},[]);const ke=async()=>{A(!0);try{const ut=await(await fetch(`${J}/categories`)).json();if(ut.success){const Ae=ne(ut.data);S(Ae)}}catch(Fe){console.error("Failed to load categories:",Fe),$("  ")}finally{A(!1)}},ne=Fe=>{const ut=new Map,Ae=[];Fe.forEach(rt=>{ut.set(rt.id,{...rt,children:[],_depth:0})}),Fe.forEach(rt=>{const gt=ut.get(rt.id);if(rt.parent_id&&ut.has(rt.parent_id)){const Mn=ut.get(rt.parent_id);Mn.children=Mn.children||[],Mn.children.push(gt),gt._depth=(Mn._depth||0)+1}else Ae.push(gt)});const nt=rt=>rt.sort((gt,Mn)=>gt.sort_order-Mn.sort_order).map(gt=>({...gt,children:gt.children?nt(gt.children):[]}));return nt(Ae)},ee=Fe=>{g(ut=>{const Ae=new Set(ut);return Ae.has(Fe)?Ae.delete(Fe):Ae.add(Fe),Ae})},U=async(Fe,ut)=>{const Ae={name:Z.name_ru,description:Z.desc_ru};if(!Ae.name.trim()||Ae.name.length<3)return;he(!0),$("");const nt=["fr","en"].filter(rt=>rt!==Fe);try{const rt=`${J}/translate`;console.log("[Translate] Sending request to:",rt),console.log("[Translate] Request body:",JSON.stringify({text:Ae,targetLangs:nt}));const gt=await fetch(rt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:Ae,sourceLang:Fe,targetLangs:nt})});console.log("[Translate] Response status:",gt.status,gt.statusText),console.log("[Translate] Response headers:",Object.fromEntries(gt.headers.entries()));const Mn=await gt.json();if(Mn.success)re(Es=>{const Ea={...Es};return nt.forEach(Bt=>{Mn.data[Bt]&&(ut==="name"?Ea[`name_${Bt}`]=Mn.data[Bt].name||"":Ea[`desc_${Bt}`]=Mn.data[Bt].description||"")}),Ea}),O("  "),setTimeout(()=>O(""),3e3);else{console.error("[Translate] Server error:",Mn.error);const Es=` : ${Mn.error||" "}`;$(Es),window.alert(Es)}}catch(rt){const gt=` : ${rt instanceof Error?rt.message:"Network error"}`;console.error("[Translate] Network error:",rt),$(gt),window.alert(gt)}finally{he(!1)}},G=Fe=>{Fe.preventDefault(),ue(!0)},ie=()=>{ue(!1)},be=async Fe=>{Fe.preventDefault(),ue(!1);const ut=Fe.dataTransfer.files[0];ut&&await te(ut)},V=async Fe=>{const ut=Fe.target.files?.[0];ut&&await te(ut)},te=async Fe=>{W(!0),$(""),console.log("[Upload] Starting upload, file:",Fe.name,"size:",Fe.size,"bytes");const ut=new FormData;ut.append("file",Fe),ut.append("folder","categories");try{console.log("[Upload] Sending request to:",`${J}/upload`);const Ae=await fetch(`${J}/upload`,{method:"POST",body:ut});console.log("[Upload] Response status:",Ae.status,Ae.statusText),console.log("[Upload] Response headers:",Object.fromEntries(Ae.headers.entries()));const nt=await Ae.json();if(console.log("[Upload] Response data:",nt),nt.success)console.log("[Upload] Success! URL:",nt.data.url),Y(nt.data.url),re(rt=>({...rt,image_url:nt.data.url}));else{console.error("[Upload] Error from server:",nt.error);const rt=` : ${nt.error||" "}`;$(rt),window.alert(rt)}}catch(Ae){const nt=`  : ${Ae instanceof Error?Ae.message:"Network error"}`;console.error("[Upload] Network error:",Ae),$(nt),window.alert(nt)}finally{W(!1)}},se=()=>{Y(""),re(Fe=>({...Fe,image_url:""}))},xe=async()=>{if(!Z.name_ru.trim()||Z.name_ru.length<3){$("    ( 3 )");return}he(!0),$("");const Fe=`${J}/translate`;console.log("  :",Fe),console.log(" :",{text:{name:Z.name_ru,description:Z.desc_ru},targetLangs:["fr","en"]});try{const ut=await fetch(Fe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:{name:Z.name_ru,description:Z.desc_ru},sourceLang:"ru",targetLangs:["fr","en"]})});console.log("  API:",ut.status,ut.statusText);const Ae=await ut.json();console.log(" :",Ae),Ae.success?(re(nt=>({...nt,name_fr:nt.name_fr?.trim()?nt.name_fr:Ae.data.fr?.name||"",desc_fr:nt.desc_fr?.trim()?nt.desc_fr:Ae.data.fr?.description||"",name_en:nt.name_en?.trim()?nt.name_en:Ae.data.en?.name||"",desc_en:nt.desc_en?.trim()?nt.desc_en:Ae.data.en?.description||""})),O("  "),setTimeout(()=>O(""),3e3)):(console.error(" :",Ae.error),$(Ae.error||" "))}catch(ut){console.error(" :",ut),$("  ")}finally{he(!1)}},we=async()=>{if($(""),!Z.name_ru.trim()){$("    ");return}if(!Z.slug.trim()){$(" slug");return}ae(!0);try{const Fe=R?`${J}/categories/${R}`:`${J}/categories`,nt=await(await fetch(Fe,{method:R?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)})).json();nt.success?(O(R?" ":" "),setTimeout(()=>O(""),3e3),T(!1),pe(),ke()):$(nt.error||" ")}catch{$("   ")}finally{ae(!1)}},Me=async Fe=>{if(confirm(" ,     ?")){$("");try{const Ae=await(await fetch(`${J}/categories/${Fe}`,{method:"DELETE"})).json();Ae.success?(O(" "),setTimeout(()=>O(""),3e3),ke()):$(Ae.error||" ")}catch{$("   ")}}},Ve=Fe=>{re({slug:Fe.slug,icon:Fe.icon||"",image_url:Fe.image_url||"",parent_id:Fe.parent_id,sort_order:Fe.sort_order,name_ru:Fe.name_ru||"",name_fr:Fe.name_fr||"",name_en:Fe.name_en||"",desc_ru:Fe.desc_ru||"",desc_fr:Fe.desc_fr||"",desc_en:Fe.desc_en||""}),Y(Fe.image_url||""),B(Fe.id),T(!0)},Re=Fe=>{pe(),re(ut=>({...ut,parent_id:Fe})),T(!0)},pe=()=>{re({slug:"",icon:"",image_url:"",parent_id:null,sort_order:0,name_ru:"",name_fr:"",name_en:"",desc_ru:"",desc_fr:"",desc_en:""}),Y(""),B(null)},Ue=()=>{pe(),T(!0)},Se=()=>{T(!1),pe()},Ge=u?"text-zinc-600":"text-zinc-400",Je=u?"border-black":"border-[#FF6B00]/20",et=u?"text-zinc-900":"text-white",ot=u?"bg-white":"bg-black/50",cn=u?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",Qe=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}],ls=Fe=>l.pathname===Fe,Fs=Fe=>{const ut=Fe.children&&Fe.children.length>0,Ae=p.has(Fe.id),rt=(Fe._depth||0)*24;return t.jsxs(Ze.Fragment,{children:[t.jsxs("tr",{className:`${u?"hover:bg-gray-50":"hover:bg-white/5"} transition-colors`,children:[t.jsx("td",{className:`px-4 py-3 text-sm ${et}`,children:Fe.id}),t.jsx("td",{className:"px-4 py-3",children:Fe.image_url?t.jsx("img",{src:Fe.image_url,alt:"",className:"w-10 h-10 rounded-lg object-cover"}):t.jsx("div",{className:"w-10 h-10 rounded-lg bg-zinc-700/50 flex items-center justify-center",children:t.jsx("span",{className:"text-lg",children:Fe.icon||""})})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-1",children:[ut&&t.jsx("button",{onClick:()=>ee(Fe.id),className:`p-1 hover:bg-[#FF6B00]/20 rounded transition-colors ${Ge}`,children:Ae?t.jsx(tv,{className:"w-4 h-4"}):t.jsx(Ft,{className:"w-4 h-4"})}),t.jsx("span",{className:"text-lg",children:Fe.icon||""})]})}),t.jsx("td",{className:`px-4 py-3 text-sm ${et}`,children:t.jsx("span",{style:{marginLeft:`${rt}px`},children:Fe.name_ru||"-"})}),t.jsx("td",{className:`px-4 py-3 text-sm ${Ge}`,children:Fe.slug}),t.jsx("td",{className:`px-4 py-3 text-sm ${Ge}`,children:Fe.parent_id?v.flatMap(gt=>gt.children||[]).find(gt=>gt.id===Fe.parent_id)?.name_ru||"-":""}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[t.jsx("button",{onClick:()=>Re(Fe.id),className:`p-1.5 border ${Je} rounded-lg hover:bg-[#FF6B00]/20 hover:border-[#FF6B00] transition-colors ${Ge}`,title:" ",children:t.jsx(ks,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>Ve(Fe),className:`p-1.5 border ${Je} rounded-lg hover:border-[#FF6B00] transition-colors ${Ge} hover:text-[#FF6B00]`,title:"",children:t.jsx(Gu,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>Me(Fe.id),className:"p-1.5 border border-red-500/30 rounded-lg hover:bg-red-500/20 text-red-500 transition-colors",title:"",children:t.jsx(Ca,{className:"w-3.5 h-3.5"})})]})})]}),ut&&Ae&&Fe.children.map(gt=>Fs(gt))]},Fe.id)};return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${cn}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>i("/admin"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${u?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToDashboard")]}),t.jsx("div",{className:`h-4 w-px ${u?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:Qe.map(Fe=>t.jsxs("button",{onClick:()=>i(Fe.path),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${ls(Fe.path)?"bg-[#FF6B00] text-black":u?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[Fe.icon,Fe.label]},Fe.id))})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{className:"hidden sm:flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider bg-[#FF6B00] text-black rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(Ri,{className:"w-3 h-3"}),s("admin.sync")]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${u?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})]})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:j?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:Se,className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${Ge} hover:text-[#FF6B00] mb-4`,children:[t.jsx(Jw,{className:"w-3.5 h-3.5"}),"  "]}),t.jsx("h1",{className:`font-black italic text-3xl md:text-4xl uppercase tracking-tight ${et}`,children:R?" ":Z.parent_id?`: ${v.flatMap(Fe=>Fe.children||[]).find(Fe=>Fe.id===Z.parent_id)?.name_ru||""}`:" "}),t.jsx("p",{className:`text-sm ${Ge} mt-1`,children:"      "})]}),D&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:D}),P&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),P]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:`p-6 border ${Je} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide mb-4 ${et}`,children:" "}),t.jsx("div",{onDragOver:G,onDragLeave:ie,onDrop:be,className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 ${X?"border-[#FF6B00] bg-[#FF6B00]/10":`${Je} ${u?"bg-gray-50":"bg-black/30"}`}`,children:L?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"}),t.jsx("p",{className:`text-sm ${Ge}`,children:"..."})]}):q?t.jsxs("div",{className:"relative inline-block",children:[t.jsx("img",{src:q,alt:"Preview",className:"max-h-48 rounded-lg"}),t.jsx("button",{onClick:se,className:"absolute -top-2 -right-2 p-1.5 bg-red-500 rounded-full text-white hover:bg-red-600 transition-colors",children:t.jsx(qn,{className:"w-4 h-4"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ri,{className:`w-10 h-10 mx-auto mb-3 ${Ge}`}),t.jsx("p",{className:`text-sm mb-2 ${Ge}`,children:"     "}),t.jsx("p",{className:`text-xs ${Ge} opacity-70 mb-4`,children:"PNG, JPG  5MB"}),t.jsxs("label",{className:"inline-flex items-center gap-2 px-6 py-3 bg-[#FF6B00] text-black text-sm font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors cursor-pointer",children:[t.jsx(zl,{className:"w-5 h-5"})," ",t.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:V,className:"hidden"})]}),t.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})})]}),t.jsxs("div",{className:`p-6 border ${Je} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide mb-4 ${et}`,children:" "}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ge}`,children:"Slug *"}),t.jsx("input",{type:"text",value:Z.slug,onChange:Fe=>re(ut=>({...ut,slug:Fe.target.value})),className:`w-full px-4 py-2.5 border ${Je} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${et} ${ot}`,placeholder:"category-slug"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ge}`,children:" "}),t.jsx("input",{type:"number",min:"0",value:Z.sort_order,onChange:Fe=>re(ut=>({...ut,sort_order:parseInt(Fe.target.value)||0})),className:`w-full px-4 py-2.5 border ${Je} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${et} ${ot}`,placeholder:"0"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ge}`,children:" "}),t.jsxs("select",{value:Z.parent_id||"",onChange:Fe=>re(ut=>({...ut,parent_id:Fe.target.value?parseInt(Fe.target.value):null})),className:`w-full px-4 py-2.5 border ${Je} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${et} ${ot}`,children:[t.jsx("option",{value:"",children:" "}),v.map(Fe=>t.jsxs("option",{value:Fe.id,children:["".repeat(Fe._depth||0)," ",Fe.name_ru||Fe.slug]},Fe.id))]})]})]})]}),t.jsxs("div",{className:`p-6 border ${Je} rounded-xl`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide ${et}`,children:" "}),t.jsx("button",{onClick:xe,disabled:Ce||!Z.name_ru.trim(),className:"flex items-center gap-2 px-4 py-2 bg-[#FF6B00] text-black text-xs font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors disabled:opacity-50",children:Ce?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qa,{className:"w-4 h-4"}),"AI Translate All"]})})]}),t.jsx("div",{className:"space-y-6",children:[{code:"ru",label:"RU"},{code:"fr",label:"FR"},{code:"en",label:"EN"}].map(Fe=>{const ut=`name_${Fe.code}`,Ae=`desc_${Fe.code}`;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ge}`,children:[" (",Fe.label,") ",Fe.code==="ru"&&"*"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:Z[ut],onChange:nt=>{re(rt=>({...rt,[ut]:nt.target.value})),ge({lang:Fe.code,field:"name"})},onFocus:()=>ge({lang:Fe.code,field:"name"}),onBlur:()=>setTimeout(()=>ge(null),200),className:`w-full px-4 py-2.5 pr-14 border ${Je} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${et} ${ot}`,placeholder:Fe.code==="ru"?" ":Fe.code==="fr"?"Nom de la catgorie":"Category name"}),t.jsx(rs,{children:oe?.lang===Fe.code&&oe?.field==="name"&&Z[ut].length>=3&&Fe.code==="ru"&&t.jsx(qe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>U(Fe.code,"name"),disabled:Ce!==null,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-[#FF6B00]/20 hover:bg-[#FF6B00]/40 rounded-lg transition-colors group",title:"AI Translate",children:Ce?t.jsx(Nt,{className:"w-4 h-4 text-[#FF6B00] animate-spin"}):t.jsx(Qa,{className:"w-4 h-4 text-[#FF6B00] group-hover:scale-110 transition-transform"})})})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ge}`,children:[" (",Fe.label,")"]}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{rows:3,value:Z[Ae],onChange:nt=>{re(rt=>({...rt,[Ae]:nt.target.value})),ge({lang:Fe.code,field:"description"})},onFocus:()=>ge({lang:Fe.code,field:"description"}),onBlur:()=>setTimeout(()=>ge(null),200),className:`w-full px-4 py-2.5 pr-14 border ${Je} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${et} ${ot} resize-none`,placeholder:" ..."}),t.jsx(rs,{children:oe?.lang===Fe.code&&oe?.field==="description"&&Z[Ae].length>=3&&Fe.code==="ru"&&t.jsx(qe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>U(Fe.code,"description"),disabled:Ce!==null,className:"absolute right-2 top-3 p-1.5 bg-[#FF6B00]/20 hover:bg-[#FF6B00]/40 rounded-lg transition-colors group",title:"AI Translate",children:Ce?t.jsx(Nt,{className:"w-4 h-4 text-[#FF6B00] animate-spin"}):t.jsx(Qa,{className:"w-4 h-4 text-[#FF6B00] group-hover:scale-110 transition-transform"})})})]})]})]},Fe.code)})})]}),t.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[t.jsx("button",{onClick:Se,className:`px-6 py-3 border ${Je} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${et} hover:border-[#FF6B00]`,children:""}),t.jsx("button",{onClick:we,disabled:de,className:"px-8 py-3 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors disabled:opacity-50 flex items-center gap-2",children:de?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"w-4 h-4"}),R?"":""]})})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:`font-black italic text-3xl md:text-4xl uppercase tracking-tight ${et}`,children:""}),t.jsx("p",{className:`text-sm ${Ge} mt-1`,children:"    "})]}),t.jsxs("button",{onClick:Ue,className:"flex items-center gap-2 px-4 py-2.5 bg-[#FF6B00] text-black text-xs font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(ks,{className:"w-4 h-4"})," "]})]}),D&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:D}),P&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),P]}),t.jsx("div",{className:`border ${Je} rounded-xl overflow-hidden`,children:w?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(Nt,{className:`w-8 h-8 mx-auto mb-3 ${Ge} animate-spin`}),t.jsx("p",{className:`text-sm ${Ge}`,children:"..."})]}):v.length===0?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(DE,{className:`w-12 h-12 mx-auto mb-3 ${Ge} opacity-50`}),t.jsx("p",{className:`text-sm ${Ge}`,children:"  "}),t.jsx("button",{onClick:Ue,className:"mt-4 px-4 py-2 bg-[#FF6B00] text-black text-xs font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors",children:"  "})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:`border-b ${Je}`,children:t.jsxs("tr",{className:u?"bg-gray-50":"bg-white/5",children:[t.jsx("th",{className:`px-4 py-3 text-left text-xs font-bold uppercase tracking-wide ${Ge}`,children:"#"}),t.jsx("th",{className:`px-4 py-3 text-left text-xs font-bold uppercase tracking-wide ${Ge}`,children:""}),t.jsx("th",{className:`px-4 py-3 text-left text-xs font-bold uppercase tracking-wide ${Ge}`,children:""}),t.jsx("th",{className:`px-4 py-3 text-left text-xs font-bold uppercase tracking-wide ${Ge}`,children:" (RU)"}),t.jsx("th",{className:`px-4 py-3 text-left text-xs font-bold uppercase tracking-wide ${Ge}`,children:"Slug"}),t.jsx("th",{className:`px-4 py-3 text-left text-xs font-bold uppercase tracking-wide ${Ge}`,children:""}),t.jsx("th",{className:`px-4 py-3 text-right text-xs font-bold uppercase tracking-wide ${Ge}`,children:""})]})}),t.jsx("tbody",{className:"divide-y divide-white/5",children:v.map(Fe=>Fs(Fe))})]})})})]})})})]})},N2=()=>{const{t:s}=Ot(),i=Sn(),[l,u]=_.useState(""),[f,p]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[g,v]=_.useState([]),[S,w]=_.useState(""),[A,j]=_.useState(""),[T,R]=_.useState(!1),[B,D]=_.useState(null),[$,P]=_.useState(""),[O,L]=_.useState(""),[W,de]=_.useState(""),[ae,X]=_.useState(!1),[ue,q]=_.useState(!1),[Y,Ce]=_.useState("#FF6B00"),[he,oe]=_.useState(50),[ge,Z]=_.useState(!1),[re,J]=_.useState("#FF6B00"),[ke,ne]=_.useState(50),[ee,U]=_.useState(!1),[G,ie]=_.useState("#FF6B00"),[be,V]=_.useState(100),[te,se]=_.useState(!1),[xe,we]=_.useState("#FF6B00"),[Me,Ve]=_.useState(100),[Re,pe]=_.useState(!1),[Ue,Se]=_.useState("#FF6B00"),[Ge,Je]=_.useState(50),[et,ot]=_.useState(20),[cn,Qe]=_.useState(!1),[ls,Fs]=_.useState("#FF6B00"),[Fe,ut]=_.useState(50),[Ae,nt]=_.useState(20),[rt,gt]=_.useState(!1),[Mn,Es]=_.useState(!1),[Ea,Bt]=_.useState(!1),[Xe,qt]=_.useState(!1),[Ct,un]=_.useState(null),[Ht,Kt]=_.useState({ru:{description:""},fr:{description:""},en:{description:""}}),[Yt,bt]=_.useState(null),[Ie,ft]=_.useState(null),Dt="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const _e=()=>{p(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",_e),()=>window.removeEventListener("themechange",_e)},[]),_.useEffect(()=>{yt()},[]);const yt=async()=>{try{const $t=await(await fetch(`${Dt}/brands`)).json();$t.success&&v($t.data)}catch(_e){console.error("Failed to load brands:",_e),w("Failed to load brands")}},As=()=>{D(null),P(""),L(""),de(""),Kt({ru:{description:""},fr:{description:""},en:{description:""}}),R(!0)},dn=_e=>{D(_e),P(_e.name),L(_e.logo_url||""),de(_e.logo_url||""),X(_e.hide_name||!1),q(_e.bg_light_enabled||!1),Ce(_e.bg_light_color||"#FF6B00"),oe(_e.bg_light_opacity||50),Z(_e.bg_dark_enabled||!1),J(_e.bg_dark_color||"#FF6B00"),ne(_e.bg_dark_opacity||50),U(_e.border_light_enabled||!1),ie(_e.border_light_color||"#FF6B00"),V(_e.border_light_opacity||100),se(_e.border_dark_enabled||!1),we(_e.border_dark_color||"#FF6B00"),Ve(_e.border_dark_opacity||100),pe(_e.glow_light_enabled||!1),Se(_e.glow_light_color||"#FF6B00"),Je(_e.glow_light_opacity||50),ot(_e.glow_light_blur||20),Qe(_e.glow_dark_enabled||!1),Fs(_e.glow_dark_color||"#FF6B00"),ut(_e.glow_dark_opacity||50),nt(_e.glow_dark_blur||20),gt(!1),Kt({ru:{description:_e.description_ru||""},fr:{description:_e.description_fr||""},en:{description:_e.description_en||""}}),R(!0)},xs=async(_e,$t)=>{if($t.stopPropagation(),!!confirm("tes-vous sr de vouloir supprimer cette marque?")){un(_e);try{const Fn=await(await fetch(`${Dt}/brands/${_e}`,{method:"DELETE"})).json();Fn.success?(v(g.filter(Aa=>Aa.id!==_e)),j("Marque supprime avec succs"),setTimeout(()=>j(""),3e3)):w(Fn.error||"Failed to delete brand")}catch{w("Failed to delete brand")}finally{un(null)}}},ps=_e=>{_e.preventDefault(),Bt(!0)},Zn=()=>{Bt(!1)},Yr=async _e=>{_e.preventDefault(),Bt(!1);const $t=_e.dataTransfer.files[0];$t&&await si($t)},Ks=async _e=>{const $t=_e.target.files?.[0];$t&&await si($t)},si=async _e=>{Es(!0),w("");const $t=new FormData;$t.append("file",_e),$t.append("folder","brands");try{const Fn=await(await fetch(`${Dt}/upload`,{method:"POST",body:$t})).json();Fn.success?(L(Fn.data.url),de(Fn.data.url)):w(Fn.error||"Failed to upload image")}catch{w("Failed to upload image")}finally{Es(!1)}},Qn=async _e=>{const $t=Ht[_e].description;if(!$t.trim()||$t.length<3)return;ft(_e),w("");const In=["ru","fr","en"].filter(Fn=>Fn!==_e);try{const Aa=await(await fetch(`${Dt}/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:{description:$t},sourceLang:_e,targetLangs:In})})).json();Aa.success?(Kt(ai=>{const os={...ai};return In.forEach(xn=>{Aa.data[xn]&&!os[xn].description?.trim()&&(os[xn]={...os[xn],description:Aa.data[xn].description||""})}),os}),j("Traduction effectue avec succs"),setTimeout(()=>j(""),3e3)):w(Aa.error||"Failed to translate")}catch{w("Failed to translate")}finally{ft(null)}},Zs=async()=>{if(!$.trim()){w("Le nom de la marque est requis");return}qt(!0),w("");try{const $t=await(await fetch(B?`${Dt}/brands/${B.id}`:`${Dt}/brands`,{method:B?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:$,logo_url:O||null,description_ru:Ht.ru.description,description_fr:Ht.fr.description,description_en:Ht.en.description,hide_name:ae,bg_light_color:ue?Y:null,bg_light_opacity:ue?he:null,bg_light_enabled:ue,bg_dark_color:ge?re:null,bg_dark_opacity:ge?ke:null,bg_dark_enabled:ge,border_light_enabled:ee,border_light_color:ee?G:null,border_light_opacity:ee?be:null,border_dark_enabled:te,border_dark_color:te?xe:null,border_dark_opacity:te?Me:null,glow_light_enabled:Re,glow_light_color:Re?Ue:null,glow_light_opacity:Re?Ge:null,glow_light_blur:Re?et:null,glow_dark_enabled:cn,glow_dark_color:cn?ls:null,glow_dark_opacity:cn?Fe:null,glow_dark_blur:cn?Ae:null})})).json();$t.success?(v(B?g.map(In=>In.id===B.id?$t.data:In):[...g,$t.data]),R(!1),j(B?"Marque mise  jour":"Marque cre avec succs"),setTimeout(()=>j(""),3e3)):w($t.error||"Failed to save brand")}catch{w("Failed to save brand")}finally{qt(!1)}},wt=f?"text-zinc-900":"text-zinc-100",Ye=f?"text-zinc-600":"text-zinc-400",mn=f?"border-black":"border-[#FF6B00]/20",an=f?"bg-white":"bg-black/50",en=g.filter(_e=>_e.name.toLowerCase().includes(l.toLowerCase()));return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:`font-black italic text-2xl md:text-3xl uppercase tracking-tight ${wt}`,children:s("admin.brands.title")}),t.jsx("p",{className:`text-xs ${Ye} mt-1`,children:s("admin.sections.brands.description")})]}),t.jsxs("button",{onClick:As,className:"flex items-center gap-1.5 px-4 py-1.5 text-xs font-bold uppercase tracking-wider bg-[#FF6B00] text-black rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(ks,{className:"w-3 h-3"}),s("admin.brands.addNew")]})]}),A&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),A]}),S&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:S}),t.jsx("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(wd,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${Ye}`}),t.jsx("input",{type:"text",placeholder:s("admin.brands.searchPlaceholder"),value:l,onChange:_e=>u(_e.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-transparent border ${mn} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${wt} placeholder-${Ye}`})]})}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:en.map((_e,$t)=>t.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:$t*.05},className:"relative group",children:[t.jsx("div",{className:"relative aspect-square flex items-center justify-center cursor-pointer",onClick:()=>i(`/admin/brands/${_e.id}`),children:_e.logo_url?t.jsx("img",{src:_e.logo_url,alt:_e.name,className:"w-full h-full object-contain p-4 transition-all duration-500 group-hover:scale-110 filter drop-shadow-lg"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("span",{className:`text-6xl font-black italic ${wt} opacity-50 group-hover:opacity-100 transition-opacity`,children:_e.name.charAt(0)})})}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide ${wt} group-hover:text-[#FF6B00] transition-colors`,children:_e.name})}),t.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[t.jsx("button",{onClick:In=>{In.stopPropagation(),dn(_e)},className:"p-2 bg-[#FF6B00] rounded-lg text-black hover:bg-[#FF8533] transition-colors shadow-lg",title:s("admin.brands.edit"),children:t.jsx(ei,{className:"w-4 h-4"})}),t.jsx("button",{onClick:In=>xs(_e.id,In),disabled:Ct===_e.id,className:"p-2 bg-red-500 rounded-lg text-white hover:bg-red-600 transition-colors shadow-lg disabled:opacity-50",title:s("admin.brands.delete"),children:Ct===_e.id?t.jsx(Nt,{className:"w-4 h-4 animate-spin"}):t.jsx(Ca,{className:"w-4 h-4"})})]})]},_e.id))})]})}),t.jsx(rs,{children:T&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>{R(!1),gt(!1)}}),t.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`relative w-full ${rt?"max-w-5xl":"max-w-2xl"} p-6 border ${mn} rounded-xl ${f?"bg-white":"bg-zinc-900"} my-8 transition-all duration-300`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:`font-bold italic text-xl uppercase tracking-wide ${wt}`,children:s(B?"admin.brands.edit":"admin.brands.addNew")}),t.jsx("button",{onClick:()=>{R(!1),gt(!1)},className:`p-1 hover:bg-white/10 rounded-lg transition-colors ${Ye}`,children:t.jsx(qn,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex gap-6",children:[t.jsx("div",{className:`flex-1 ${rt?"w-1/2":"w-full"} transition-all duration-300`,children:t.jsxs("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:[t.jsxs("div",{children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ye}`,children:[s("admin.brands.name")," *"]}),t.jsx("input",{type:"text",value:$,onChange:_e=>P(_e.target.value),className:`w-full px-4 py-2.5 border ${mn} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${wt} ${an}`,placeholder:"Nom de la marque"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ye}`,children:s("admin.brands.brandLogo")}),t.jsxs("div",{onDragOver:ps,onDragLeave:Zn,onDrop:Yr,className:`relative border-2 border-dashed rounded-xl p-6 text-center transition-all duration-300 ${Ea?"border-[#FF6B00] bg-[#FF6B00]/10":`${mn} ${f?"bg-gray-50":"bg-black/30"}`}`,children:[Mn?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(Nt,{className:"w-6 h-6 text-[#FF6B00] animate-spin"}),t.jsx("p",{className:`text-sm ${Ye}`,children:"Chargement..."})]}):W?t.jsxs("div",{className:"relative inline-block",children:[t.jsx("img",{src:W,alt:"Logo",className:"max-h-32 mx-auto rounded-lg"}),t.jsx("button",{onClick:async()=>{if(confirm("tes-vous sr de vouloir supprimer ce logo?"))if(B)try{await fetch(`${Dt}/brands/${B.id}/logo`,{method:"DELETE"}),L(""),de("")}catch{w("Failed to delete logo")}else L(""),de("")},className:"absolute -top-2 -right-2 p-1.5 bg-red-500 rounded-full text-white hover:bg-red-600",title:"Supprimer le logo",children:t.jsx(qn,{className:"w-3 h-3"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ri,{className:`w-8 h-8 mx-auto mb-2 ${Ye}`}),t.jsx("p",{className:`text-sm mb-2 ${Ye}`,children:s("admin.brands.dragDropFile")}),t.jsx("p",{className:`text-xs ${Ye} opacity-70 mb-2`,children:s("admin.brands.fileInfo")}),t.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#FF6B00] text-black text-xs font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors cursor-pointer",children:[t.jsx(zl,{className:"w-4 h-4"}),s("admin.brands.chooseFile"),t.jsx("input",{type:"file",accept:"image/*",onChange:Ks,className:"hidden"})]})]}),t.jsx("input",{type:"file",accept:"image/*",onChange:Ks,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-3 ${Ye}`,children:s("admin.brands.multilingualDescription")}),t.jsx("p",{className:`text-xs ${Ye} mb-4`,children:s("admin.brands.translateHint")}),["ru","fr","en"].map(_e=>t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ye}`,children:["Description (",_e.toUpperCase(),")"]}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{rows:3,value:Ht[_e].description,onChange:$t=>{Kt(In=>({...In,[_e]:{...In[_e],description:$t.target.value}})),bt(_e)},onFocus:()=>bt(_e),onBlur:()=>setTimeout(()=>bt(null),200),className:`w-full px-4 py-2.5 pr-14 border ${mn} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${wt} ${an} resize-none`,placeholder:_e==="ru"?" ...":_e==="fr"?"Description de la marque...":"Brand description..."}),t.jsx(rs,{children:Yt===_e&&Ht[_e].description.length>=3&&t.jsx(qe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>Qn(_e),disabled:Ie!==null,className:"absolute right-2 top-2 p-1.5 bg-[#FF6B00]/20 hover:bg-[#FF6B00]/40 rounded-lg transition-colors group",title:"AI Translate",children:Ie===_e?t.jsx(Nt,{className:"w-4 h-4 text-[#FF6B00] animate-spin"}):t.jsx(Qa,{className:"w-4 h-4 text-[#FF6B00] group-hover:scale-110 transition-transform"})})})]})]},_e))]})]})}),t.jsx(rs,{children:rt&&t.jsxs(qe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"w-1/2 border-l border-dashed border-[#FF6B00]/30 pl-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:`font-bold italic text-lg uppercase tracking-wide ${wt}`,children:"  "}),t.jsx("button",{onClick:()=>gt(!1),className:`p-1 hover:bg-white/10 rounded-lg transition-colors ${Ye}`,children:t.jsx(qn,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"space-y-6 max-h-[55vh] overflow-y-auto pr-2",children:[t.jsxs("div",{className:"mb-4 p-4 border border-dashed border-[#FF6B00]/30 rounded-lg",children:[t.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide mb-3 ${wt}`,children:" "}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("input",{type:"checkbox",id:"bgLightEnabled",checked:ue,onChange:_e=>q(_e.target.checked),className:"w-4 h-4 rounded border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"bgLightEnabled",className:`text-sm ${wt}`,children:" "})]}),ue&&t.jsxs("div",{className:"flex flex-col gap-3 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:Y,onChange:_e=>Ce(_e.target.value),className:"w-8 h-8 rounded cursor-pointer border border-zinc-600"}),t.jsx("input",{type:"text",value:Y,onChange:_e=>Ce(_e.target.value),className:`w-20 px-2 py-1 text-xs border ${mn} rounded ${wt} ${an}`})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"0",max:"100",value:he,onChange:_e=>oe(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[he,"%"]})]}),t.jsx("div",{className:"h-8 rounded border border-zinc-600",style:{backgroundColor:`${Y}${Math.round(he*2.55).toString(16).padStart(2,"0")}`}})]})]}),t.jsxs("div",{className:"mb-4 p-4 border border-dashed border-[#FF6B00]/30 rounded-lg",children:[t.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide mb-3 ${wt}`,children:" "}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("input",{type:"checkbox",id:"bgDarkEnabled",checked:ge,onChange:_e=>Z(_e.target.checked),className:"w-4 h-4 rounded border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"bgDarkEnabled",className:`text-sm ${wt}`,children:" "})]}),ge&&t.jsxs("div",{className:"flex flex-col gap-3 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:re,onChange:_e=>J(_e.target.value),className:"w-8 h-8 rounded cursor-pointer border border-zinc-600"}),t.jsx("input",{type:"text",value:re,onChange:_e=>J(_e.target.value),className:`w-20 px-2 py-1 text-xs border ${mn} rounded ${wt} ${an}`})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"0",max:"100",value:ke,onChange:_e=>ne(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[ke,"%"]})]}),t.jsx("div",{className:"h-8 rounded border border-zinc-600",style:{backgroundColor:`${re}${Math.round(ke*2.55).toString(16).padStart(2,"0")}`}})]})]}),t.jsxs("div",{className:"mb-4 p-4 border border-dashed border-[#FF6B00]/30 rounded-lg",children:[t.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide mb-3 ${wt}`,children:" -  "}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("input",{type:"checkbox",id:"borderLightEnabled",checked:ee,onChange:_e=>U(_e.target.checked),className:"w-4 h-4 rounded border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"borderLightEnabled",className:`text-sm ${wt}`,children:" "})]}),ee&&t.jsxs("div",{className:"flex flex-col gap-3 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:G,onChange:_e=>ie(_e.target.value),className:"w-8 h-8 rounded cursor-pointer border border-zinc-600"}),t.jsx("input",{type:"text",value:G,onChange:_e=>ie(_e.target.value),className:`w-20 px-2 py-1 text-xs border ${mn} rounded ${wt} ${an}`})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"0",max:"100",value:be,onChange:_e=>V(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[be,"%"]})]}),t.jsx("div",{className:"w-full h-8 rounded border-2",style:{borderColor:`${G}${Math.round(be*2.55).toString(16).padStart(2,"0")}`}})]})]}),t.jsxs("div",{className:"mb-4 p-4 border border-dashed border-[#FF6B00]/30 rounded-lg",children:[t.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide mb-3 ${wt}`,children:" -  "}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("input",{type:"checkbox",id:"borderDarkEnabled",checked:te,onChange:_e=>se(_e.target.checked),className:"w-4 h-4 rounded border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"borderDarkEnabled",className:`text-sm ${wt}`,children:" "})]}),te&&t.jsxs("div",{className:"flex flex-col gap-3 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:xe,onChange:_e=>we(_e.target.value),className:"w-8 h-8 rounded cursor-pointer border border-zinc-600"}),t.jsx("input",{type:"text",value:xe,onChange:_e=>we(_e.target.value),className:`w-20 px-2 py-1 text-xs border ${mn} rounded ${wt} ${an}`})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"0",max:"100",value:Me,onChange:_e=>Ve(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[Me,"%"]})]}),t.jsx("div",{className:"w-full h-8 rounded border-2",style:{borderColor:`${xe}${Math.round(Me*2.55).toString(16).padStart(2,"0")}`}})]})]}),t.jsxs("div",{className:"mb-4 p-4 border border-dashed border-[#FF6B00]/30 rounded-lg bg-[#FF6B00]/5",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(Ib,{className:"w-4 h-4 text-[#FF6B00]"}),t.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide ${wt}`,children:"   -  "})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("input",{type:"checkbox",id:"glowLightEnabled",checked:Re,onChange:_e=>pe(_e.target.checked),className:"w-4 h-4 rounded border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"glowLightEnabled",className:`text-sm ${wt}`,children:" "})]}),Re&&t.jsxs("div",{className:"flex flex-col gap-3 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:Ue,onChange:_e=>Se(_e.target.value),className:"w-8 h-8 rounded cursor-pointer border border-zinc-600"}),t.jsx("input",{type:"text",value:Ue,onChange:_e=>Se(_e.target.value),className:`w-20 px-2 py-1 text-xs border ${mn} rounded ${wt} ${an}`})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"0",max:"100",value:Ge,onChange:_e=>Je(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[Ge,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"5",max:"50",value:et,onChange:_e=>ot(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[et,"px"]})]}),t.jsx("div",{className:"h-8 rounded border border-zinc-600",style:{boxShadow:`0 0 ${et}px ${Ue}${Math.round(Ge*2.55).toString(16).padStart(2,"0")}`}})]})]}),t.jsxs("div",{className:"mb-4 p-4 border border-dashed border-[#FF6B00]/30 rounded-lg bg-[#FF6B00]/5",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(Ib,{className:"w-4 h-4 text-[#FF6B00]"}),t.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide ${wt}`,children:"   -  "})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("input",{type:"checkbox",id:"glowDarkEnabled",checked:cn,onChange:_e=>Qe(_e.target.checked),className:"w-4 h-4 rounded border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"glowDarkEnabled",className:`text-sm ${wt}`,children:" "})]}),cn&&t.jsxs("div",{className:"flex flex-col gap-3 ml-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"color",value:ls,onChange:_e=>Fs(_e.target.value),className:"w-8 h-8 rounded cursor-pointer border border-zinc-600"}),t.jsx("input",{type:"text",value:ls,onChange:_e=>Fs(_e.target.value),className:`w-20 px-2 py-1 text-xs border ${mn} rounded ${wt} ${an}`})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"0",max:"100",value:Fe,onChange:_e=>ut(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[Fe,"%"]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:`text-xs ${Ye}`,children:":"}),t.jsx("input",{type:"range",min:"5",max:"50",value:Ae,onChange:_e=>nt(Number(_e.target.value)),className:"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),t.jsxs("span",{className:`text-xs w-10 ${wt}`,children:[Ae,"px"]})]}),t.jsx("div",{className:"h-8 rounded border border-zinc-600",style:{boxShadow:`0 0 ${Ae}px ${ls}${Math.round(Fe*2.55).toString(16).padStart(2,"0")}`}})]})]})]})]})})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-4 mt-6",children:[t.jsx("input",{type:"checkbox",id:"hideName",checked:ae,onChange:_e=>X(_e.target.checked),className:"w-4 h-4 rounded border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"hideName",className:`text-sm ${wt}`,children:'     (  "")'}),t.jsxs("button",{onClick:()=>gt(!rt),className:`ml-auto flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wide rounded-lg transition-colors ${rt?"bg-[#FF6B00] text-black":"border border-[#FF6B00] text-[#FF6B00] hover:bg-[#FF6B00]/10"}`,children:[t.jsx(za,{className:"w-3.5 h-3.5"})," "]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-white/10",children:[t.jsx("button",{onClick:()=>{R(!1),gt(!1)},className:`flex-1 py-2.5 border ${mn} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${wt} hover:border-[#FF6B00]`,children:s("admin.cancel")}),t.jsx("button",{onClick:Zs,disabled:Xe,className:"flex-1 py-2.5 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:Xe?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{className:"w-4 h-4 animate-spin"}),s("admin.saving")]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"w-4 h-4"}),s("admin.save")]})})]})]})]})})]})},C2=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),{id:u}=ti(),[f,p]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[g,v]=_.useState(null),[S,w]=_.useState([]),[A,j]=_.useState(!0),[T,R]=_.useState(""),B="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const Y=()=>{p(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",Y),()=>window.removeEventListener("themechange",Y)},[]),_.useEffect(()=>{u&&(D(u),$(u))},[u]);const D=async Y=>{try{const he=await(await fetch(`${B}/brands/${Y}`)).json();he.success?v(he.data):R("Brand not found")}catch(Ce){console.error("Failed to load brand:",Ce),R("Failed to load brand")}},$=async Y=>{try{const he=await(await fetch(`${B}/brands/${Y}/products`)).json();he.success&&w(he.data)}catch(Ce){console.error("Failed to load products:",Ce)}finally{j(!1)}},P=()=>{if(!g)return"";const Y=i.language;return Y==="ru"?g.description_ru:Y==="fr"?g.description_fr:Y==="en"?g.description_en:g.description_fr||""},O=()=>{if(!g)return"";const Y=i.language;return g.name},L=Y=>{const Ce=i.language;return Ce==="ru"?Y.name_ru||Y.name_fr||Y.name_en:Ce==="fr"?Y.name_fr||Y.name_ru||Y.name_en:Ce==="en"?Y.name_en||Y.name_ru||Y.name_fr:Y.name_fr||""},W=()=>{const Y=f?"dark":"light";localStorage.setItem("site-theme",Y),p(!f),window.dispatchEvent(new Event("themechange"))},de=f?"text-zinc-900":"text-zinc-100",ae=f?"text-zinc-600":"text-zinc-400",X=f?"border-black":"border-[#FF6B00]/20",ue=f?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",q=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}];return A?t.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-gray-50":"bg-black"}`,children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):T||!g?t.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-gray-50":"bg-black"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-red-500 mb-4 ${de}`,children:T}),t.jsx("button",{onClick:()=>l("/admin/brands"),className:"px-4 py-2 bg-[#FF6B00] text-black rounded-lg",children:s("admin.back")})]})}):t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${ue}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>l("/admin/brands"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToBrands")]}),t.jsx("div",{className:`h-4 w-px ${f?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:q.map(Y=>t.jsxs(Bn,{to:Y.path,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${Y.id==="brands"?"bg-[#FF6B00] text-black":f?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[Y.icon,Y.label]},Y.id))})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:W,className:`flex items-center justify-center w-9 h-9 transition-all duration-300 ${f?"text-black hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:f?t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>l("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})]})]}),t.jsx("main",{className:"pt-24 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[g.logo_url?t.jsx("img",{src:g.logo_url,alt:g.name,className:"w-48 h-48 md:w-64 md:h-64 object-contain"}):t.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64 flex items-center justify-center bg-transparent",children:t.jsx("span",{className:`text-8xl font-black italic ${de} opacity-50`,children:g.name.charAt(0)})}),t.jsxs("div",{className:"flex-1 text-center md:text-left",children:[t.jsx("h1",{className:`font-black italic text-4xl md:text-5xl uppercase tracking-tight ${de} mb-4`,children:O()}),P()&&t.jsx("p",{className:`text-lg ${ae} max-w-2xl`,children:P()})]})]})}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-6 ${de}`,children:s("admin.products.title")}),S.length===0?t.jsxs("div",{className:`text-center py-12 border ${X} rounded-xl`,children:[t.jsx(Cn,{className:`w-12 h-12 mx-auto mb-4 ${ae} opacity-50`}),t.jsx("p",{className:`text-lg ${ae}`,children:s("admin.brands.noProducts")})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map((Y,Ce)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ce*.05},className:`border ${X} rounded-xl overflow-hidden group`,children:[t.jsx("div",{className:"aspect-square bg-transparent flex items-center justify-center p-4",children:Y.image_url?t.jsx("img",{src:Y.image_url,alt:L(Y)||"Product",className:"w-full h-full object-contain"}):t.jsx(Cn,{className:`w-16 h-16 ${ae} opacity-30`})}),t.jsxs("div",{className:`p-4 border-t ${X}`,children:[t.jsx("p",{className:`text-xs ${ae} mb-1`,children:Y.category_name||"Sans catgorie"}),t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide mb-2 ${de} group-hover:text-[#FF6B00] transition-colors line-clamp-1`,children:L(Y)}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xl font-bold text-[#FF6B00]",children:[Y.price.toFixed(2)," "]}),Y.stock>0?t.jsxs("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-500 rounded-full",children:[Y.stock," en stock"]}):t.jsx("span",{className:"text-xs px-2 py-1 bg-red-500/20 text-red-500 rounded-full",children:"Rupture"})]})]})]},Y.id))})]})]})})]})},Z8=({theme:s})=>{const{t:i,i18n:l}=Ot(),{id:u}=ti(),f=s==="light",[p,g]=_.useState(null),[v,S]=_.useState([]),[w,A]=_.useState(!0),[j,T]=_.useState(""),R=_.useRef(""),B="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{!u||R.current===u||(R.current=u,A(!0),T(""),D(u),$(u))},[u]);const D=async ae=>{try{const ue=await(await fetch(`${B}/brands/${ae}`)).json();ue.success?g(ue.data):T("Brand not found")}catch(X){console.error("Failed to load brand:",X),T("Failed to load brand")}},$=async ae=>{try{const ue=await(await fetch(`${B}/brands/${ae}/products`)).json();ue.success&&S(ue.data)}catch(X){console.error("Failed to load products:",X)}finally{A(!1)}},P=()=>{if(!p)return"";const ae=l.language;return ae==="ru"?p.description_ru:ae==="fr"?p.description_fr:ae==="en"?p.description_en:p.description_fr||""},O=ae=>{const X=l.language;return X==="ru"?ae.name_ru||ae.name_fr||ae.name_en:X==="fr"?ae.name_fr||ae.name_ru||ae.name_en:X==="en"?ae.name_en||ae.name_ru||ae.name_fr:ae.name_fr||""},L=f?"text-zinc-900":"text-zinc-100",W=f?"text-zinc-600":"text-zinc-400",de=f?"border-gray-200":"border-white/10";return w?t.jsx("main",{className:`min-h-screen flex items-center justify-center ${f?"bg-gray-50":"bg-black"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx(Cn,{className:"w-8 h-8 mx-auto mb-4 text-[#FF6B00] animate-spin"}),t.jsx("p",{className:L,children:"Chargement..."})]})}):j||!p?t.jsx("main",{className:`min-h-screen flex items-center justify-center ${f?"bg-gray-50":"bg-black"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-red-500 mb-4 ${L}`,children:j}),t.jsx(Bn,{to:"/marques",className:"px-4 py-2 bg-[#FF6B00] text-black rounded-lg",children:i("admin.back")})]})}):t.jsx("main",{className:"min-h-screen pt-20 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(Bn,{to:"/marques",className:`inline-flex items-center gap-2 mb-8 text-sm font-bold uppercase tracking-wide hover:text-[#FF6B00] transition-colors ${L}`,children:[t.jsx(Jw,{className:"w-4 h-4"}),i("brands.back")]}),t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[p.logo_url?t.jsx("img",{src:p.logo_url,alt:p.name,className:"w-48 h-48 md:w-64 md:h-64 object-contain"}):t.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64 flex items-center justify-center bg-transparent",children:t.jsx("span",{className:`text-8xl font-black italic ${L} opacity-50`,children:p.name.charAt(0)})}),t.jsxs("div",{className:"flex-1 text-center md:text-left",children:[t.jsx("h1",{className:`font-black italic text-4xl md:text-5xl uppercase tracking-tight ${L} mb-4`,children:p.name}),P()&&t.jsx("p",{className:`text-lg ${W} max-w-2xl`,children:P()})]})]})}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-6 ${L}`,children:i("brands.productsTitle")}),v.length===0?t.jsxs("div",{className:`text-center py-12 border ${de} rounded-xl`,children:[t.jsx(Cn,{className:`w-12 h-12 mx-auto mb-4 ${W} opacity-50`}),t.jsx("p",{className:`text-lg ${W}`,children:i("brands.noProducts")})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:v.map((ae,X)=>t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:X*.05},children:t.jsxs(Bn,{to:`/product/${ae.id}`,className:`block border ${de} rounded-xl overflow-hidden group hover:border-[#FF6B00] transition-colors`,children:[t.jsx("div",{className:"aspect-square bg-transparent flex items-center justify-center p-4",children:ae.image_url?t.jsx("img",{src:ae.image_url,alt:O(ae)||"Product",className:"w-full h-full object-contain"}):t.jsx(Cn,{className:`w-16 h-16 ${W} opacity-30`})}),t.jsxs("div",{className:`p-4 border-t ${de}`,children:[t.jsx("p",{className:`text-xs ${W} mb-1`,children:ae.category_name||"Sans catgorie"}),t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide mb-2 ${L} group-hover:text-[#FF6B00] transition-colors line-clamp-1`,children:O(ae)}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xl font-bold text-[#FF6B00]",children:[ae.price.toFixed(2)," "]}),ae.stock>0?t.jsxs("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-500 rounded-full",children:[ae.stock," en stock"]}):t.jsx("span",{className:"text-xs px-2 py-1 bg-red-500/20 text-red-500 rounded-full",children:"Rupture"})]})]})]})},ae.id))})]})]})})},S2=()=>{const{t:s}=Ot(),i=Sn(),l=Ss(),[u,f]=_.useState(""),[p,g]=_.useState("fr"),[v,S]=_.useState("online"),[w,A]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[j,T]=_.useState([]),[R,B]=_.useState(!0),[D,$]=_.useState(null),[P,O]=_.useState(!1),[L,W]=_.useState({key:"",namespace:"common",value_ru:"",value_fr:"",value_en:"",description:"",is_active:!0}),[de,ae]=_.useState(!1),X="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const se=()=>{A(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",se),()=>window.removeEventListener("themechange",se)},[]);const ue=()=>{const se=w?"dark":"light";localStorage.setItem("site-theme",se),A(!w),window.dispatchEvent(new Event("themechange"))};_.useEffect(()=>{q()},[]);const q=async()=>{B(!0);try{const xe=await(await fetch(`${X}/admin/translations`)).json();xe.success&&T(xe.data.translations||[])}catch(se){console.error("Failed to fetch translations:",se)}B(!1)},Y=()=>{W({key:"",namespace:"common",value_ru:"",value_fr:"",value_en:"",description:"",is_active:!0}),O(!0)},Ce=se=>{$(se),W({key:se.key,namespace:se.namespace,value_ru:se.value_ru||"",value_fr:se.value_fr||"",value_en:se.value_en||"",description:se.description||"",is_active:se.is_active===1})},he=async()=>{ae(!0);try{if(D)(await(await fetch(`${X}/admin/translations/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)})).json()).success&&(T(we=>we.map(Me=>Me.id===D.id?{...Me,...L,is_active:L.is_active?1:0}:Me)),$(null));else{const xe=await(await fetch(`${X}/admin/translations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)})).json();xe.success&&xe.data.translation&&(T(we=>[...we,xe.data.translation]),O(!1))}}catch(se){console.error("Failed to save translation:",se)}ae(!1)},oe=async se=>{if(confirm(s("admin.translations.deleteConfirm")))try{(await(await fetch(`${X}/admin/translations/${se}`,{method:"DELETE"})).json()).success&&T(Me=>Me.filter(Ve=>Ve.id!==se))}catch(xe){console.error("Failed to delete translation:",xe)}},ge=()=>{S("syncing"),q().then(()=>{setTimeout(()=>S("online"),1e3)})},Z=w?"text-zinc-900":"text-zinc-100",re=w?"text-zinc-600":"text-zinc-400",J=w?"border-black":"border-[#FF6B00]/20",ke="hover:border-[#FF6B00]",ne=w?"bg-white":"bg-zinc-900",ee=w?"bg-white":"bg-black/50",U=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}],G=se=>l.pathname===se,ie=v==="online",be=[{code:"fr",label:"FR",name:"Franais"},{code:"en",label:"EN",name:"English"},{code:"ru",label:"RU",name:""}],V=j.filter(se=>se.key.toLowerCase().includes(u.toLowerCase())||se.value_ru&&se.value_ru.toLowerCase().includes(u.toLowerCase())||se.value_fr&&se.value_fr.toLowerCase().includes(u.toLowerCase())||se.value_en&&se.value_en.toLowerCase().includes(u.toLowerCase())),te=(se,xe)=>{switch(xe){case"ru":return se.value_ru;case"en":return se.value_en;default:return se.value_fr}};return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${w?"bg-white/95 backdrop-blur-md border-gray-200":"bg-black/95 backdrop-blur-md border-white/10"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>i("/admin"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${w?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToDashboard")]}),t.jsx("div",{className:`h-4 w-px ${w?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:U.map(se=>t.jsxs(Bn,{to:se.path,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${G(se.path)?"bg-[#FF6B00] text-black":w?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[se.icon,se.label]},se.id))})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[t.jsx(sv,{className:`w-3.5 h-3.5 ${ie?"text-green-500":"text-red-500"}`}),t.jsx("span",{className:`text-xs font-medium uppercase tracking-wide ${ie?"text-green-500":"text-red-500"}`,children:s(`admin.cloudStatus.${v}`)}),v==="syncing"&&t.jsx(Nt,{className:"w-3.5 h-3.5 text-yellow-500 animate-spin"})]}),t.jsxs("button",{onClick:ge,className:"hidden sm:flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider bg-[#FF6B00] text-black rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(Ri,{className:"w-3 h-3"}),s("admin.sync")]}),t.jsx("button",{onClick:ue,className:`flex items-center justify-center w-9 h-9 transition-all duration-300 ${w?"text-black hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,title:s(w?"admin.theme.dark":"admin.theme.light"),children:w?t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${w?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})]})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:`font-black italic text-2xl md:text-3xl uppercase tracking-tight ${Z}`,children:s("admin.translations.title")}),t.jsx("p",{className:`text-xs ${re} mt-1`,children:s("admin.sections.translations.description")})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:ge,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider border ${J} rounded-lg transition-colors ${Z} ${ke}`,children:[t.jsx(Nt,{className:"w-3 h-3"}),s("admin.translations.syncAll")]}),t.jsxs("button",{onClick:Y,className:"flex items-center gap-1.5 px-4 py-1.5 text-xs font-bold uppercase tracking-wider bg-[#FF6B00] text-black rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(ks,{className:"w-3 h-3"}),s("admin.translations.addNew")]})]})]}),t.jsx("div",{className:"flex gap-2 mb-5",children:be.map(se=>t.jsx("button",{onClick:()=>g(se.code),className:`px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-colors ${p===se.code?"bg-[#FF6B00] text-black":`border ${J} ${Z} hover:border-[#FF6B00]`}`,children:se.label},se.code))}),t.jsxs("div",{className:"relative flex-1 mb-5",children:[t.jsx(wd,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${re}`}),t.jsx("input",{type:"text",placeholder:s("admin.translations.searchPlaceholder"),value:u,onChange:se=>f(se.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-transparent border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Z} placeholder-${re}`})]}),R?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Nt,{className:`w-8 h-8 animate-spin ${re}`})}):t.jsx("div",{className:"space-y-3",children:V.length===0?t.jsx("div",{className:`text-center py-12 border ${J} rounded-lg ${re}`,children:s("admin.translations.noTranslations")}):V.map((se,xe)=>t.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:xe*.03},className:`p-4 bg-transparent border ${J} ${ke} rounded-lg transition-all duration-300`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:`text-xs font-mono ${re}`,children:se.key}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${w?"bg-gray-100":"bg-white/10"} ${re}`,children:se.namespace})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>Ce(se),className:`p-2 border ${J} rounded-lg transition-colors ${Z} hover:border-[#FF6B00]`,children:t.jsx(ei,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>oe(se.id),className:"p-2 border border-red-500/50 rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-colors",children:t.jsx(Ca,{className:"w-3.5 h-3.5"})})]})]}),t.jsx("p",{className:`text-sm ${Z}`,children:te(se,p)||t.jsx("span",{className:re,children:""})})]},se.id))})]})}),t.jsx(rs,{children:(D||P)&&t.jsxs(t.Fragment,{children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]",onClick:()=>{$(null),O(!1)}}),t.jsxs(qe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg z-[70] ${ne} rounded-2xl shadow-2xl overflow-hidden`,children:[t.jsxs("div",{className:`relative p-4 border-b ${J} flex items-center justify-between`,children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide ${Z}`,children:s(D?"admin.translations.edit":"admin.translations.addNew")}),t.jsx("button",{onClick:()=>{$(null),O(!1)},className:`p-2 rounded-lg transition-colors ${w?"hover:bg-gray-100":"hover:bg-white/10"}`,children:t.jsx(qn,{className:`w-5 h-5 ${Z}`})})]}),t.jsxs("div",{className:"p-4 space-y-4 max-h-[60vh] overflow-y-auto",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:"Key *"}),t.jsx("input",{type:"text",value:L.key,onChange:se=>W(xe=>({...xe,key:se.target.value})),className:`w-full px-4 py-2.5 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ee}`,placeholder:"nav.home",disabled:!!D})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:"Namespace"}),t.jsx("input",{type:"text",value:L.namespace,onChange:se=>W(xe=>({...xe,namespace:se.target.value})),className:`w-full px-4 py-2.5 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ee}`,placeholder:"common"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:"Franais *"}),t.jsx("textarea",{value:L.value_fr,onChange:se=>W(xe=>({...xe,value_fr:se.target.value})),className:`w-full px-3 py-2 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ee}`,rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:"English"}),t.jsx("textarea",{value:L.value_en,onChange:se=>W(xe=>({...xe,value_en:se.target.value})),className:`w-full px-3 py-2 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ee}`,rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:""}),t.jsx("textarea",{value:L.value_ru,onChange:se=>W(xe=>({...xe,value_ru:se.target.value})),className:`w-full px-3 py-2 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ee}`,rows:3})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:"Description"}),t.jsx("input",{type:"text",value:L.description,onChange:se=>W(xe=>({...xe,description:se.target.value})),className:`w-full px-4 py-2.5 border ${J} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ee}`,placeholder:"Navigation home link"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"is_active",checked:L.is_active,onChange:se=>W(xe=>({...xe,is_active:se.target.checked})),className:"w-4 h-4 rounded border-gray-300 text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("label",{htmlFor:"is_active",className:`text-sm ${Z}`,children:s("admin.translations.active")})]})]}),t.jsxs("div",{className:`p-4 border-t ${J} flex justify-end gap-3`,children:[t.jsx("button",{onClick:()=>{$(null),O(!1)},className:`px-4 py-2 text-xs font-bold uppercase tracking-wider border ${J} rounded-lg transition-colors ${Z}`,children:s("admin.cancel")}),t.jsxs("button",{onClick:he,disabled:de||!L.key||!L.value_fr,className:"px-4 py-2 text-xs font-bold uppercase tracking-wider bg-[#FF6B00] text-black rounded-lg hover:bg-[#FF8533] transition-colors disabled:opacity-50 flex items-center gap-2",children:[de?t.jsx(Nt,{className:"w-4 h-4 animate-spin"}):t.jsx(Xs,{className:"w-4 h-4"}),s("admin.save")]})]})]})]})})]})},j2=()=>{const{t:s}=Ot(),[i,l]=_.useState(()=>localStorage.getItem("site-theme")==="light");_.useEffect(()=>{const S=()=>{l(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",S),()=>window.removeEventListener("themechange",S)},[]);const u=i?"text-zinc-900":"text-zinc-100",f=i?"text-zinc-600":"text-zinc-400",p=i?"border-black":"border-[#FF6B00]/20",g="hover:border-[#FF6B00]",v=[{id:"1",name:"Calculateur de Peinture",description:"Surface  rendement  couches",status:"active"},{id:"2",name:"Calculateur de Carrelage",description:"Surface +10% perte de coupe",status:"active"},{id:"3",name:"Calculateur de Colle",description:"Surface  paisseur de joint",status:"active"},{id:"4",name:"Calculateur de Ragrage",description:"Surface  paisseur",status:"inactive"}];return t.jsx("div",{className:"min-h-screen",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:`font-black italic text-2xl md:text-3xl uppercase tracking-tight ${u}`,children:s("admin.calculators.title")}),t.jsx("p",{className:`text-xs ${f} mt-1`,children:s("admin.sections.calculators.description")})]}),t.jsxs("button",{className:"flex items-center gap-1.5 px-4 py-1.5 text-xs font-bold uppercase tracking-wider bg-[#FF6B00] text-black rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(ks,{className:"w-3 h-3"}),s("admin.calculators.addNew")]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:v.map((S,w)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:`relative p-5 bg-transparent border ${p} ${g} rounded-xl transition-all duration-500 group`,children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-2.5 rounded-lg bg-[#FF6B00]/10 text-[#FF6B00]",children:t.jsx($a,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide mb-1 ${u}`,children:S.name}),t.jsx("p",{className:`text-sm ${f} mb-3`,children:S.description}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S.status==="active"?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:S.status==="active"?s("admin.products.active"):s("admin.products.inactive")})]})]}),t.jsxs("div",{className:"flex gap-2 mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[t.jsxs("button",{className:`flex-1 flex items-center justify-center gap-1 py-2 text-xs font-bold uppercase tracking-wide border ${p} rounded-lg transition-colors ${u} hover:border-[#FF6B00]`,children:[t.jsx(Xr,{className:"w-3.5 h-3.5"}),s("admin.products.view")]}),t.jsxs("button",{className:`flex-1 flex items-center justify-center gap-1 py-2 text-xs font-bold uppercase tracking-wide border ${p} rounded-lg transition-colors ${u} hover:border-[#FF6B00]`,children:[t.jsx(ei,{className:"w-3.5 h-3.5"}),s("admin.products.edit")]}),t.jsx("button",{className:"flex items-center justify-center gap-1 px-2.5 py-2 text-xs font-bold uppercase tracking-wide border border-red-500/50 rounded-lg text-red-500 hover:bg-red-500 hover:text-white transition-colors",children:t.jsx(Ca,{className:"w-3.5 h-3.5"})})]})]},S.id))})]})})},E2=()=>{const{t:s}=Ot(),i=Sn(),l=Ss(),[u,f]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[p,g]=_.useState("notifications");_.useEffect(()=>{const O=()=>{f(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",O),()=>window.removeEventListener("themechange",O)},[]);const v=()=>{const O=u?"dark":"light";localStorage.setItem("site-theme",O),f(!u),window.dispatchEvent(new Event("themechange"))},S=u?"text-zinc-900":"text-zinc-100",w=u?"text-zinc-600":"text-zinc-400",A=u?"border-black":"border-[#FF6B00]/20",j="hover:border-[#FF6B00]",T=u?"bg-white/40":"bg-zinc-900/40",R=u?"bg-white":"bg-black/50",B=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Ft,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ft,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(Ft,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ft,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx(Ft,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(Ft,{className:"w-4 h-4"}),path:"/admin/settings"}],D=O=>l.pathname===O,$=[{id:"notifications",title:s("admin.settings.notifications"),description:s("admin.settings.notificationsDesc"),icon:t.jsx(oE,{className:"w-8 h-8"}),color:"from-green-500/20 to-emerald-600/10"},{id:"integrations",title:s("admin.settings.integrations"),description:s("admin.settings.integrationsDesc"),icon:t.jsx(Ws,{className:"w-8 h-8"}),color:"from-blue-500/20 to-indigo-600/10"},{id:"database",title:s("admin.settings.database"),description:s("admin.settings.databaseDesc"),icon:t.jsx(EE,{className:"w-8 h-8"}),color:"from-purple-500/20 to-violet-600/10"},{id:"security",title:s("admin.settings.security"),description:s("admin.settings.securityDesc"),icon:t.jsx(Fm,{className:"w-8 h-8"}),color:"from-red-500/20 to-rose-600/10"},{id:"system",title:s("admin.settings.systemCheck"),description:s("admin.settings.systemCheckDesc"),icon:t.jsx(uv,{className:"w-8 h-8"}),color:"from-cyan-500/20 to-blue-600/10"}],P=()=>{switch(p){case"notifications":return t.jsx(Q8,{textClass:S,mutedClass:w,borderClass:A,inputBgClass:R});case"integrations":return t.jsx(J8,{textClass:S,mutedClass:w,borderClass:A,inputBgClass:R});case"database":return t.jsx(e_,{textClass:S,mutedClass:w,borderClass:A});case"security":return t.jsx(t_,{textClass:S,mutedClass:w,borderClass:A});case"system":return t.jsx(n_,{textClass:S,mutedClass:w,borderClass:A});default:return null}};return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${u?"bg-white/95 backdrop-blur-md border-gray-200":"bg-black/95 backdrop-blur-md border-white/10"}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>i("/admin"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${u?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToDashboard")]}),t.jsx("div",{className:`h-4 w-px ${u?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:B.map(O=>t.jsxs(Bn,{to:O.path,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${D(O.path)?"bg-[#FF6B00] text-black":u?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[O.icon,O.label]},O.id))})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[t.jsx(sv,{className:"w-3.5 h-3.5 text-green-500"}),t.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-green-500",children:s("admin.cloudStatus.online")})]}),t.jsx("button",{onClick:v,className:`flex items-center justify-center w-9 h-9 transition-all duration-300 ${u?"text-black hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,title:s(u?"admin.theme.dark":"admin.theme.light"),children:u?t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${u?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})]})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:`font-black italic text-2xl md:text-3xl uppercase tracking-tight ${S}`,children:s("admin.settings.title")}),t.jsx("p",{className:`text-xs ${w} mt-1`,children:s("admin.sections.settings.description")})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:$.map((O,L)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},onClick:()=>g(O.id),className:`relative h-40 rounded-xl border cursor-pointer transition-all duration-500 group overflow-hidden ${p===O.id?"border-[#FF6B00] shadow-[0_0_20px_rgba(255,107,0,0.3)]":`${A} ${j}`}`,children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${O.color} opacity-50 group-hover:opacity-100 transition-opacity duration-500`}),t.jsx("div",{className:"absolute inset-0 backdrop-blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full p-5 text-center",children:[t.jsx("div",{className:`mb-3 transition-all duration-500 ${p===O.id?"scale-110":"scale-100"} ${p===O.id?"text-[#FF6B00]":"text-white"}`,children:O.icon}),t.jsx("h3",{className:`font-black italic text-xl uppercase tracking-tight mb-2 transition-all duration-300 ${p===O.id,"text-white"}`,children:O.title}),t.jsx("div",{className:`absolute bottom-3 left-3 right-3 transition-all duration-500 ${p===O.id?"opacity-100 translate-y-0":"opacity-0 translate-y-3"}`,children:t.jsx("p",{className:"text-xs text-center bg-black/40 backdrop-blur-sm rounded-lg py-1.5 px-3 text-white",children:O.description})})]}),t.jsx("div",{className:`absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-all duration-500 ${p===O.id?"opacity-100":""}`,children:t.jsx("div",{className:`absolute inset-0 rounded-xl border-2 ${p===O.id?"border-[#FF6B00]/50":"border-white/30"}`})})]},O.id))}),t.jsx(rs,{mode:"wait",children:t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`p-6 border ${A} rounded-xl ${T}`,children:P()},p)})]})})]})},Q8=({textClass:s,mutedClass:i,borderClass:l,inputBgClass:u})=>{const{t:f}=Ot(),[p,g]=_.useState({enabled:!1,phone:"",idInstance:"7105474660",apiToken:"6edd0918847f4bceb023d9b0961bef2dbf4e21e5aa6c4fde83"}),[v,S]=_.useState({enabled:!1,botToken:"",chatId:""}),[w,A]=_.useState({enabled:!0,smtpHost:"",smtpPort:"",email:"",password:""}),[j,T]=_.useState(null),[R,B]=_.useState(null),D=async $=>{B($),T(null);const P="https://yasndeco-api.andrey-gaffer.workers.dev/api";try{if($==="whatsapp"){const L=await(await fetch(`${P}/notifications/test-whatsapp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idInstance:p.idInstance,apiTokenInstance:p.apiToken,phone:p.phone})})).json();T({type:$,success:L.success,message:L.success?f("admin.settings.testSuccess"):L.error||f("admin.settings.testError")})}}catch(O){T({type:$,success:!1,message:O.message||f("admin.settings.testError")})}B(null)};return t.jsxs("div",{children:[t.jsxs("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${s}`,children:[" ",f("admin.settings.orderNotifications")]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center",children:t.jsx(AA,{className:"w-6 h-6 text-green-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide ${s}`,children:f("admin.settings.whatsapp")}),t.jsx("p",{className:`text-xs ${i}`,children:f("admin.settings.whatsappDesc")})]})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:p.enabled,onChange:$=>g({...p,enabled:$.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#FF6B00]"})]})]}),p.enabled&&t.jsxs(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 mt-4 pt-4 border-t border-dashed border-gray-300 dark:border-gray-700",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.phone")}),t.jsx("input",{type:"text",value:p.phone,onChange:$=>g({...p,phone:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"+33612345678"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.idInstance")}),t.jsx("input",{type:"text",value:p.idInstance,onChange:$=>g({...p,idInstance:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"7105474660"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.apiTokenInstance")}),t.jsx("input",{type:"password",value:p.apiToken,onChange:$=>g({...p,apiToken:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"6edd0918847f4bceb023d9b0961bef2dbf4e21e5aa6c4fde83"})]})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[t.jsx("button",{onClick:()=>D("whatsapp"),disabled:R==="whatsapp",className:"px-6 py-2 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase hover:bg-[#FF8533] transition-colors disabled:opacity-50",children:R==="whatsapp"?"...":f("admin.settings.test")}),j?.type==="whatsapp"&&t.jsx("span",{className:`text-sm ${j.success?"text-green-500":"text-red-500"}`,children:j.message})]})]})]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center",children:t.jsx(lv,{className:"w-6 h-6 text-blue-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide ${s}`,children:f("admin.settings.telegram")}),t.jsx("p",{className:`text-xs ${i}`,children:f("admin.settings.telegramDesc")})]})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:v.enabled,onChange:$=>S({...v,enabled:$.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#FF6B00]"})]})]}),v.enabled&&t.jsx(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 mt-4 pt-4 border-t border-dashed border-gray-300 dark:border-gray-700",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.botToken")}),t.jsx("input",{type:"password",value:v.botToken,onChange:$=>S({...v,botToken:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.chatId")}),t.jsx("input",{type:"text",value:v.chatId,onChange:$=>S({...v,chatId:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"-100123456789"})]})]})})]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-500/20 flex items-center justify-center",children:t.jsx(Ul,{className:"w-6 h-6 text-orange-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide ${s}`,children:f("admin.settings.email")}),t.jsx("p",{className:`text-xs ${i}`,children:f("admin.settings.emailDesc")})]})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:w.enabled,onChange:$=>A({...w,enabled:$.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#FF6B00]"})]})]}),w.enabled&&t.jsx(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-4 mt-4 pt-4 border-t border-dashed border-gray-300 dark:border-gray-700",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.smtpHost")}),t.jsx("input",{type:"text",value:w.smtpHost,onChange:$=>A({...w,smtpHost:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"smtp.gmail.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.smtpPort")}),t.jsx("input",{type:"text",value:w.smtpPort,onChange:$=>A({...w,smtpPort:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"587"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.email")}),t.jsx("input",{type:"email",value:w.email,onChange:$=>A({...w,email:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:"info@yansdeco.fr"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:f("admin.settings.smtpPassword")}),t.jsx("input",{type:"password",value:w.password,onChange:$=>A({...w,password:$.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:""})]})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{className:"bg-[#FF6B00] text-black px-8 py-3 rounded-xl font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors flex items-center gap-2",children:[t.jsx(Xs,{className:"w-4 h-4"}),f("admin.settings.saveSettings")]})})]})},J8=({textClass:s,mutedClass:i,borderClass:l,inputBgClass:u})=>{const{t:f}=Ot();return t.jsxs("div",{children:[t.jsxs("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${s}`,children:[" ",f("admin.settings.integrations")]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide mb-4 ${s}`,children:"API Keys"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:"Cloudflare API Token"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"password",className:`flex-1 px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} ${u}`,placeholder:" Cloudflare API Token"}),t.jsx("button",{className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold uppercase hover:border-[#FF6B00] transition-colors",children:f("admin.products.view")})]})]})})]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide mb-4 ${s}`,children:"Web Services"}),t.jsx("div",{className:"space-y-4",children:[{name:"Cloudflare Workers",status:"connected",icon:""},{name:"Cloudflare D1",status:"connected",icon:""},{name:"Cloudflare R2",status:"connected",icon:""}].map((p,g)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/5 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl",children:p.icon}),t.jsx("span",{className:`font-bold ${s}`,children:p.name})]}),t.jsxs("span",{className:"flex items-center gap-2 text-green-500 text-sm font-bold uppercase",children:[t.jsx(nv,{className:"w-4 h-4"}),f("admin.settings.connected")]})]},g))})]})]})},e_=({textClass:s,mutedClass:i,borderClass:l})=>{const{t:u}=Ot(),[f]=_.useState({tables:12,totalRecords:1247,dbSize:"45.2 MB"});return t.jsxs("div",{children:[t.jsxs("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${s}`,children:[" ",u("admin.settings.database")]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxs("div",{className:`p-5 border ${l} rounded-xl text-center`,children:[t.jsx("p",{className:`text-3xl font-black italic ${s}`,children:f.tables}),t.jsx("p",{className:`text-xs ${i} mt-1`,children:u("admin.settings.tables")})]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl text-center`,children:[t.jsx("p",{className:`text-3xl font-black italic ${s}`,children:f.totalRecords.toLocaleString()}),t.jsx("p",{className:`text-xs ${i} mt-1`,children:u("admin.settings.records")})]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl text-center`,children:[t.jsx("p",{className:`text-3xl font-black italic ${s}`,children:f.dbSize}),t.jsx("p",{className:`text-xs ${i} mt-1`,children:u("admin.settings.dbSize")})]})]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide mb-4 ${s}`,children:u("admin.settings.saveSettings")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{className:"p-4 border border-gray-300 dark:border-gray-600 rounded-xl text-left hover:border-[#FF6B00] transition-colors",children:[t.jsx("p",{className:`font-bold ${s}`,children:u("admin.settings.exportData")}),t.jsx("p",{className:`text-xs ${i} mt-1`,children:"    "})]}),t.jsxs("button",{className:"p-4 border border-gray-300 dark:border-gray-600 rounded-xl text-left hover:border-[#FF6B00] transition-colors",children:[t.jsx("p",{className:`font-bold ${s}`,children:u("admin.settings.importData")}),t.jsx("p",{className:`text-xs ${i} mt-1`,children:"   "})]}),t.jsxs("button",{className:"p-4 border border-gray-300 dark:border-gray-600 rounded-xl text-left hover:border-[#FF6B00] transition-colors",children:[t.jsx("p",{className:`font-bold ${s}`,children:u("admin.settings.clearCache")}),t.jsx("p",{className:`text-xs ${i} mt-1`,children:"  "})]}),t.jsxs("button",{className:"p-4 border border-red-500/50 rounded-xl text-left hover:border-red-500 transition-colors",children:[t.jsx("p",{className:"font-bold text-red-500",children:u("admin.settings.resetData")}),t.jsx("p",{className:"text-xs text-red-400 mt-1",children:"   ()"})]})]})]})]})},t_=({textClass:s,mutedClass:i,borderClass:l})=>{const{t:u}=Ot(),[f,p]=_.useState({twoFactor:!1,sessionTimeout:"24",ipWhitelist:""});return t.jsxs("div",{children:[t.jsxs("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${s}`,children:[" ",u("admin.settings.security")]}),t.jsx("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide ${s}`,children:u("admin.settings.twoFactor")}),t.jsx("p",{className:`text-xs ${i} mt-1`,children:"  "})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.twoFactor,onChange:g=>p({...f,twoFactor:g.target.checked}),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#FF6B00]"})]})]})}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide mb-4 ${s}`,children:"Sessions"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${i}`,children:u("admin.settings.sessionTimeout")}),t.jsxs("select",{value:f.sessionTimeout,onChange:g=>p({...f,sessionTimeout:g.target.value}),className:`w-full px-4 py-3 border ${l} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${s} bg-transparent`,children:[t.jsxs("option",{value:"1",children:["1 ",u("admin.settings.hour")]}),t.jsxs("option",{value:"6",children:["6 ",u("admin.settings.hours")]}),t.jsxs("option",{value:"12",children:["12 ",u("admin.settings.hours")]}),t.jsxs("option",{value:"24",children:["24 ",u("admin.settings.hours")]}),t.jsxs("option",{value:"168",children:["7 ",u("admin.settings.days")]})]})]})]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsx("h3",{className:`font-bold uppercase tracking-wide mb-4 ${s}`,children:u("admin.settings.activityLog")}),t.jsx("div",{className:"p-4 bg-black/5 rounded-lg max-h-48 overflow-y-auto",children:t.jsx("p",{className:`text-xs ${i} font-mono`,children:`[2024-01-19 10:32:15] Admin login - IP: 192.168.1.1
[2024-01-19 10:32:18] Settings accessed - IP: 192.168.1.1
[2024-01-19 10:35:42] Product updated #123 - IP: 192.168.1.1
[2024-01-19 11:01:33] New order #456 - IP: 192.168.1.45
[2024-01-19 11:15:00] Database backup created - IP: system`})})]})]})},n_=({textClass:s,mutedClass:i,borderClass:l})=>{const{t:u}=Ot(),[f,p]=_.useState(!1),[g,v]=_.useState(null),S=async()=>{p(!0),v(null);try{const A=await(await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/system-check")).json();v(A)}catch(w){v({success:!1,error:w.message})}p(!1)};return t.jsxs("div",{children:[t.jsxs("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${s}`,children:[" ",u("admin.settings.systemCheck")]}),t.jsxs("div",{className:`p-5 border ${l} rounded-xl mb-6`,children:[t.jsx("p",{className:`text-sm ${i} mb-6`,children:u("admin.settings.systemCheckDesc")}),t.jsx("button",{onClick:S,disabled:f,className:"bg-[#FF6B00] text-black px-8 py-4 rounded-xl font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors flex items-center gap-3 disabled:opacity-50",children:f?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}),"Vrification..."]}):t.jsxs(t.Fragment,{children:[t.jsx(uv,{className:"w-5 h-5"}),u("admin.settings.sendSystemReport")]})})]}),g&&t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-5 border ${l} rounded-xl ${g.success?"bg-green-500/10":"bg-red-500/10"}`,children:g.success?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(nv,{className:"w-6 h-6 text-green-500"}),t.jsxs("h3",{className:`font-bold uppercase tracking-wide ${s}`,children:[" ",u("admin.settings.systemReportSent")]})]}),g.data&&t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-300 dark:border-gray-700",children:[t.jsx("span",{className:i,children:" Date/Heure"}),t.jsx("span",{className:`font-mono ${s}`,children:g.data.timestamp})]}),t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-300 dark:border-gray-700",children:[t.jsx("span",{className:i,children:" Base de donnes"}),t.jsxs("span",{className:`font-mono ${s}`,children:[" ",g.data.database.sizeMB," MB"]})]}),t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-300 dark:border-gray-700",children:[t.jsx("span",{className:i,children:" Stockage R2"}),t.jsxs("span",{className:`font-mono ${s}`,children:[" ",g.data.storage.sizeMB," MB / ",g.data.storage.files," fichiers"]})]}),t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-300 dark:border-gray-700",children:[t.jsx("span",{className:i,children:" Environnement"}),t.jsx("span",{className:`font-mono ${s}`,children:g.data.environment})]}),t.jsxs("div",{className:"flex justify-between py-2",children:[t.jsx("span",{className:i,children:" WhatsApp"}),t.jsx("span",{className:`font-mono ${s}`,children:g.data.whatsapp==="sent"?" Envoy":" Ignor"})]})]})]}):t.jsxs("div",{className:"flex items-center gap-3 text-red-500",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsx("span",{children:g.error||"Erreur de vrification"})]})})]})},A2=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),{id:u}=ti(),[f,p]=_.useState(null),[g,v]=_.useState(!0),[S,w]=_.useState(""),[A,j]=_.useState(()=>localStorage.getItem("site-theme")==="light"),T="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const ae=()=>{j(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",ae),()=>window.removeEventListener("themechange",ae)},[]),_.useEffect(()=>{u&&R(u)},[u]);const R=async ae=>{try{const ue=await(await fetch(`${T}/products/${ae}`)).json();ue.success?p(ue.data):w("Product not found")}catch(X){console.error("Failed to load product:",X),w("Failed to load product")}finally{v(!1)}},B=ae=>{const X=i.language;return X==="ru"?ae.name_ru||ae.name_fr||ae.name_en||"":X==="fr"?ae.name_fr||ae.name_ru||ae.name_en||"":X==="en"?ae.name_en||ae.name_ru||ae.name_fr||"":ae.name_fr||""},D=(ae,X)=>ae[X==="ru"?"desc_ru":X==="fr"?"desc_fr":"desc_en"]||"",$=A?"text-zinc-500":"text-zinc-400",P=A?"text-zinc-900":"text-white",O=A?"border-zinc-200":"border-zinc-700/50";if(g)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})});if(S||!f)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-500 mb-4",children:S}),t.jsx("button",{onClick:()=>l("/admin/products"),className:"px-4 py-2 bg-[#FF6B00] text-black rounded-lg",children:"Retour"})]})});const L=D(f,"fr"),W=D(f,"en"),de=D(f,"ru");return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${A?"bg-white/95 backdrop-blur-md border-gray-200":"bg-black/95 backdrop-blur-md border-white/10"}`,children:t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("button",{onClick:()=>l("/admin/products"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${A?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToProducts")]})})}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[t.jsx(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.5},children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"aspect-square bg-transparent rounded-3xl overflow-hidden flex items-center justify-center",children:f.image_url?t.jsx("img",{src:f.image_url,alt:B(f),className:"w-full h-full object-contain"}):t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx(Cn,{className:"w-32 h-32 text-zinc-300"}),t.jsx("p",{className:`mt-4 text-sm ${$}`,children:"Aucune image"})]})}),t.jsx("div",{className:"mt-6",children:t.jsxs("div",{className:"border-2 border-dashed rounded-xl p-6 text-center transition-colors hover:border-[#FF6B00]/50 cursor-pointer",children:[t.jsx(Ri,{className:`w-6 h-6 mx-auto mb-2 ${$}`}),t.jsx("p",{className:`text-xs ${$}`,children:"Glissez-dposez pour remplacer"})]})})]})}),t.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},className:"space-y-6",children:[t.jsxs("div",{children:[f.brand_name&&t.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-[#FF6B00] mb-2",children:f.brand_name}),t.jsx("h1",{className:"font-black italic text-4xl uppercase tracking-tight text-black dark:text-white leading-tight",children:B(f)})]}),t.jsx("div",{className:"flex items-baseline gap-3",children:t.jsxs("p",{className:"text-5xl font-bold text-[#FF6B00]",children:[f.price?.toFixed(2)," "]})}),t.jsxs("p",{className:`text-sm ${$}`,children:["Rf: ",t.jsx("span",{className:"font-mono",children:f.sku})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide border ${O} ${P}`,children:f.category_name||"Sans catgorie"}),t.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide border ${O} ${f.is_popular?"border-[#FF6B00] text-[#FF6B00]":"border-green-500/50 text-green-500"}`,children:f.is_popular?" Populaire":"Actif"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-sm ${$}`,children:"Stock:"}),t.jsxs("span",{className:`text-lg font-bold ${f.stock>50?"text-green-500":f.stock>20?"text-yellow-500":"text-red-500"}`,children:[f.stock," units"]})]}),(L||W||de)&&t.jsxs("div",{className:"pt-4 border-t border-dashed border-zinc-300 dark:border-zinc-700",children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide ${P} mb-4`,children:"Caractristiques"}),t.jsxs("ul",{className:"space-y-3",children:[L&&t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Dn,{className:"w-5 h-5 text-[#FF6B00] shrink-0 mt-0.5"}),t.jsx("span",{className:`text-sm ${P}`,children:L})]}),W&&W!==L&&t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Dn,{className:"w-5 h-5 text-[#FF6B00] shrink-0 mt-0.5"}),t.jsx("span",{className:`text-sm ${P}`,children:W})]}),de&&de!==L&&de!==W&&t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Dn,{className:"w-5 h-5 text-[#FF6B00] shrink-0 mt-0.5"}),t.jsx("span",{className:`text-sm ${P}`,children:de})]})]})]}),t.jsxs("div",{className:"pt-4",children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide ${P} mb-4`,children:"Descriptions"}),t.jsx("div",{className:"space-y-4",children:[{lang:"fr",label:"Franais",desc:L},{lang:"en",label:"English",desc:W},{lang:"ru",label:"",desc:de}].map(ae=>t.jsxs("div",{className:`p-4 rounded-xl border border-dashed ${O} cursor-pointer hover:border-[#FF6B00]/50 transition-colors`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Ws,{className:`w-4 h-4 ${$}`}),t.jsx("span",{className:`text-xs font-bold uppercase tracking-wide ${$}`,children:ae.label})]}),t.jsx("p",{className:`text-sm ${P}`,children:ae.desc||"Pas de description"})]},ae.lang))})]}),t.jsx("div",{className:"pt-6",children:t.jsxs("button",{onClick:()=>l(`/admin/products/${f.id}/edit`),className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-[#FF6B00] text-black font-bold italic uppercase tracking-wide rounded-xl hover:bg-[#FF8533] transition-colors",children:[t.jsx(uA,{className:"w-5 h-5"}),"Modifier le produit"]})}),t.jsxs("p",{className:`text-xs ${$} text-center pt-2`,children:["Cr le ",new Date(f.created_at).toLocaleDateString("fr-FR")]})]})]})})})})]})},_2=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),{id:u}=ti(),[f,p]=_.useState(()=>localStorage.getItem("site-theme")==="light");_.useEffect(()=>{const Ie=()=>{p(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",Ie),()=>window.removeEventListener("themechange",Ie)},[]);const[g,v]=_.useState(""),[S,w]=_.useState(""),[A,j]=_.useState(""),[T,R]=_.useState(""),[B,D]=_.useState(!1),[$,P]=_.useState(""),[O,L]=_.useState(""),[W,de]=_.useState(null),[ae,X]=_.useState(null),[ue,q]=_.useState(null),[Y,Ce]=_.useState([]),[he,oe]=_.useState([]),[ge,Z]=_.useState(""),[re,J]=_.useState(!1),[ke,ne]=_.useState(!1),[ee,U]=_.useState(!1),[G,ie]=_.useState(!0),[be,V]=_.useState(""),[te,se]=_.useState(""),[xe,we]=_.useState({ru:{name:"",description:""},fr:{name:"",description:""},en:{name:"",description:""}}),[Me,Ve]=_.useState(!1),[Re,pe]=_.useState(""),[Ue,Se]=_.useState(null),Ge="https://yasndeco-api.andrey-gaffer.workers.dev/api",[Je,et]=_.useState(null),[ot,cn]=_.useState(null),[Qe,ls]=_.useState(!1);_.useEffect(()=>{gt(),ut(),u&&Fs(u)},[u]);const Fs=async Ie=>{ie(!0);try{const Dt=await(await fetch(`${Ge}/admin/products/${Ie}`)).json();if(Dt.success){const yt=Dt.data;v(yt.sku||""),w(yt.barcode||""),j(yt.price?yt.price.toString():""),R(yt.stock?yt.stock.toString():""),D(yt.is_popular===1),L(yt.image_url||""),Z(yt.image_url||""),de(yt.brand_id),X(yt.category_id),we({ru:{name:yt.name_ru||"",description:yt.desc_ru||""},fr:{name:yt.name_fr||"",description:yt.desc_fr||""},en:{name:yt.name_en||"",description:yt.desc_en||""}})}else V("Product not found")}catch(ft){console.error("Failed to load product:",ft),V("Failed to load product")}finally{ie(!1)}},Fe=Ie=>{w(Ie),ls(!1)},ut=async()=>{try{const ft=await(await fetch(`${Ge}/categories`)).json();if(ft.success&&(oe(ft.data),u&&ae)){const Dt=ft.data.find(yt=>yt.id===ae);Dt&&Dt.parent_id&&(q(ae),X(Dt.parent_id))}}catch(Ie){console.error("Failed to load categories:",Ie)}},Ae=Ie=>he.filter(ft=>Number(ft.parent_id)===Ie),nt=he.filter(Ie=>!Ie.parent_id),rt=Ie=>{switch(i.language){case"ru":return Ie.name_ru||Ie.name_fr||Ie.name_en||" ";case"en":return Ie.name_en||Ie.name_fr||Ie.name_ru||"Untitled";default:return Ie.name_fr||Ie.name_ru||Ie.name_en||"Sans titre"}},gt=async()=>{try{const ft=await(await fetch(`${Ge}/brands`)).json();ft.success&&Ce(ft.data)}catch(Ie){console.error("Failed to load brands:",Ie)}},Mn=Ie=>{Ie.preventDefault(),J(!0)},Es=()=>{J(!1)},Ea=async Ie=>{Ie.preventDefault(),J(!1);const ft=Ie.dataTransfer.files[0];ft&&await Xe(ft)},Bt=async Ie=>{const ft=Ie.target.files?.[0];ft&&await Xe(ft)},Xe=async Ie=>{ne(!0),V("");const ft=new FormData;ft.append("file",Ie),ft.append("folder","products");try{const yt=await(await fetch(`${Ge}/upload`,{method:"POST",body:ft})).json();if(yt.success)L(yt.data.url),Z(yt.data.url);else{const As=`Upload error: ${yt.error||"Unknown error"}`;V(As),window.alert(As)}}catch(Dt){const yt=`Upload error: ${Dt instanceof Error?Dt.message:"Network error"}`;V(yt),window.alert(yt)}finally{ne(!1)}},qt=async(Ie,ft)=>{const Dt=xe[Ie][ft];if(!Dt.trim()||Dt.length<3)return;cn({lang:Ie,field:ft}),V("");const yt=["ru","fr","en"].filter(As=>As!==Ie);try{const dn=await(await fetch(`${Ge}/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:{[ft]:Dt},sourceLang:Ie,targetLangs:yt})})).json();if(dn.success)we(xs=>{const ps={...xs};return yt.forEach(Zn=>{dn.data[Zn]&&!ps[Zn][ft]?.trim()&&(ps[Zn]={...ps[Zn],[ft]:dn.data[Zn][ft]||""})}),ps}),se("Translation completed successfully"),setTimeout(()=>se(""),3e3);else{const xs=`Translation error: ${dn.error||"Unknown error"}`;V(xs),window.alert(xs)}}catch(As){const dn=`Translation error: ${As instanceof Error?As.message:"Network error"}`;V(dn),window.alert(dn)}finally{cn(null)}},Ct=async()=>{if(!Re.trim()){V("Enter brand name");return}try{const ft=await(await fetch(`${Ge}/brands`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Re,logo_url:Ue})})).json();if(ft.success){const Dt=ft.data;Ce(yt=>[...yt,Dt]),de(Dt.id),Ve(!1),pe(""),Se(null),se("Brand added"),setTimeout(()=>se(""),3e3)}else V(ft.error||"Failed to add brand")}catch{V("Failed to add brand")}},un=async()=>{if(!g.trim()){V("Enter product SKU");return}if(!xe.ru.name.trim()){V("Enter product name in Russian");return}if(!A){V("Enter price");return}U(!0),V("");try{const ft=await(await fetch(`${Ge}/products/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sku:g.trim(),barcode:S?.trim()||null,price:parseFloat(A)||0,stock:parseInt(T)||0,brand_id:W===null?null:W,category_id:ue!==null?ue:ae,is_popular:B?1:0,announcement_date:$||null,image_url:O||null,name_ru:xe.ru.name||null,desc_ru:xe.ru.description||null,name_fr:xe.fr.name||null,desc_fr:xe.fr.description||null,name_en:xe.en.name||null,desc_en:xe.en.description||null})})).json();ft.success?(se("Product updated successfully!"),setTimeout(()=>{l("/admin/products")},1500)):V(ft.error||"Failed to update product")}catch{V("Failed to update product")}finally{U(!1)}},Ht=f?"text-zinc-600":"text-zinc-400",Kt=f?"border-black":"border-[#FF6B00]/20",Yt=f?"text-zinc-900":"text-white",bt=f?"bg-white":"bg-black/50";return G?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):t.jsxs("div",{className:"min-h-screen",children:[t.jsx("main",{className:"pt-4 pb-12",children:t.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("button",{onClick:()=>l("/admin/products"),className:`mb-3 transition-colors duration-200 text-sm uppercase tracking-wide flex items-center gap-2 ${f?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"}),s("admin.backToProducts")]}),t.jsx("h1",{className:`font-black italic text-2xl md:text-4xl uppercase tracking-tight ${Yt}`,children:"Modifier le produit"}),t.jsx("p",{className:`text-sm ${Ht} mt-1 hidden sm:block`,children:"Modifiez les informations du produit"})]}),be&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:be}),te&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),te]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:`p-6 border ${Kt} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide mb-4 ${Yt}`,children:"Informations de base"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:"SKU *"}),t.jsx("input",{type:"text",value:g,onChange:Ie=>v(Ie.target.value),className:`w-full px-4 py-2.5 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,placeholder:"SKU-12345"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:"Barcode"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:S,onChange:Ie=>w(Ie.target.value),className:`w-full px-4 py-2.5 pr-12 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,placeholder:"1234567890123"}),t.jsx("button",{type:"button",onClick:()=>ls(!0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-[#FF6B00]/20 hover:bg-[#FF6B00]/40 rounded-lg transition-colors",title:" ",children:t.jsx(zl,{className:"w-4 h-4 text-[#FF6B00]"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:"Prix *"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",step:"0.01",min:"0",value:A,onChange:Ie=>j(Ie.target.value),className:`w-full px-4 py-2.5 pr-12 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,placeholder:"0.00"}),t.jsx("span",{className:`absolute right-4 top-1/2 -translate-y-1/2 ${Ht}`,children:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:"Stock"}),t.jsx("input",{type:"number",min:"0",value:T,onChange:Ie=>R(Ie.target.value),className:`w-full px-4 py-2.5 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,placeholder:"0"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:"Marque"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs("select",{value:W||"",onChange:Ie=>de(Ie.target.value?parseInt(Ie.target.value):null),className:`flex-1 px-4 py-2.5 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,children:[t.jsx("option",{value:"",children:"Slectionner une marque..."}),Y.map(Ie=>t.jsx("option",{value:Ie.id,children:Ie.name},Ie.id))]}),t.jsxs("button",{onClick:()=>Ve(!0),className:`px-4 py-2.5 border ${Kt} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${Yt} hover:border-[#FF6B00] flex items-center gap-1 whitespace-nowrap`,children:[t.jsx(ks,{className:"w-4 h-4"}),"Nouveau"]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:s("admin.categories.title")}),t.jsxs("select",{value:ae||"",onChange:Ie=>{X(Ie.target.value?parseInt(Ie.target.value):null),q(null)},className:`w-full px-4 py-2.5 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,children:[t.jsx("option",{value:"",children:s("admin.categories.select")}),nt.map(Ie=>t.jsx("option",{value:Ie.id,children:rt(Ie)},Ie.id))]})]}),ae&&Ae(ae).length>0&&t.jsxs("div",{className:"mt-4 ml-4",children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:s("admin.categories.subcategory")}),t.jsxs("select",{value:ue||"",onChange:Ie=>q(Ie.target.value?parseInt(Ie.target.value):null),className:`w-full px-4 py-2.5 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,children:[t.jsx("option",{value:"",children:s("admin.categories.selectSub")}),Ae(ae).map(Ie=>t.jsx("option",{value:Ie.id,children:rt(Ie)},Ie.id))]})]})]}),t.jsxs("div",{className:`p-6 border ${Kt} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide mb-4 ${Yt}`,children:"Image du produit"}),t.jsx("div",{onDragOver:Mn,onDragLeave:Es,onDrop:Ea,className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 ${re?"border-[#FF6B00] bg-[#FF6B00]/10":`${Kt} ${f?"bg-gray-50":"bg-black/30"}`}`,children:ke?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"}),t.jsx("p",{className:`text-sm ${Ht}`,children:"Tlchargement..."})]}):ge?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:ge,alt:"Aperu du produit",className:"max-h-64 mx-auto rounded-lg"}),t.jsx("button",{onClick:async()=>{if(confirm("tes-vous sr de vouloir supprimer cette image?"))try{await fetch(`${Ge}/products/${u}/image`,{method:"DELETE"}),Z(""),L("")}catch{V("Failed to delete image")}},className:"absolute -top-2 -right-2 p-1.5 bg-red-500 rounded-full text-white hover:bg-red-600",title:"Supprimer l'image",children:t.jsx(qn,{className:"w-4 h-4"})})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ri,{className:`w-10 h-10 mx-auto mb-3 ${Ht}`}),t.jsx("p",{className:`text-sm mb-2 ${Ht}`,children:"Glissez-dposez un fichier ici ou cliquez ci-dessous"}),t.jsx("p",{className:`text-xs ${Ht} opacity-70 mb-4`,children:"PNG, JPG jusqu' 5MB"}),t.jsxs("label",{className:"inline-flex items-center gap-2 px-6 py-3 bg-[#FF6B00] text-black text-sm font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors cursor-pointer",children:[t.jsx(zl,{className:"w-5 h-5"}),"Choisir un fichier",t.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Bt,className:"hidden"})]}),t.jsx("input",{type:"file",accept:"image/*",onChange:Bt,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})})]}),t.jsxs("div",{className:`p-6 border ${Kt} rounded-xl`,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide ${Yt}`,children:"Contenu multilingue"}),t.jsx("p",{className:`text-xs ${Ht} mt-1`,children:"Entrez le texte dans n'importe quelle langue et appuyez sur l'icne  pour traduire dans les autres langues"})]}),t.jsx("div",{className:"flex gap-2 mb-6",children:[{code:"ru",label:"RU",flag:""},{code:"fr",label:"FR",flag:""},{code:"en",label:"EN",flag:""}].map(Ie=>t.jsxs("button",{className:`px-4 py-2 text-xs font-bold uppercase tracking-wide rounded-lg transition-colors ${xe[Ie.code]===xe.ru?"bg-[#FF6B00] text-black":`border ${Kt} ${Yt} hover:border-[#FF6B00]`}`,children:[Ie.flag," ",Ie.label]},Ie.code))}),t.jsx("div",{className:"space-y-6",children:["ru","fr","en"].map(Ie=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:["Nom (",Ie.toUpperCase(),") ",Ie==="ru"&&"*"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:xe[Ie].name,onChange:ft=>{we(Dt=>({...Dt,[Ie]:{...Dt[Ie],name:ft.target.value}})),et({lang:Ie,field:"name"})},onFocus:()=>et({lang:Ie,field:"name"}),onBlur:()=>setTimeout(()=>et(null),200),className:`w-full px-4 py-2.5 pr-14 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,placeholder:Ie==="ru"||Ie==="fr"?"Nom du produit":"Product name"}),t.jsx(rs,{children:Je?.lang===Ie&&Je?.field==="name"&&xe[Ie].name.length>=3&&t.jsx(qe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>qt(Ie,"name"),disabled:ot!==null,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-[#FF6B00]/20 hover:bg-[#FF6B00]/40 rounded-lg transition-colors group",title:"AI Translate",children:ot?.lang===Ie&&ot?.field==="name"?t.jsx(Nt,{className:"w-4 h-4 text-[#FF6B00] animate-spin"}):t.jsx(Qa,{className:"w-4 h-4 text-[#FF6B00] group-hover:scale-110 transition-transform"})})})]})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:["Description (",Ie.toUpperCase(),")"]}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{rows:3,value:xe[Ie].description,onChange:ft=>{we(Dt=>({...Dt,[Ie]:{...Dt[Ie],description:ft.target.value}})),et({lang:Ie,field:"description"})},onFocus:()=>et({lang:Ie,field:"description"}),onBlur:()=>setTimeout(()=>et(null),200),className:`w-full px-4 py-2.5 pr-14 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt} resize-none`,placeholder:"Description du produit..."}),t.jsx(rs,{children:Je?.lang===Ie&&Je?.field==="description"&&xe[Ie].description.length>=3&&t.jsx(qe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>qt(Ie,"description"),disabled:ot!==null,className:"absolute right-2 top-3 p-1.5 bg-[#FF6B00]/20 hover:bg-[#FF6B00]/40 rounded-lg transition-colors group",title:"AI Translate",children:ot?.lang===Ie&&ot?.field==="description"?t.jsx(Nt,{className:"w-4 h-4 text-[#FF6B00] animate-spin"}):t.jsx(Qa,{className:"w-4 h-4 text-[#FF6B00] group-hover:scale-110 transition-transform"})})})]})]})]},Ie))})]}),t.jsxs("div",{className:`p-6 border ${Kt} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-lg uppercase tracking-wide mb-4 ${Yt}`,children:"Paramtres commerciaux"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:B,onChange:Ie=>D(Ie.target.checked),className:"w-5 h-5 rounded border-2 border-[#FF6B00] text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("span",{className:`text-sm font-medium ${Yt}`,children:"Mettre en avant"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:`Date d'annonce (si produit "Bientt disponible")`}),t.jsx("input",{type:"date",value:$,onChange:Ie=>P(Ie.target.value),className:`w-full md:w-64 px-4 py-2.5 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`}),t.jsx("p",{className:`text-xs mt-1 ${Ht}`,children:"Laissez vide si le produit est dj en vente"})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-white/10",children:[t.jsxs("label",{className:`flex items-center gap-3 cursor-pointer order-2 sm:order-1 ${Yt}`,children:[t.jsx("input",{type:"checkbox",checked:B,onChange:Ie=>D(Ie.target.checked),className:"w-5 h-5 text-[#FF6B00] bg-transparent border-2 border-[#FF6B00] rounded focus:ring-[#FF6B00] focus:ring-2 focus:ring-offset-0"}),t.jsx("span",{className:"text-sm font-medium",children:s("admin.content.popularProduct")})]}),t.jsxs("div",{className:"flex gap-3 order-1 sm:order-2 w-full sm:w-auto",children:[t.jsx("button",{onClick:()=>l("/admin/products"),className:`flex-1 sm:flex-none px-6 py-3 border ${Kt} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${Yt} hover:border-[#FF6B00]`,children:"Annuler"}),t.jsx("button",{onClick:un,disabled:ee,className:"flex-1 sm:flex-none px-8 py-3 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:ee?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"Enregistrement..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Dn,{className:"w-4 h-4"}),"Enregistrer les modifications"]})})]})]})]})]})}),t.jsx(rs,{children:Me&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>Ve(!1)}),t.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:`relative w-full max-w-md p-6 border ${Kt} rounded-xl ${f?"bg-white":"bg-zinc-900"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:`font-bold italic text-xl uppercase tracking-wide ${Yt}`,children:"Ajouter une marque"}),t.jsx("button",{onClick:()=>Ve(!1),className:`p-1 hover:bg-white/10 rounded-lg transition-colors ${Ht}`,children:t.jsx(qn,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${Ht}`,children:"Nom de la marque *"}),t.jsx("input",{type:"text",value:Re,onChange:Ie=>pe(Ie.target.value),className:`w-full px-4 py-2.5 border ${Kt} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${Yt} ${bt}`,placeholder:"Nom de la marque"})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>Ve(!1),className:`flex-1 py-2.5 border ${Kt} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${Yt} hover:border-[#FF6B00]`,children:"Annuler"}),t.jsx("button",{onClick:Ct,disabled:!Re.trim(),className:"flex-1 py-2.5 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors disabled:opacity-50",children:"Ajouter"})]})]})]})]})}),t.jsx(wv,{isOpen:Qe,onClose:()=>ls(!1),onScan:Fe})]})},s_="https://yasndeco-api.andrey-gaffer.workers.dev/api",qu=async()=>{try{const i=await(await fetch(`${s_}/health`)).json();return{isOnline:i.success!==!1,lastSync:i.lastSync?new Date(i.lastSync):new Date,lastCheck:new Date,dbStatus:i.services?.db==="ok"?"Connected":"Error",r2Status:i.services?.r2==="ok"?"Connected":"Error"}}catch{return{isOnline:!1,lastSync:new Date,lastCheck:new Date,dbStatus:"Error",r2Status:"Error"}}},x0=[{name:"orange",color:"#FF6B00"},{name:"amber",color:"#f59e0b"},{name:"yellow",color:"#eab308"},{name:"green",color:"#22c55e"},{name:"emerald",color:"#10b981"},{name:"teal",color:"#14b8a6"},{name:"cyan",color:"#06b6d4"},{name:"blue",color:"#3b82f6"},{name:"indigo",color:"#6366f1"},{name:"violet",color:"#8b5cf6"},{name:"purple",color:"#a855f7"},{name:"pink",color:"#ec4899"},{name:"red",color:"#ef4444"},{name:"rose",color:"#f43f5e"},{name:"slate",color:"#64748b"},{name:"zinc",color:"#71717a"},{name:"black",color:"#000000"},{name:"white",color:"#ffffff"}],a_=({value:s,onChange:i,label:l})=>{const[u,f]=_.useState(!1),p=_.useRef(null),g=x0.find(w=>w.name===s)?.color||s||"#FF6B00";_.useEffect(()=>{const w=A=>{p.current&&!p.current.contains(A.target)&&f(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const v=w=>{i(w),f(!1)},S=w=>{let A=w.target.value;if(A.startsWith("#")&&A.length===7){const j=x0.find(T=>T.color.toLowerCase()===A.toLowerCase());j&&(A=j.name)}i(A)};return t.jsxs("div",{className:"relative",ref:p,children:[t.jsx("label",{className:"block text-[10px] sm:text-xs font-bold uppercase tracking-wide mb-1.5 sm:mb-2 text-zinc-400",children:l}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>f(!u),className:"w-10 h-10 rounded-lg border border-zinc-600 overflow-hidden transition-all hover:border-[#FF6B00]",style:{backgroundColor:g}}),t.jsx("input",{type:"text",value:s,onChange:S,className:"flex-1 px-3 py-2 bg-black/50 border border-zinc-700 rounded-lg text-xs text-white focus:outline-none focus:border-[#FF6B00]",placeholder:"orange"})]}),u&&t.jsxs("div",{className:"absolute z-50 mt-2 p-3 bg-[#1a1a1a] border border-[#FF6B00]/50 rounded-xl shadow-2xl w-64",children:[t.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:x0.map(w=>t.jsx("button",{type:"button",onClick:()=>v(w.name),className:`w-8 h-8 rounded-lg border-2 transition-all ${s===w.name?"border-[#FF6B00] scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:w.color},title:w.name},w.name))}),t.jsxs("div",{className:"pt-2 border-t border-zinc-700",children:[t.jsx("label",{className:"text-[10px] text-zinc-500 uppercase tracking-wide",children:"Color name:"}),t.jsx("input",{type:"text",value:s,onChange:S,className:"flex-1 px-2 py-1.5 mt-1 bg-black/50 border border-zinc-700 rounded-lg text-xs text-white",placeholder:"purple"})]})]})]})},T2=["","","","","","","","","",""],k2=()=>{const{t:s}=Ot(),i=Sn(),[l,u]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[f,p]=_.useState([]),[g,v]=_.useState(!0),[S,w]=_.useState(""),[A,j]=_.useState(""),[T,R]=_.useState(null),[B,D]=_.useState(!1),[$,P]=_.useState(!1),[O,L]=_.useState(!1),[W,de]=_.useState({key:"",icon_emoji:"",icon_url:"",gradient_from:"#FF6B00",gradient_to:"#FF6B00",title_ru:"",title_fr:"",title_en:"",subtitle_ru:"",subtitle_fr:"",subtitle_en:"",description_ru:"",description_fr:"",description_en:"",tags_ru:"",tags_fr:"",tags_en:"",is_active:!0}),ae="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const V=()=>{u(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",V),()=>window.removeEventListener("themechange",V)},[]),_.useEffect(()=>{X()},[]);const X=async()=>{v(!0),w("");try{const te=await(await fetch(`${ae}/admin/services`)).json();te.success?p(te.data||[]):w("Failed to load services")}catch(V){console.error("Failed to load services:",V),w("Failed to load services")}finally{v(!1)}},ue=()=>{const V=`service_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;de({key:V,icon_emoji:T2[f.length%T2.length],icon_url:"",gradient_from:"#FF6B00",gradient_to:"#FF6B00",title_ru:"",title_fr:"",title_en:"",subtitle_ru:"",subtitle_fr:"",subtitle_en:"",description_ru:"",description_fr:"",description_en:"",tags_ru:"",tags_fr:"",tags_en:"",is_active:!0}),D(!0)},q=V=>{de({key:V.key,icon_emoji:V.icon_emoji||"",icon_url:V.icon_url||"",gradient_from:V.gradient_from||"#FF6B00",gradient_to:V.gradient_to||"#FF6B00",title_ru:V.title_ru||"",title_fr:V.title_fr||"",title_en:V.title_en||"",subtitle_ru:V.subtitle_ru||"",subtitle_fr:V.subtitle_fr||"",subtitle_en:V.subtitle_en||"",description_ru:V.description_ru||"",description_fr:V.description_fr||"",description_en:V.description_en||"",tags_ru:V.tags_ru||"",tags_fr:V.tags_fr||"",tags_en:V.tags_en||"",is_active:V.is_active===1}),R(V)},Y=()=>{D(!1),R(null),w("")},Ce=async()=>{let V="";if(W.description_ru?.trim()||W.title_ru?.trim()||W.subtitle_ru?.trim()||W.tags_ru?.trim()?V="ru":W.description_en?.trim()||W.title_en?.trim()||W.subtitle_en?.trim()||W.tags_en?.trim()?V="en":(W.description_fr?.trim()||W.title_fr?.trim()||W.subtitle_fr?.trim()||W.tags_fr?.trim())&&(V="fr"),!V){w(s("admin.translations.fillSourceField"));return}P(!0),w("");const te=V==="ru"?["fr","en"]:V==="en"?["ru","fr"]:["ru","en"];try{const se={};W[`title_${V}`]&&(se.title=W[`title_${V}`]),W[`subtitle_${V}`]&&(se.subtitle=W[`subtitle_${V}`]),W[`description_${V}`]&&(se.description=W[`description_${V}`]),W[`tags_${V}`]&&(se.tags=W[`tags_${V}`]);const we=await(await fetch(`${ae}/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:se,sourceLang:V,targetLangs:te})})).json();we.success&&we.data?(de(Me=>{const Ve={...Me};return te.forEach(Re=>{const pe=we.data[Re];pe&&(pe.title&&(Ve[`title_${Re}`]=pe.title),pe.subtitle&&(Ve[`subtitle_${Re}`]=pe.subtitle),pe.description&&(Ve[`description_${Re}`]=pe.description),pe.tags&&(Ve[`tags_${Re}`]=pe.tags))}),Ve}),j(s("admin.translations.success")),setTimeout(()=>j(""),3e3)):w(we.error||"Translation failed")}catch(se){console.error("[Translate] Error:",se),w("Translation failed")}finally{P(!1)}},he=async V=>{const te=V.target.files?.[0];if(te){L(!0),w("");try{const se=new FormData;se.append("file",te),se.append("folder","services");const we=await(await fetch(`${ae}/upload`,{method:"POST",body:se})).json();we.success?(J("icon_url",we.data.url),j("Image uploaded successfully"),setTimeout(()=>j(""),3e3)):w(we.error||"Failed to upload image")}catch(se){console.error("Upload error:",se),w("Failed to upload image")}finally{L(!1)}}},oe=()=>{J("icon_url","")},ge=async()=>{if(w(""),!W.key.trim()){w("Key is required");return}try{const V=T?`${ae}/services/${T.id}`:`${ae}/services`,xe=await(await fetch(V,{method:T?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...W,sort_order:T?.sort_order??f.length,is_active:W.is_active?1:0})})).json();xe.success?(j(s(T?"admin.services.updated":"admin.services.created")),Y(),X(),qu(),setTimeout(()=>j(""),3e3)):w(xe.error||"Failed to save service")}catch(V){console.error("Save error:",V),w("Failed to save service - connection error")}},Z=async V=>{if(confirm(s("admin.services.deleteConfirm")))try{const se=await(await fetch(`${ae}/services/${V}`,{method:"DELETE"})).json();se.success?(j(s("admin.services.deleted")),X(),qu(),setTimeout(()=>j(""),3e3)):w(se.error||"Failed to delete service")}catch{w("Failed to delete service")}},re=async V=>{try{await fetch(`${ae}/services/${V.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:V.is_active===1?0:1})}),X(),qu()}catch(te){console.error("Failed to toggle visibility:",te)}},J=(V,te)=>{de(se=>({...se,[V]:te}))},ke=l?"text-zinc-600":"text-zinc-400",ne=l?"text-zinc-900":"text-white",ee=l?"border-zinc-200":"border-zinc-700/50",U=l?"bg-white":"bg-black/50",G=l?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",ie=l?"bg-white":"bg-zinc-900",be=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"services",label:s("admin.sections.services.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/services"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Qa,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}];return g?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-3 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${G}`,children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${l?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.backToSite")})]}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:be.map(V=>t.jsxs(Bn,{to:V.path,className:`flex items-center gap-1.5 px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${V.id==="services"?"bg-[#FF6B00] text-black":""} ${l?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[V.icon,t.jsx("span",{className:"hidden sm:inline",children:V.label})]},V.id))})]}),t.jsx("div",{className:"flex items-center gap-3 sm:gap-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${l?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:`font-black italic text-2xl sm:text-3xl uppercase tracking-tight ${ne}`,children:s("admin.services.title")}),t.jsx("p",{className:`text-xs sm:text-sm ${ke}`,children:s("admin.services.manageServices")})]}),t.jsxs("button",{onClick:ue,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-[#FF6B00] text-black text-xs sm:text-sm font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(ks,{className:"w-4 h-4"}),s("admin.services.addService")]})]}),S&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-3 sm:p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-xs sm:text-sm",children:S}),A&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-3 sm:p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-xs sm:text-sm flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),A]}),f.length===0?t.jsxs("div",{className:`text-center py-12 sm:py-16 border ${ee} rounded-xl ${ke}`,children:[t.jsx(Ws,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-base sm:text-lg mb-4",children:s("admin.services.noServices")}),t.jsx("button",{onClick:ue,className:"px-4 py-2.5 bg-[#FF6B00] text-black rounded-lg text-xs sm:text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors",children:s("admin.services.addService")})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:f.map((V,te)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.05},className:`relative p-4 sm:p-6 border ${ee} rounded-xl ${ie} transition-all duration-300 ${V.is_active===0?"opacity-50 grayscale":""}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl flex items-center justify-center text-2xl sm:text-3xl overflow-hidden",style:{background:V.gradient_from?V.gradient_from.startsWith("from-")?V.gradient_from:`linear-gradient(135deg, ${V.gradient_from}, ${V.gradient_from})`:"#FF6B00"},children:V.icon_url?t.jsx("img",{src:V.icon_url,alt:"",className:"w-full h-full object-cover"}):V.icon_emoji?t.jsx("span",{children:V.icon_emoji}):null}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.jsx("button",{onClick:()=>re(V),className:`p-1.5 sm:p-2 border ${ee} rounded-lg transition-colors ${V.is_active===1?"text-green-500 hover:bg-green-500/10":"text-gray-400 hover:bg-gray-500/10"}`,title:V.is_active===1?s("admin.services.hide"):s("admin.services.show"),children:V.is_active===1?t.jsx(Xr,{className:"w-4 h-4"}):t.jsx(ad,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>q(V),className:`p-1.5 sm:p-2 border ${ee} rounded-lg hover:border-[#FF6B00] transition-colors`,title:s("admin.services.edit"),children:t.jsx(ei,{className:`w-4 h-4 ${ke}`})}),t.jsx("button",{onClick:()=>Z(V.id),className:`p-1.5 sm:p-2 border ${ee} rounded-lg hover:border-red-500 transition-colors`,title:s("admin.services.delete"),children:t.jsx(Ca,{className:"w-4 h-4 text-red-500"})})]})]}),t.jsx("h3",{className:`font-bold italic text-lg sm:text-xl uppercase tracking-tight mb-1 ${ne}`,children:V.title_fr||V.key}),t.jsx("p",{className:`text-xs sm:text-sm ${ke} mb-2 sm:mb-3`,children:V.subtitle_fr||""}),t.jsx("p",{className:`text-xs sm:text-sm ${ke} line-clamp-2 mb-3 sm:mb-4`,children:V.description_fr||s("admin.services.noDescription")}),t.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:V.tags_fr?.split(",").filter(se=>se.trim()).map((se,xe)=>t.jsx("span",{className:"px-2 py-0.5 sm:py-1 bg-[#FF6B00]/10 text-[#FF6B00] rounded-full text-[10px] sm:text-xs",children:se.trim()},xe))}),t.jsxs("div",{className:`mt-3 sm:mt-4 pt-3 sm:pt-4 border-t ${ee} flex items-center justify-between text-[10px] sm:text-xs ${ke}`,children:[t.jsxs("span",{children:["Key: ",V.key]}),t.jsxs("span",{children:["ID: ",V.id]})]})]},V.id))})]})}),t.jsx(rs,{children:(T||B)&&t.jsxs(t.Fragment,{children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]",onClick:Y}),t.jsxs(qe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl max-h-[90vh] z-[70] ${ie} rounded-2xl shadow-2xl overflow-hidden flex flex-col`,children:[t.jsxs("div",{className:`p-4 sm:p-6 border-b ${ee} flex items-center justify-between`,children:[t.jsx("h2",{className:`font-bold italic text-lg sm:text-xl uppercase tracking-wide ${ne}`,children:s(T?"admin.services.edit":"admin.services.addNew")}),t.jsx("button",{onClick:Y,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${l?"hover:bg-gray-100":"hover:bg-white/10"}`,children:t.jsx(qn,{className:`w-5 h-5 ${ne}`})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[S&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-xs",children:S}),A&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-xs flex items-center gap-2",children:[t.jsx(Dn,{className:"w-4 h-4"}),A]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] sm:text-xs font-bold uppercase tracking-wide mb-1.5 sm:mb-2 ${ke}`,children:"Key"}),t.jsx("input",{type:"text",value:W.key,onChange:V=>J("key",V.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 border ${ee} rounded-lg text-xs sm:text-sm focus:outline-none focus:border-[#FF6B00] ${ne} ${U}`,placeholder:"service_key"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] sm:text-xs font-bold uppercase tracking-wide mb-1.5 sm:mb-2 ${ke}`,children:"Emoji"}),t.jsx("input",{type:"text",value:W.icon_emoji,onChange:V=>J("icon_emoji",V.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 border ${ee} rounded-lg text-xs sm:text-sm focus:outline-none focus:border-[#FF6B00] ${ne} ${U}`,placeholder:""})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] sm:text-xs font-bold uppercase tracking-wide mb-1.5 sm:mb-2 ${ke}`,children:"Image (optional)"}),t.jsx("div",{className:"space-y-3",children:W.icon_url?t.jsxs("div",{className:"relative inline-block",children:[t.jsx("img",{src:W.icon_url,alt:"Service icon",className:"w-20 h-20 object-cover rounded-lg border border-zinc-700"}),t.jsx("button",{onClick:oe,className:"absolute -top-2 -right-2 p-1 bg-red-500 rounded-full text-white hover:bg-red-600 transition-colors",children:t.jsx(NE,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:`border-2 border-dashed ${ee} rounded-lg p-6 text-center hover:border-[#FF6B00] transition-colors`,children:[t.jsx("input",{type:"file",accept:"image/*",onChange:he,className:"hidden",id:"service-image-upload",disabled:O}),t.jsxs("label",{htmlFor:"service-image-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[O?t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"}):t.jsx(Ri,{className:"w-8 h-8 text-zinc-400"}),t.jsx("span",{className:`text-xs ${ke}`,children:O?"Uploading...":"Click to upload image"})]})]})})]}),t.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:t.jsx(a_,{label:"Gradient Color",value:W.gradient_from,onChange:V=>J("gradient_from",V)})}),["ru","fr","en"].map(V=>t.jsxs("div",{className:`p-3 sm:p-4 border ${ee} rounded-xl ${l?"bg-gray-50":"bg-white/5"}`,children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx("h4",{className:`font-bold uppercase text-xs ${ke}`,children:V==="ru"?" ":V==="en"?" English":" Franais"})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] font-bold uppercase tracking-wide mb-1 ${ke}`,children:s("admin.services.title")}),t.jsx("input",{type:"text",value:W[`title_${V}`],onChange:te=>J(`title_${V}`,te.target.value),className:`w-full px-3 py-2 border ${ee} rounded-lg text-xs focus:outline-none focus:border-[#FF6B00] ${ne} ${U}`})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] font-bold uppercase tracking-wide mb-1 ${ke}`,children:s("admin.services.subtitle")}),t.jsx("input",{type:"text",value:W[`subtitle_${V}`],onChange:te=>J(`subtitle_${V}`,te.target.value),className:`w-full px-3 py-2 border ${ee} rounded-lg text-xs focus:outline-none focus:border-[#FF6B00] ${ne} ${U}`})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] font-bold uppercase tracking-wide mb-1 ${ke}`,children:s("admin.services.description")}),t.jsx("textarea",{rows:3,value:W[`description_${V}`],onChange:te=>J(`description_${V}`,te.target.value),className:`w-full px-3 py-2 border ${ee} rounded-lg text-xs focus:outline-none focus:border-[#FF6B00] ${ne} ${U} resize-none`})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] font-bold uppercase tracking-wide mb-1 ${ke}`,children:"Tags"}),t.jsx("input",{type:"text",value:W[`tags_${V}`],onChange:te=>J(`tags_${V}`,te.target.value),className:`w-full px-3 py-2 border ${ee} rounded-lg text-xs focus:outline-none focus:border-[#FF6B00] ${ne} ${U}`,placeholder:"tag1, tag2, tag3"})]})]})]},V)),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:W.is_active,onChange:V=>J("is_active",V.target.checked),className:"w-4 h-4 rounded border-gray-300 text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("span",{className:`text-xs sm:text-sm ${ne}`,children:s("admin.services.active")})]}),t.jsxs("button",{onClick:Ce,disabled:$,className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs sm:text-sm font-bold uppercase tracking-wide rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors disabled:opacity-50",children:[$?t.jsx(Nt,{className:"w-4 h-4 animate-spin"}):t.jsx(hv,{className:"w-4 h-4"}),s("admin.translations.translate")]})]})]}),t.jsxs("div",{className:`p-4 sm:p-6 border-t ${ee} flex justify-end gap-3`,children:[t.jsx("button",{onClick:Y,className:`px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold uppercase tracking-wide border ${ee} rounded-lg transition-colors ${ne}`,children:s("admin.cancel")}),t.jsxs("button",{onClick:ge,className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-6 py-2 sm:py-2.5 bg-[#FF6B00] text-black text-xs sm:text-sm font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(Xs,{className:"w-4 h-4"}),s("admin.save")]})]})]})]})})]})},F2=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),[u,f]=_.useState("slides"),[p,g]=_.useState([]),[v,S]=_.useState([]),[w,A]=_.useState([]),[j,T]=_.useState({phone1:"",phone2:"",email:"",address:""}),[R,B]=_.useState(null),[D,$]=_.useState(null),[P,O]=_.useState(null),[L,W]=_.useState(!1),[de,ae]=_.useState(!0),[X,ue]=_.useState(!1),[q]=_.useState(()=>localStorage.getItem("site-theme")==="light");_.useEffect(()=>{Y()},[]);const Y=async()=>{ae(!0);try{const[V,te,se,xe]=await Promise.all([fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/hero-slides"),fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/calculator-materials"),fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/site-config"),fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/slogans")]),we=await V.json(),Me=await te.json(),Ve=await se.json(),Re=await xe.json();if(we.success&&g(we.data),Me.success&&S(Me.data),Re.success&&A(Re.data),Ve.success){const pe=Ve.data;T({phone1:pe.phone1?.fr||"",phone2:pe.phone2?.fr||"",email:pe.email?.fr||"",address:pe.address?.fr||""})}}catch(V){console.error("Error fetching data:",V)}finally{ae(!1)}},Ce=async V=>{try{const te=V.id?`https://yasndeco-api.andrey-gaffer.workers.dev/api/hero-slides/${V.id}`:"https://yasndeco-api.andrey-gaffer.workers.dev/api/hero-slides";(await fetch(te,{method:V.id?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})).ok&&(B(null),Y())}catch(te){console.error("Error saving slide:",te)}},he=async V=>{if(confirm(s("admin.content.confirmDeleteSlide")))try{(await fetch(`https://yasndeco-api.andrey-gaffer.workers.dev/api/hero-slides/${V}`,{method:"DELETE"})).ok&&Y()}catch(te){console.error("Error deleting slide:",te)}},oe=async V=>{try{const te=V.id?`https://yasndeco-api.andrey-gaffer.workers.dev/api/calculator-materials/${V.id}`:"https://yasndeco-api.andrey-gaffer.workers.dev/api/calculator-materials";(await fetch(te,{method:V.id?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})).ok&&($(null),Y())}catch(te){console.error("Error saving material:",te)}},ge=async V=>{if(confirm(s("admin.content.confirmDeleteMaterial")))try{(await fetch(`https://yasndeco-api.andrey-gaffer.workers.dev/api/calculator-materials/${V}`,{method:"DELETE"})).ok&&Y()}catch(te){console.error("Error deleting material:",te)}},Z=async()=>{if(P)try{const V=P.id?`https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/slogans/${P.id}`:"https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/slogans";(await fetch(V,{method:P.id?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)})).ok&&(W(!1),O(null),Y())}catch(V){console.error("Error saving slogan:",V)}},re=async V=>{if(confirm(s("admin.content.confirmDeleteSlogan")))try{(await fetch(`https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/slogans/${V}`,{method:"DELETE"})).ok&&Y()}catch(te){console.error("Error deleting slogan:",te)}},J=async V=>{try{await fetch(`https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/slogans/${V.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!V.is_active})}),Y()}catch(te){console.error("Error toggling slogan visibility:",te)}},ke=async()=>{if(!P)return;let V="";if(P.title_ru?.trim()||P.content_ru?.trim()?V="ru":P.title_en?.trim()||P.content_en?.trim()?V="en":(P.title_fr?.trim()||P.content_fr?.trim())&&(V="fr"),!V){alert(s("admin.translations.fillSourceField"));return}const te=["fr","en","ru"].filter(xe=>xe!==V),se={};P[`title_${V}`]&&(se.title=P[`title_${V}`]),P[`content_${V}`]&&(se.content=P[`content_${V}`]),ue(!0);try{const we=await(await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:se,sourceLang:V,targetLangs:te})})).json();if(we.success){const Me={...P};te.forEach(Ve=>{const Re=we.data[Ve];Re&&(Re.title&&(Me[`title_${Ve}`]=Re.title),Re.content&&(Me[`content_${Ve}`]=Re.content))}),O(Me)}}catch(xe){console.error("Translation error:",xe)}finally{ue(!1)}},ne=async()=>{try{(await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/site-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...j,type:"text"})})).ok&&alert(s("admin.content.configSaved"))}catch(V){console.error("Error saving config:",V)}},ee=q?"text-zinc-600":"text-zinc-400",U=q?"text-zinc-900":"text-white",G=q?"border-zinc-200":"border-zinc-700/50",ie=q?"bg-white":"bg-black/50",be=q?"bg-white":"bg-zinc-900";return de?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:()=>l("/admin"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[t.jsx(G0,{className:"w-4 h-4 mr-1"}),s("admin.content.backToDashboard")]}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s("admin.content.title")})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"border-b",children:t.jsx("nav",{className:"flex overflow-x-auto",children:[{id:"slides",label:s("admin.content.slidesHero")},{id:"materials",label:s("admin.content.materialsCalculator")},{id:"slogans",label:s("admin.content.slogans")},{id:"config",label:s("admin.content.siteConfig")}].map(V=>t.jsx("button",{onClick:()=>f(V.id),className:`px-6 py-3 font-medium whitespace-nowrap ${u===V.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:V.label},V.id))})}),t.jsxs("div",{className:"p-6",children:[u==="slides"&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",children:s("admin.content.slidesHero")}),t.jsxs("button",{onClick:()=>B({title_ru:"",title_fr:"",title_en:"",subtitle_ru:"",subtitle_fr:"",subtitle_en:"",is_active:!0}),className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[t.jsx(ks,{className:"w-4 h-4 mr-2"}),s("admin.content.addSlide")]})]}),R&&t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:R.id?s("admin.content.editSlide"):s("admin.content.newSlide")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.badge")," (",s("admin.content.languageFr"),")"]}),t.jsx("input",{type:"text",value:R.badge_fr||"",onChange:V=>B({...R,badge_fr:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.badge")," (",s("admin.content.languageEn"),")"]}),t.jsx("input",{type:"text",value:R.badge_en||"",onChange:V=>B({...R,badge_en:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.badge")," (",s("admin.content.languageRu"),")"]}),t.jsx("input",{type:"text",value:R.badge_ru||"",onChange:V=>B({...R,badge_ru:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.labelTitle")," (",s("admin.content.languageFr"),")"]}),t.jsx("input",{type:"text",value:R.title_fr,onChange:V=>B({...R,title_fr:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.labelTitle")," (",s("admin.content.languageEn"),")"]}),t.jsx("input",{type:"text",value:R.title_en,onChange:V=>B({...R,title_en:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.labelTitle")," (",s("admin.content.languageRu"),")"]}),t.jsx("input",{type:"text",value:R.title_ru,onChange:V=>B({...R,title_ru:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.subtitle")," (",s("admin.content.languageFr"),")"]}),t.jsx("textarea",{value:R.subtitle_fr||"",onChange:V=>B({...R,subtitle_fr:V.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.subtitle")," (",s("admin.content.languageEn"),")"]}),t.jsx("textarea",{value:R.subtitle_en||"",onChange:V=>B({...R,subtitle_en:V.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.subtitle")," (",s("admin.content.languageRu"),")"]}),t.jsx("textarea",{value:R.subtitle_ru||"",onChange:V=>B({...R,subtitle_ru:V.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mt-4 gap-2",children:[t.jsxs("button",{onClick:()=>B(null),className:"flex items-center bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:[t.jsx(qn,{className:"w-4 h-4 mr-2"}),s("admin.content.cancel")]}),t.jsxs("button",{onClick:()=>Ce(R),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:[t.jsx(Xs,{className:"w-4 h-4 mr-2"}),s("admin.content.save")]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-2",children:s("admin.content.badge")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.labelTitle")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.order")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.active")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.actions")})]})}),t.jsx("tbody",{children:p.map(V=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-2",children:V.badge_fr}),t.jsx("td",{className:"py-2",children:V.title_fr}),t.jsx("td",{className:"py-2",children:V.sort_order}),t.jsx("td",{className:"py-2",children:V.is_active?s("admin.content.yes"):s("admin.content.no")}),t.jsx("td",{className:"py-2",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>B(V),className:"text-blue-600 hover:text-blue-800",children:t.jsx(Gu,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>he(V.id),className:"text-red-600 hover:text-red-800",children:t.jsx(Ca,{className:"w-4 h-4"})})]})})]},V.id))})]})})]}),u==="materials"&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",children:s("admin.content.materialsCalculator")}),t.jsxs("button",{onClick:()=>$({name_ru:"",name_fr:"",name_en:"",consumption:0,unit:"",coats:1,is_active:!0}),className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:[t.jsx(ks,{className:"w-4 h-4 mr-2"}),s("admin.content.addMaterial")]})]}),D&&t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:D.id?s("admin.content.editMaterial"):s("admin.content.newMaterial")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.name")," (",s("admin.content.languageFr"),")"]}),t.jsx("input",{type:"text",value:D.name_fr,onChange:V=>$({...D,name_fr:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.name")," (",s("admin.content.languageEn"),")"]}),t.jsx("input",{type:"text",value:D.name_en,onChange:V=>$({...D,name_en:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s("admin.content.name")," (",s("admin.content.languageRu"),")"]}),t.jsx("input",{type:"text",value:D.name_ru,onChange:V=>$({...D,name_ru:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:s("admin.content.consumption")}),t.jsx("input",{type:"number",step:"0.01",value:D.consumption,onChange:V=>$({...D,consumption:parseFloat(V.target.value)}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:s("admin.content.unit")}),t.jsx("input",{type:"text",value:D.unit,onChange:V=>$({...D,unit:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:s("admin.content.coats")}),t.jsx("input",{type:"number",value:D.coats,onChange:V=>$({...D,coats:parseInt(V.target.value)}),className:"w-full px-3 py-2 border rounded"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mt-4 gap-2",children:[t.jsxs("button",{onClick:()=>$(null),className:"flex items-center bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:[t.jsx(qn,{className:"w-4 h-4 mr-2"}),s("admin.content.cancel")]}),t.jsxs("button",{onClick:()=>oe(D),className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:[t.jsx(Xs,{className:"w-4 h-4 mr-2"}),s("admin.content.save")]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-2",children:s("admin.content.name")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.consumption")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.unit")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.coats")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.active")}),t.jsx("th",{className:"text-left py-2",children:s("admin.content.actions")})]})}),t.jsx("tbody",{children:v.map(V=>t.jsxs("tr",{className:"border-b",children:[t.jsx("td",{className:"py-2",children:V.name_fr}),t.jsx("td",{className:"py-2",children:V.consumption}),t.jsx("td",{className:"py-2",children:V.unit}),t.jsx("td",{className:"py-2",children:V.coats}),t.jsx("td",{className:"py-2",children:V.is_active?s("admin.content.yes"):s("admin.content.no")}),t.jsx("td",{className:"py-2",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>$(V),className:"text-blue-600 hover:text-blue-800",children:t.jsx(Gu,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ge(V.id),className:"text-red-600 hover:text-red-800",children:t.jsx(Ca,{className:"w-4 h-4"})})]})})]},V.id))})]})})]}),u==="slogans"&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:s("admin.content.slogans")}),t.jsx("p",{className:`text-xs ${ee}`,children:s("admin.content.manageSlogans")})]}),t.jsxs("button",{onClick:()=>{O({title_ru:"",title_fr:"",title_en:"",content_ru:"",content_fr:"",content_en:"",is_active:!0}),W(!0)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-[#FF6B00] text-black text-xs sm:text-sm font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(ks,{className:"w-4 h-4"}),s("admin.content.addSlogan")]})]}),w.length===0?t.jsxs("div",{className:`text-center py-12 sm:py-16 border ${G} rounded-xl ${ee}`,children:[t.jsx(Qa,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{className:"text-base sm:text-lg mb-4",children:s("admin.content.noSlogans")}),t.jsx("button",{onClick:()=>{O({title_ru:"",title_fr:"",title_en:"",content_ru:"",content_fr:"",content_en:"",is_active:!0}),W(!0)},className:"px-4 py-2.5 bg-[#FF6B00] text-black rounded-lg text-xs sm:text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors",children:s("admin.content.addSlogan")})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:w.map((V,te)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.05},className:`relative p-4 sm:p-6 border ${G} rounded-xl ${be} transition-all duration-300 ${V.is_active?"":"opacity-50 grayscale"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[t.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-xl bg-[#FF6B00]/10 flex items-center justify-center overflow-hidden",children:V.image_url?t.jsx("img",{src:V.image_url,alt:"",className:"w-full h-full object-cover"}):t.jsx(Qa,{className:"w-6 h-6 text-[#FF6B00]"})}),t.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t.jsx("button",{onClick:()=>J(V),className:`p-1.5 sm:p-2 border ${G} rounded-lg transition-colors ${V.is_active?"text-green-500 hover:bg-green-500/10":"text-gray-400 hover:bg-gray-500/10"}`,title:V.is_active?s("admin.services.hide"):s("admin.services.show"),children:V.is_active?t.jsx(Xr,{className:"w-4 h-4"}):t.jsx(ad,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>{O(V),W(!0)},className:`p-1.5 sm:p-2 border ${G} rounded-lg hover:border-[#FF6B00] transition-colors`,title:s("admin.services.edit"),children:t.jsx(Gu,{className:`w-4 h-4 ${ee}`})}),t.jsx("button",{onClick:()=>re(V.id),className:`p-1.5 sm:p-2 border ${G} rounded-lg hover:border-red-500 transition-colors`,title:s("admin.services.delete"),children:t.jsx(Ca,{className:"w-4 h-4 text-red-500"})})]})]}),t.jsx("h3",{className:`font-bold italic text-lg sm:text-xl uppercase tracking-tight mb-1 ${U}`,children:V[`title_${i.language}`]||V.title_fr||""}),t.jsx("p",{className:`text-xs sm:text-sm ${ee} line-clamp-2 mb-3 sm:mb-4`,children:V[`content_${i.language}`]||V.content_fr||""}),t.jsxs("div",{className:`mt-3 sm:mt-4 pt-3 sm:pt-4 border-t ${G} flex items-center justify-between text-[10px] sm:text-xs ${ee}`,children:[t.jsxs("span",{children:["Key: ",V.key||"-"]}),t.jsxs("span",{children:["ID: ",V.id]})]})]},V.id))})]}),u==="config"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold mb-6",children:s("admin.content.siteConfig")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:s("admin.phone1")}),t.jsx("input",{type:"text",value:j.phone1,onChange:V=>T({...j,phone1:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:s("admin.phone2")}),t.jsx("input",{type:"text",value:j.phone2,onChange:V=>T({...j,phone2:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:s("admin.email")}),t.jsx("input",{type:"email",value:j.email,onChange:V=>T({...j,email:V.target.value}),className:"w-full px-3 py-2 border rounded"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:s("admin.address")}),t.jsx("input",{type:"text",value:j.address,onChange:V=>T({...j,address:V.target.value}),className:"w-full px-3 py-2 border rounded"})]})]}),t.jsx("div",{className:"flex justify-end mt-6",children:t.jsxs("button",{onClick:ne,className:"flex items-center bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:[t.jsx(Xs,{className:"w-4 h-4 mr-2"}),s("admin.content.saveConfig")]})})]})]})]})]}),t.jsx(rs,{children:L&&P&&t.jsxs(t.Fragment,{children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]",onClick:()=>W(!1)}),t.jsxs(qe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl max-h-[90vh] z-[70] ${be} rounded-2xl shadow-2xl overflow-hidden flex flex-col`,children:[t.jsxs("div",{className:`p-4 sm:p-6 border-b ${G} flex items-center justify-between`,children:[t.jsx("h2",{className:`font-bold italic text-lg sm:text-xl uppercase tracking-wide ${U}`,children:P.id?s("admin.content.editSlogan"):s("admin.content.newSlogan")}),t.jsx("button",{onClick:()=>W(!1),className:`p-1.5 sm:p-2 rounded-lg transition-colors ${q?"hover:bg-gray-100":"hover:bg-white/10"}`,children:t.jsx(qn,{className:`w-5 h-5 ${U}`})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] sm:text-xs font-bold uppercase tracking-wide mb-1.5 sm:mb-2 ${ee}`,children:"Key"}),t.jsx("input",{type:"text",value:P.key||"",onChange:V=>O({...P,key:V.target.value}),className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 border ${G} rounded-lg text-xs sm:text-sm focus:outline-none focus:border-[#FF6B00] ${U} ${ie}`,placeholder:"slogan_key"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] sm:text-xs font-bold uppercase tracking-wide mb-1.5 sm:mb-2 ${ee}`,children:"Image URL"}),t.jsx("input",{type:"text",value:P.image_url||"",onChange:V=>O({...P,image_url:V.target.value}),className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 border ${G} rounded-lg text-xs sm:text-sm focus:outline-none focus:border-[#FF6B00] ${U} ${ie}`,placeholder:"https://..."})]})]}),["ru","fr","en"].map(V=>t.jsxs("div",{className:`p-3 sm:p-4 border ${G} rounded-xl ${q?"bg-gray-50":"bg-white/5"}`,children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsx("h4",{className:`font-bold uppercase text-xs ${ee}`,children:V==="ru"?" ":V==="en"?" English":" Franais"})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] font-bold uppercase tracking-wide mb-1 ${ee}`,children:s("admin.content.labelTitle")}),t.jsx("input",{type:"text",value:P[`title_${V}`],onChange:te=>O({...P,[`title_${V}`]:te.target.value}),className:`w-full px-3 py-2 border ${G} rounded-lg text-xs focus:outline-none focus:border-[#FF6B00] ${U} ${ie}`})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-[10px] font-bold uppercase tracking-wide mb-1 ${ee}`,children:s("admin.content.content")}),t.jsx("textarea",{rows:2,value:P[`content_${V}`],onChange:te=>O({...P,[`content_${V}`]:te.target.value}),className:`w-full px-3 py-2 border ${G} rounded-lg text-xs focus:outline-none focus:border-[#FF6B00] ${U} ${ie} resize-none`})]})]})]},V)),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:P.is_active,onChange:V=>O({...P,is_active:V.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-[#FF6B00] focus:ring-[#FF6B00]"}),t.jsx("span",{className:`text-xs sm:text-sm ${U}`,children:s("admin.content.active")})]}),t.jsxs("button",{onClick:ke,disabled:X,className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs sm:text-sm font-bold uppercase tracking-wide rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors disabled:opacity-50",children:[X?t.jsx(Nt,{className:"w-4 h-4 animate-spin"}):t.jsx(hv,{className:"w-4 h-4"}),s("admin.translations.translate")]})]})]}),t.jsxs("div",{className:`p-4 sm:p-6 border-t ${G} flex justify-end gap-3`,children:[t.jsx("button",{onClick:()=>W(!1),className:`px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold uppercase tracking-wide border ${G} rounded-lg transition-colors ${U}`,children:s("admin.content.cancel")}),t.jsxs("button",{onClick:Z,className:"flex items-center gap-1.5 sm:gap-2 px-4 sm:px-6 py-2 sm:py-2.5 bg-[#FF6B00] text-black text-xs sm:text-sm font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors",children:[t.jsx(Xs,{className:"w-4 h-4"}),s("admin.content.save")]})]})]})]})})]})},R2=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),{id:u}=ti(),[f,p]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[g,v]=_.useState(null),[S,w]=_.useState([]),[A,j]=_.useState([]),[T,R]=_.useState(!0),[B,D]=_.useState(""),$="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const oe=()=>{p(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",oe),()=>window.removeEventListener("themechange",oe)},[]),_.useEffect(()=>{u&&(P(u),O(u),L(u))},[u]);const P=async oe=>{try{const Z=await(await fetch(`${$}/categories/${oe}`)).json();Z.success?v(Z.data):D("Category not found")}catch(ge){console.error("Failed to load category:",ge),D("Failed to load category")}},O=async oe=>{try{const Z=await(await fetch(`${$}/categories/${oe}/products`)).json();Z.success&&w(Z.data)}catch(ge){console.error("Failed to load products:",ge)}finally{R(!1)}},L=async oe=>{try{const Z=await(await fetch(`${$}/categories?parent_id=${oe}`)).json();Z.success&&j(Z.data)}catch(ge){console.error("Failed to load subcategories:",ge)}},W=()=>{if(!g)return"";const oe=i.language;return oe==="ru"?g.desc_ru:oe==="fr"?g.desc_fr:oe==="en"?g.desc_en:g.desc_fr||""},de=()=>{if(!g)return"";const oe=i.language;return oe==="ru"?g.name_ru||g.name_fr||g.name_en:oe==="fr"?g.name_fr||g.name_ru||g.name_en:oe==="en"?g.name_en||g.name_fr||g.name_ru:g.name_fr||""},ae=oe=>{const ge=i.language;return ge==="ru"?oe.name_ru||oe.name_fr||oe.name_en:ge==="fr"?oe.name_fr||oe.name_ru||oe.name_en:ge==="en"?oe.name_en||oe.name_fr||oe.name_ru:oe.name_fr||""},X=oe=>{const ge=i.language;return ge==="ru"?oe.name_ru||oe.name_fr||oe.name_en:ge==="fr"?oe.name_fr||oe.name_ru||oe.name_en:ge==="en"?oe.name_en||oe.name_fr||oe.name_ru:oe.name_fr||""},ue=f?"text-zinc-900":"text-zinc-100",q=f?"text-zinc-600":"text-zinc-400",Y=f?"border-black":"border-[#FF6B00]/20",Ce=f?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",he=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}];return T?t.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-gray-50":"bg-black"}`,children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):B||!g?t.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-gray-50":"bg-black"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-red-500 mb-4 ${ue}`,children:B}),t.jsx("button",{onClick:()=>l("/admin/categories"),className:"px-4 py-2 bg-[#FF6B00] text-black rounded-lg",children:s("admin.back")})]})}):t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${Ce}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>l("/admin/categories"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToCategories")]}),t.jsx("div",{className:`h-4 w-px ${f?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:he.map(oe=>t.jsxs(Bn,{to:oe.path,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${oe.id==="categories"?"bg-[#FF6B00] text-black":f?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[oe.icon,oe.label]},oe.id))})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>l(`/admin/categories/${u}/edit`),className:"flex items-center gap-2 px-4 py-2 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors",children:[t.jsx(ei,{className:"w-4 h-4"}),s("admin.categories.edit")]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>l("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})]})]}),t.jsx("main",{className:"pt-24 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[t.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 bg-gradient-to-br from-[#FF6B00]/10 to-transparent rounded-xl flex items-center justify-center overflow-hidden",children:g.image_url?t.jsx("img",{src:g.image_url,alt:de()||"",className:"w-full h-full object-contain p-4"}):g.icon?t.jsx("div",{className:"text-6xl",children:g.icon}):t.jsx(Ys,{className:`w-16 h-16 ${q}`})}),t.jsxs("div",{className:"flex-1 text-center md:text-left",children:[t.jsx("h1",{className:`font-black italic text-3xl md:text-5xl uppercase tracking-tight ${ue} mb-4`,children:de()}),W()&&t.jsx("p",{className:`text-lg ${q} max-w-2xl mb-4`,children:W()}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsx("span",{className:`px-3 py-1 rounded-full ${f?"bg-green-100 text-green-700":"bg-green-500/20 text-green-400"}`,children:s("admin.content.active")}),t.jsxs("span",{className:q,children:[s("admin.categories.order"),": ",g.sort_order]}),g.parent_id&&t.jsxs("span",{className:q,children:["Parent ID: ",g.parent_id]})]})]})]})}),A.length>0&&t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:[t.jsxs("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-6 ${ue}`,children:[s("admin.categories.subcategories")," (",A.length,")"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:A.map((oe,ge)=>t.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+ge*.05},className:`group relative rounded-xl border ${Y} overflow-hidden transition-all duration-300 ${f?"bg-white hover:shadow-lg":"bg-gray-800 hover:border-[#FF6B00]/50"}`,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF6B00]/5 to-transparent rounded-lg flex items-center justify-center",children:oe.icon?t.jsx("span",{className:"text-xl",children:oe.icon}):t.jsx(Ys,{className:`w-6 h-6 ${q}`})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`font-bold text-lg ${ue} group-hover:text-[#FF6B00] transition-colors`,children:ae(oe)}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f?"bg-green-100 text-green-700":"bg-green-500/20 text-green-400"}`,children:s("admin.content.active")})]})]}),t.jsx("p",{className:`text-sm ${q} mb-4 line-clamp-2`,children:oe[`desc_${i.language}`]||oe.desc_fr||"Aucune description"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[s("admin.categories.order"),": ",oe.sort_order]}),t.jsx("button",{onClick:()=>l(`/admin/categories/${oe.id}`),className:`p-1.5 rounded-lg transition-colors ${f?"hover:bg-gray-100 text-gray-600":"hover:bg-gray-700 text-gray-400"}`,title:s("admin.categories.view"),children:t.jsx(ei,{className:"w-4 h-4"})})]})]})},oe.id))})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:`font-bold italic text-2xl uppercase tracking-wide mb-6 ${ue}`,children:[s("admin.products.title")," (",S.length,")"]}),S.length===0?t.jsxs("div",{className:`text-center py-12 border ${Y} rounded-xl`,children:[t.jsx(Cn,{className:`w-12 h-12 mx-auto mb-4 ${q} opacity-50`}),t.jsx("p",{className:`text-lg ${q}`,children:s("admin.categories.noProducts")})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:S.map((oe,ge)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ge*.05},className:`border ${Y} rounded-xl overflow-hidden group`,children:[t.jsx("div",{className:"aspect-square bg-transparent flex items-center justify-center p-4",children:oe.image_url?t.jsx("img",{src:oe.image_url,alt:X(oe)||"Product",className:"w-full h-full object-contain"}):t.jsx(Cn,{className:`w-16 h-16 ${q} opacity-30`})}),t.jsxs("div",{className:`p-4 border-t ${Y}`,children:[t.jsx("p",{className:`text-xs ${q} mb-1`,children:oe.brand_name||"No brand"}),t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide mb-2 ${ue} group-hover:text-[#FF6B00] transition-colors line-clamp-1`,children:X(oe)}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xl font-bold text-[#FF6B00]",children:[oe.price.toFixed(2)," "]}),oe.stock>0?t.jsxs("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-500 rounded-full",children:[oe.stock," en stock"]}):t.jsx("span",{className:"text-xs px-2 py-1 bg-red-500/20 text-red-500 rounded-full",children:"Rupture"})]})]})]},oe.id))})]})]})})]})},O2=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),{id:u}=ti(),[f,p]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[g,v]=_.useState(null),[S,w]=_.useState([]),[A,j]=_.useState(!0),[T,R]=_.useState(!1),[B,D]=_.useState(""),[$,P]=_.useState(""),[O,L]=_.useState({name_ru:"",name_fr:"",name_en:"",desc_ru:"",desc_fr:"",desc_en:"",icon:"",image_url:"",parent_id:"",sort_order:"0"}),[W,de]=_.useState(""),[ae,X]=_.useState(!1),[ue,q]=_.useState(!1),[Y,Ce]=_.useState([]),[he,oe]=_.useState(null),ge="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const pe=()=>{p(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",pe),()=>window.removeEventListener("themechange",pe)},[]),_.useEffect(()=>{u&&(Z(),re())},[u]);const Z=async()=>{try{const Ue=await(await fetch(`${ge}/categories/${u}`)).json();if(Ue.success){const Se=Ue.data;v(Se),L({name_ru:Se.name_ru||"",name_fr:Se.name_fr||"",name_en:Se.name_en||"",desc_ru:Se.desc_ru||"",desc_fr:Se.desc_fr||"",desc_en:Se.desc_en||"",icon:Se.icon||"",image_url:Se.image_url||"",parent_id:Se.parent_id?.toString()||"",sort_order:Se.sort_order?.toString()||"0"}),de(Se.image_url||"");const Je=await(await fetch(`${ge}/categories?parent_id=${u}`)).json();Je.success&&Ce(Je.data.map(et=>({name_ru:et.name_ru||"",name_fr:et.name_fr||"",name_en:et.name_en||"",desc_ru:et.desc_ru||"",desc_fr:et.desc_fr||"",desc_en:et.desc_en||""})))}else D("Category not found")}catch(pe){console.error("Failed to load category:",pe),D("Failed to load category")}finally{j(!1)}},re=async()=>{try{const Ue=await(await fetch(`${ge}/categories`)).json();Ue.success&&w(Ue.data.filter(Se=>Se.id!==parseInt(u)))}catch(pe){console.error("Failed to load categories:",pe)}},J=pe=>{pe.preventDefault(),q(!0)},ke=()=>{q(!1)},ne=async pe=>{pe.preventDefault(),q(!1);const Ue=pe.dataTransfer.files[0];Ue&&await U(Ue)},ee=async pe=>{const Ue=pe.target.files?.[0];Ue&&await U(Ue)},U=async pe=>{X(!0),D("");const Ue=new FormData;Ue.append("file",pe),Ue.append("folder","categories");try{const Ge=await(await fetch(`${ge}/upload`,{method:"POST",body:Ue})).json();Ge.success?(L(Je=>({...Je,image_url:Ge.data.url})),de(Ge.data.url)):D(Ge.error||"Failed to upload image")}catch{D("Failed to upload image")}finally{X(!1)}},G=async()=>{if(!O.name_fr.trim()){D("French name is required");return}R(!0),D("");try{const Ue=await(await fetch(`${ge}/categories/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name_ru:O.name_ru||null,name_fr:O.name_fr,name_en:O.name_en||null,desc_ru:O.desc_ru||null,desc_fr:O.desc_fr||null,desc_en:O.desc_en||null,icon:O.icon||null,image_url:O.image_url||null,parent_id:O.parent_id?parseInt(O.parent_id):null,sort_order:parseInt(O.sort_order)||0})})).json();if(Ue.success){for(const Se of Y)Se.name_fr.trim()&&await fetch(`${ge}/categories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...Se,parent_id:parseInt(u),sort_order:0})});P("Category updated successfully!"),setTimeout(()=>{l("/admin/categories")},1500)}else D(Ue.error||"Failed to update category")}catch{D("Failed to update category")}finally{R(!1)}},ie=()=>{Ce([...Y,{name_ru:"",name_fr:"",name_en:"",desc_ru:"",desc_fr:"",desc_en:""}]),oe(Y.length)},be=(pe,Ue,Se)=>{const Ge=[...Y];Ge[pe]={...Ge[pe],[Ue]:Se},Ce(Ge)},V=pe=>{Ce(Y.filter((Ue,Se)=>Se!==pe)),he===pe&&oe(null)},te=pe=>{switch(i.language){case"ru":return pe.name_ru||pe.name_fr||pe.name_en||" ";case"en":return pe.name_en||pe.name_fr||pe.name_ru||"Untitled";default:return pe.name_fr||pe.name_ru||pe.name_en||"Sans titre"}},se=f?"text-zinc-900":"text-zinc-100",xe=f?"text-zinc-600":"text-zinc-400",we=f?"border-black":"border-[#FF6B00]/20",Me=f?"bg-white":"bg-black/50",Ve=f?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",Re=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}];return A?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):g?t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${Ve}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>l("/admin/categories"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToCategories")]}),t.jsx("div",{className:`h-4 w-px ${f?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:Re.map(pe=>t.jsxs(Bn,{to:pe.path,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${pe.id==="categories"?"bg-[#FF6B00] text-black":f?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[pe.icon,pe.label]},pe.id))})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>l("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[B&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:B}),$&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Xs,{className:"w-4 h-4"}),$]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[t.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[t.jsxs("div",{onDragOver:J,onDragLeave:ke,onDrop:ne,className:`relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm border-2 border-dashed transition-all duration-300 ${ue?"border-[#FF6B00] bg-[#FF6B00]/10":`${we}`}`,children:[t.jsx("div",{className:"aspect-video flex items-center justify-center p-8",children:ae?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Nt,{className:"w-10 h-10 text-[#FF6B00] animate-spin"}),t.jsx("p",{className:`text-sm ${xe}`,children:"..."})]}):W?t.jsx("img",{src:W,alt:"Category preview",className:"max-w-full max-h-full object-contain"}):t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Ys,{className:"w-20 h-20 text-gray-300"}),t.jsx("p",{className:`mt-4 text-sm ${xe}`,children:"  "})]})}),t.jsx("label",{className:`absolute inset-0 cursor-pointer ${W?"hidden":"flex"}`,children:t.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:ee,className:"hidden"})}),W&&t.jsx("button",{onClick:()=>{de(""),L(pe=>({...pe,image_url:""}))},className:"absolute top-4 right-4 p-2 bg-red-500 rounded-full text-white hover:bg-red-600 transition-colors",children:t.jsx(qn,{className:"w-4 h-4"})})]}),t.jsx("p",{className:`text-center text-xs mt-3 ${xe}`,children:"PNG, JPG  5MB"})]}),t.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex flex-col",children:[t.jsxs("div",{className:`p-6 border ${we} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${se}`,children:s("admin.categories.categoryInfo")}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${xe}`,children:s("admin.categories.parentCategory")}),t.jsxs("select",{value:O.parent_id,onChange:pe=>L(Ue=>({...Ue,parent_id:pe.target.value})),className:`w-full px-4 py-3 rounded-lg border ${we} text-sm focus:outline-none focus:border-[#FF6B00] ${se} ${Me}`,children:[t.jsx("option",{value:"",children:s("admin.categories.noParent")}),S.map(pe=>t.jsx("option",{value:pe.id,children:te(pe)},pe.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${xe}`,children:s("admin.categories.icon")}),t.jsx("input",{type:"text",value:O.icon,onChange:pe=>L(Ue=>({...Ue,icon:pe.target.value})),className:`w-full px-4 py-3 rounded-lg border ${we} text-sm focus:outline-none focus:border-[#FF6B00] ${se} ${Me}`,placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${xe}`,children:s("admin.categories.order")}),t.jsx("input",{type:"number",value:O.sort_order,onChange:pe=>L(Ue=>({...Ue,sort_order:pe.target.value})),className:`w-full px-4 py-3 rounded-lg border ${we} text-sm focus:outline-none focus:border-[#FF6B00] ${se} ${Me}`,placeholder:"0"})]})]})]}),t.jsxs("div",{className:`p-6 border ${we} rounded-xl mt-6`,children:[t.jsx("h3",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${se}`,children:s("admin.categories.subcategories")}),t.jsxs("div",{className:"space-y-4",children:[Y.map((pe,Ue)=>t.jsxs("div",{className:`p-4 rounded-lg border ${we}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:`font-bold text-lg ${se}`,children:[s("admin.categories.subcategory")," ",Ue+1]}),t.jsxs("div",{className:"flex gap-2",children:[he===Ue?t.jsx("button",{onClick:()=>oe(null),className:`p-2 rounded-lg ${f?"bg-gray-100 text-gray-600":"bg-gray-700 text-gray-400"}`,children:t.jsx(Xr,{className:"w-4 h-4"})}):t.jsx("button",{onClick:()=>oe(Ue),className:`p-2 rounded-lg ${f?"bg-gray-100 text-gray-600":"bg-gray-700 text-gray-400"}`,children:t.jsx(ei,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>V(Ue),className:`p-2 rounded-lg ${f?"bg-red-50 text-red-600":"bg-red-500/10 text-red-400"}`,children:t.jsx(Ca,{className:"w-4 h-4"})})]})]}),he===Ue?t.jsx("div",{className:"space-y-3",children:["fr","en","ru"].map(Se=>t.jsxs("div",{children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-1 ${xe}`,children:[s("admin.categories.name")," (",Se.toUpperCase(),")"]}),t.jsx("input",{type:"text",value:pe[`name_${Se}`],onChange:Ge=>be(Ue,`name_${Se}`,Ge.target.value),className:`w-full px-3 py-2 rounded-lg border ${we} text-sm focus:outline-none focus:border-[#FF6B00] ${se} ${Me}`,placeholder:Se==="fr"?"Nom":Se==="en"?"Name":""})]},Se))}):t.jsxs("div",{children:[t.jsx("p",{className:`text-sm ${se} mb-1`,children:pe.name_fr||pe.name_en||pe.name_ru||s("admin.categories.untitled")}),t.jsx("p",{className:`text-xs ${xe} line-clamp-2`,children:pe.desc_fr||pe.desc_en||pe.desc_ru||s("admin.categories.noDescription")})]})]},Ue)),t.jsxs("button",{onClick:ie,className:`w-full py-3 border-2 border-dashed ${we} rounded-lg flex items-center justify-center gap-2 transition-colors ${f?"hover:bg-gray-50 text-gray-600":"hover:bg-gray-800 text-gray-400"}`,children:[t.jsx(ks,{className:"w-5 h-5"}),s("admin.categories.addSubcategory")]})]})]})]})]}),t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:`p-6 border ${we} rounded-xl mt-8`,children:[t.jsx("h3",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${se}`,children:s("admin.categories.multilingualContent")}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:["fr","en","ru"].map(pe=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${xe}`,children:[s("admin.categories.name")," (",pe.toUpperCase(),") ",pe==="fr"&&"*"]}),t.jsx("input",{type:"text",value:O[`name_${pe}`],onChange:Ue=>L(Se=>({...Se,[`name_${pe}`]:Ue.target.value})),className:`w-full px-4 py-3 rounded-lg border ${we} text-sm focus:outline-none focus:border-[#FF6B00] ${se} ${Me}`,placeholder:pe==="fr"?"Nom de la catgorie":pe==="en"?"Category name":" "})]}),t.jsxs("div",{children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${xe}`,children:[s("admin.categories.description")," (",pe.toUpperCase(),")"]}),t.jsx("textarea",{rows:4,value:O[`desc_${pe}`],onChange:Ue=>L(Se=>({...Se,[`desc_${pe}`]:Ue.target.value})),className:`w-full px-4 py-3 rounded-lg border ${we} text-sm focus:outline-none focus:border-[#FF6B00] ${se} ${Me} resize-none`,placeholder:pe==="fr"?"Description de la catgorie...":pe==="en"?"Category description...":" ..."})]})]},pe))})]}),t.jsxs("div",{className:"flex items-center justify-between mt-8",children:[t.jsx("button",{onClick:()=>l("/admin/categories"),className:`px-6 py-3 border ${we} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${se} hover:border-[#FF6B00]`,children:s("admin.cancel")}),t.jsx("button",{onClick:G,disabled:T,className:"px-8 py-3 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors disabled:opacity-50 flex items-center gap-2",children:T?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{className:"w-4 h-4 animate-spin"}),s("admin.saving")]}):t.jsxs(t.Fragment,{children:[t.jsx(Xs,{className:"w-4 h-4"}),s("admin.save")]})})]})]})})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-red-500 mb-4 ${se}`,children:B}),t.jsx("button",{onClick:()=>l("/admin/categories"),className:"px-4 py-2 bg-[#FF6B00] text-black rounded-lg",children:s("admin.back")})]})})},B2=()=>{const{t:s,i18n:i}=Ot(),l=Sn(),u=Ss(),[f,p]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[g,v]=_.useState([]),[S,w]=_.useState(!1),[A,j]=_.useState(""),[T,R]=_.useState(""),[B,D]=_.useState({name_ru:"",name_fr:"",name_en:"",desc_ru:"",desc_fr:"",desc_en:"",slug:"",icon:"",image_url:"",parent_id:"",sort_order:"0"}),[$,P]=_.useState(""),[O,L]=_.useState(!1),[W,de]=_.useState(!1),ae="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const G=()=>{p(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",G),()=>window.removeEventListener("themechange",G)},[]),_.useEffect(()=>{X()},[]);const X=async()=>{try{const ie=await(await fetch(`${ae}/categories`)).json();ie.success&&v(ie.data)}catch(G){console.error("Failed to load categories:",G)}},ue=G=>{G.preventDefault(),de(!0)},q=()=>{de(!1)},Y=async G=>{G.preventDefault(),de(!1);const ie=G.dataTransfer.files[0];ie&&await he(ie)},Ce=async G=>{const ie=G.target.files?.[0];ie&&await he(ie)},he=async G=>{L(!0),j("");const ie=new FormData;ie.append("file",G),ie.append("folder","categories");try{const V=await(await fetch(`${ae}/upload`,{method:"POST",body:ie})).json();V.success?(D(te=>({...te,image_url:V.data.url})),P(V.data.url)):j(V.error||"Failed to upload image")}catch{j("Failed to upload image")}finally{L(!1)}},oe=async()=>{if(!B.name_fr.trim()){j("French name is required");return}if(!B.slug.trim()){j("Slug is required");return}w(!0),j("");try{const ie=await(await fetch(`${ae}/categories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:B.slug,name_ru:B.name_ru||null,name_fr:B.name_fr,name_en:B.name_en||null,desc_ru:B.desc_ru||null,desc_fr:B.desc_fr||null,desc_en:B.desc_en||null,icon:B.icon||null,image_url:B.image_url||null,parent_id:B.parent_id?parseInt(B.parent_id):null,sort_order:parseInt(B.sort_order)||0})})).json();ie.success?(R("Category created successfully!"),setTimeout(()=>{l("/admin/categories")},1500)):j(ie.error||"Failed to create category")}catch{j("Failed to create category")}finally{w(!1)}},ge=G=>{switch(i.language){case"ru":return G.name_ru||G.name_fr||G.name_en||" ";case"en":return G.name_en||G.name_fr||G.name_ru||"Untitled";default:return G.name_fr||G.name_ru||G.name_en||"Sans titre"}},Z=f?"text-zinc-900":"text-zinc-100",re=f?"text-zinc-600":"text-zinc-400",J=f?"border-black":"border-[#FF6B00]/20",ke=f?"bg-white":"bg-black/50",ne=f?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",ee=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}],U=G=>u.pathname===G;return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${ne}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>l("/admin/categories"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToCategories")]}),t.jsx("div",{className:`h-4 w-px ${f?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:ee.map(G=>t.jsxs(Bn,{to:G.path,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${U(G.path)?"bg-[#FF6B00] text-black":f?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[G.icon,G.label]},G.id))})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>l("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${f?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[A&&t.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-sm",children:A}),T&&t.jsxs(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[t.jsx(Xs,{className:"w-4 h-4"}),T]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[t.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[t.jsxs("div",{onDragOver:ue,onDragLeave:q,onDrop:Y,className:`relative rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm border-2 border-dashed transition-all duration-300 ${W?"border-[#FF6B00] bg-[#FF6B00]/10":`${J}`}`,children:[t.jsx("div",{className:"aspect-video flex items-center justify-center p-8",children:O?t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Nt,{className:"w-10 h-10 text-[#FF6B00] animate-spin"}),t.jsx("p",{className:`text-sm ${re}`,children:"..."})]}):$?t.jsx("img",{src:$,alt:"Category preview",className:"max-w-full max-h-full object-contain"}):t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Ys,{className:"w-20 h-20 text-gray-300"}),t.jsx("p",{className:`mt-4 text-sm ${re}`,children:"  "})]})}),t.jsx("label",{className:`absolute inset-0 cursor-pointer ${$?"hidden":"flex"}`,children:t.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Ce,className:"hidden"})}),$&&t.jsx("button",{onClick:()=>{P(""),D(G=>({...G,image_url:""}))},className:"absolute top-4 right-4 p-2 bg-red-500 rounded-full text-white hover:bg-red-600 transition-colors",children:t.jsx(qn,{className:"w-4 h-4"})})]}),t.jsx("p",{className:`text-center text-xs mt-3 ${re}`,children:"PNG, JPG  5MB"})]}),t.jsx(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex flex-col",children:t.jsxs("div",{className:`p-6 border ${J} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${Z}`,children:s("admin.categories.categoryInfo")}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:"Slug *"}),t.jsx("input",{type:"text",value:B.slug,onChange:G=>D(ie=>({...ie,slug:G.target.value})),className:`w-full px-4 py-3 rounded-lg border ${J} text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ke}`,placeholder:"category-slug"})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:s("admin.categories.parentCategory")}),t.jsxs("select",{value:B.parent_id,onChange:G=>D(ie=>({...ie,parent_id:G.target.value})),className:`w-full px-4 py-3 rounded-lg border ${J} text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ke}`,children:[t.jsx("option",{value:"",children:s("admin.categories.noParent")}),g.map(G=>t.jsx("option",{value:G.id,children:ge(G)},G.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:s("admin.categories.icon")}),t.jsx("input",{type:"text",value:B.icon,onChange:G=>D(ie=>({...ie,icon:G.target.value})),className:`w-full px-4 py-3 rounded-lg border ${J} text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ke}`,placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:s("admin.categories.order")}),t.jsx("input",{type:"number",value:B.sort_order,onChange:G=>D(ie=>({...ie,sort_order:G.target.value})),className:`w-full px-4 py-3 rounded-lg border ${J} text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ke}`,placeholder:"0"})]})]})]})})]}),t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:`p-6 border ${J} rounded-xl mt-8`,children:[t.jsx("h3",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${Z}`,children:s("admin.categories.multilingualContent")}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:["fr","en","ru"].map(G=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:[s("admin.categories.name")," (",G.toUpperCase(),") ",G==="fr"&&"*"]}),t.jsx("input",{type:"text",value:B[`name_${G}`],onChange:ie=>D(be=>({...be,[`name_${G}`]:ie.target.value})),className:`w-full px-4 py-3 rounded-lg border ${J} text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ke}`,placeholder:G==="fr"?"Nom de la catgorie":G==="en"?"Category name":" "})]}),t.jsxs("div",{children:[t.jsxs("label",{className:`block text-xs font-bold uppercase tracking-wide mb-2 ${re}`,children:[s("admin.categories.description")," (",G.toUpperCase(),")"]}),t.jsx("textarea",{rows:4,value:B[`desc_${G}`],onChange:ie=>D(be=>({...be,[`desc_${G}`]:ie.target.value})),className:`w-full px-4 py-3 rounded-lg border ${J} text-sm focus:outline-none focus:border-[#FF6B00] ${Z} ${ke} resize-none`,placeholder:G==="fr"?"Description de la catgorie...":G==="en"?"Category description...":" ..."})]})]},G))})]}),t.jsxs("div",{className:"flex items-center justify-between mt-8",children:[t.jsx("button",{onClick:()=>l("/admin/categories"),className:`px-6 py-3 border ${J} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${Z} hover:border-[#FF6B00]`,children:s("admin.cancel")}),t.jsx("button",{onClick:oe,disabled:S,className:"px-8 py-3 bg-[#FF6B00] text-black rounded-lg text-sm font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors disabled:opacity-50 flex items-center gap-2",children:S?t.jsxs(t.Fragment,{children:[t.jsx(Nt,{className:"w-4 h-4 animate-spin"}),s("admin.saving")]}):t.jsxs(t.Fragment,{children:[t.jsx(Xs,{className:"w-4 h-4"}),s("admin.categories.create")]})})]})]})})]})},{slice:i_,forEach:r_}=[];function l_(s){return r_.call(i_.call(arguments,1),i=>{if(i)for(const l in i)s[l]===void 0&&(s[l]=i[l])}),s}function o_(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(l=>l.test(s))}const D2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,c_=function(s,i){const u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},f=encodeURIComponent(i);let p=`${s}=${f}`;if(u.maxAge>0){const g=u.maxAge-0;if(Number.isNaN(g))throw new Error("maxAge should be a Number");p+=`; Max-Age=${Math.floor(g)}`}if(u.domain){if(!D2.test(u.domain))throw new TypeError("option domain is invalid");p+=`; Domain=${u.domain}`}if(u.path){if(!D2.test(u.path))throw new TypeError("option path is invalid");p+=`; Path=${u.path}`}if(u.expires){if(typeof u.expires.toUTCString!="function")throw new TypeError("option expires is invalid");p+=`; Expires=${u.expires.toUTCString()}`}if(u.httpOnly&&(p+="; HttpOnly"),u.secure&&(p+="; Secure"),u.sameSite)switch(typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite){case!0:p+="; SameSite=Strict";break;case"lax":p+="; SameSite=Lax";break;case"strict":p+="; SameSite=Strict";break;case"none":p+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return u.partitioned&&(p+="; Partitioned"),p},M2={create(s,i,l,u){let f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};l&&(f.expires=new Date,f.expires.setTime(f.expires.getTime()+l*60*1e3)),u&&(f.domain=u),document.cookie=c_(s,i,f)},read(s){const i=`${s}=`,l=document.cookie.split(";");for(let u=0;u<l.length;u++){let f=l[u];for(;f.charAt(0)===" ";)f=f.substring(1,f.length);if(f.indexOf(i)===0)return f.substring(i.length,f.length)}return null},remove(s,i){this.create(s,"",-1,i)}};var u_={name:"cookie",lookup(s){let{lookupCookie:i}=s;if(i&&typeof document<"u")return M2.read(i)||void 0},cacheUserLanguage(s,i){let{lookupCookie:l,cookieMinutes:u,cookieDomain:f,cookieOptions:p}=i;l&&typeof document<"u"&&M2.create(l,s,u,f,p)}},d_={name:"querystring",lookup(s){let{lookupQuerystring:i}=s,l;if(typeof window<"u"){let{search:u}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(u=window.location.hash.substring(window.location.hash.indexOf("?")));const p=u.substring(1).split("&");for(let g=0;g<p.length;g++){const v=p[g].indexOf("=");v>0&&p[g].substring(0,v)===i&&(l=p[g].substring(v+1))}}return l}},h_={name:"hash",lookup(s){let{lookupHash:i,lookupFromHashIndex:l}=s,u;if(typeof window<"u"){const{hash:f}=window.location;if(f&&f.length>2){const p=f.substring(1);if(i){const g=p.split("&");for(let v=0;v<g.length;v++){const S=g[v].indexOf("=");S>0&&g[v].substring(0,S)===i&&(u=g[v].substring(S+1))}}if(u)return u;if(!u&&l>-1){const g=f.match(/\/([a-zA-Z-]*)/g);return Array.isArray(g)?g[typeof l=="number"?l:0]?.replace("/",""):void 0}}}return u}};let Fl=null;const I2=()=>{if(Fl!==null)return Fl;try{if(Fl=typeof window<"u"&&window.localStorage!==null,!Fl)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Fl=!1}return Fl};var f_={name:"localStorage",lookup(s){let{lookupLocalStorage:i}=s;if(i&&I2())return window.localStorage.getItem(i)||void 0},cacheUserLanguage(s,i){let{lookupLocalStorage:l}=i;l&&I2()&&window.localStorage.setItem(l,s)}};let Rl=null;const L2=()=>{if(Rl!==null)return Rl;try{if(Rl=typeof window<"u"&&window.sessionStorage!==null,!Rl)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Rl=!1}return Rl};var m_={name:"sessionStorage",lookup(s){let{lookupSessionStorage:i}=s;if(i&&L2())return window.sessionStorage.getItem(i)||void 0},cacheUserLanguage(s,i){let{lookupSessionStorage:l}=i;l&&L2()&&window.sessionStorage.setItem(l,s)}},x_={name:"navigator",lookup(s){const i=[];if(typeof navigator<"u"){const{languages:l,userLanguage:u,language:f}=navigator;if(l)for(let p=0;p<l.length;p++)i.push(l[p]);u&&i.push(u),f&&i.push(f)}return i.length>0?i:void 0}},p_={name:"htmlTag",lookup(s){let{htmlTag:i}=s,l;const u=i||(typeof document<"u"?document.documentElement:null);return u&&typeof u.getAttribute=="function"&&(l=u.getAttribute("lang")),l}},g_={name:"path",lookup(s){let{lookupFromPathIndex:i}=s;if(typeof window>"u")return;const l=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof i=="number"?i:0]?.replace("/",""):void 0}},b_={name:"subdomain",lookup(s){let{lookupFromSubdomainIndex:i}=s;const l=typeof i=="number"?i+1:1,u=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(u)return u[l]}};let vv=!1;try{document.cookie,vv=!0}catch{}const Nv=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];vv||Nv.splice(1,1);const y_=()=>({order:Nv,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class Cv{constructor(i){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(i,l)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=i,this.options=l_(l,this.options||{},y_()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=f=>f.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=u,this.addDetector(u_),this.addDetector(d_),this.addDetector(f_),this.addDetector(m_),this.addDetector(x_),this.addDetector(p_),this.addDetector(g_),this.addDetector(b_),this.addDetector(h_)}addDetector(i){return this.detectors[i.name]=i,this}detect(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,l=[];return i.forEach(u=>{if(this.detectors[u]){let f=this.detectors[u].lookup(this.options);f&&typeof f=="string"&&(f=[f]),f&&(l=l.concat(f))}}),l=l.filter(u=>u!=null&&!o_(u)).map(u=>this.options.convertDetectedLanguage(u)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?l:l.length>0?l[0]:null}cacheUserLanguage(i){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;l&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(i)>-1||l.forEach(u=>{this.detectors[u]&&this.detectors[u].cacheUserLanguage(i,this.options)}))}}Cv.type="languageDetector";const w_={header:{phone1:"+33 1 23 45 67 89",phone2:"+33 6 12 34 56 78",connexion:"Connexion",menu:"MENU"},nav:{home:"Accueil",catalogue:"Catalogue",brands:"Marques",services:"Services",calculators:"Calculateurs",contact:"Contact"},home:{popular:" Populaires",comingSoon:"Produits bientt disponibles",cta:{calculate:"Calculer mes besoins",quote:"Demander un devis"}},footer:{tagline:"Le partenaire de vos chantiers",quickLinks:"Liens rapides",copyright:" 2026 YAN'S DECO",location:"Groslay  Montmorency  le-de-France"},catalogue:{title:"Nos Rayons",subtitle:"Du btiment  la rnovation, toute une gamme de matriaux, outillage et accessoires pour les professionnels et les particuliers.",back:" RETOUR",products:"VOIR TOUS LES PRODUITS",products_count:"produits"},brands:{title:"Nos partenaires",subtitle:"Nous travaillons avec les plus grandes marques du secteur pour vous garantir qualit et fiabilit.",viewAll:"Voir tous les produits",back:" Retour aux partenaires",productsTitle:"Produits de cette marque",noProducts:"Aucun produit disponible pour le moment"},services:{title:"NOS SERVICES",subtitle:"Des services complets pour accompagner tous vos projets de construction et rnovation.",livraison:{title:"Livraison Rapide",desc:"Livraison express sur Groslay et ses environs"},retrait:{title:"Retrait en Magasin",desc:"Commandez en ligne et retirez sur place"},conseils:{title:"Conseils Techniques",desc:"quipe qualifie pour vous guider dans vos choix"},devis:{title:"Devis Professionnels",desc:"Devis gratuit sous 24h"}},contact:{title:"O NOUS TROUVER",subtitle:"Venez dcouvrir nos produits et bnficier de conseils personnaliss dans nos tablissements.",localisation:"Notre localisation",address:"1 Rue Magnier Bdu, 95410 Groslay",openMaps:"Ouvrir dans Google Maps",hours:"Horaires d'ouverture",mondayFriday:"Lundi - Samedi",saturday:"Samedi",sunday:"Dimanche",closed:"Ferm",contacts:"Contacts",email:"YANS.DECO95@GMAIL.COM",addressTitle:"Adresse",seeMap:"Voir sur la carte ",contactForm:"Nous contacter",name:"Nom",emailLabel:"Email",message:"Message",send:"Envoyer",sending:"Envoi...",success:"Message envoy avec succs !",viewProduct:"Voir le produit",addToCart:"Ajouter au panier",features:"Caractristiques",notFound:"Produit non trouv.",stock:"en stock"},cart:{title:"Panier",empty:"Votre panier est vide",addItems:"Ajoutez des produits pour continuer",total:"Total",checkout:"Commander",remove:"Supprimer",quantity:"Quantit",unitPrice:"Prix unitaire",subtotal:"Sous-total",added:"Ajout !"},auth:{login:"Connexion",register:"Inscription",welcomeBack:"Ravis de vous revoir",createAccount:"Crez votre compte",name:"Nom complet",phone:"Tlphone",email:"Email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",noAccount:"Pas encore de compte ?",haveAccount:"Vous avez dj un compte ?",or:"ou",google:"Continuer avec Google",forgotPassword:"Mot de passe oubli ?",invalidEmail:"Email invalide",passwordTooShort:"Le mot de passe doit contenir au moins 6 caractres",passwordsNotMatch:"Les mots de passe ne correspondent pas",emailAlreadyExists:"Cet email est dj utilis",invalidCredentials:"Email ou mot de passe incorrect",accountCreated:"Compte cr avec succs !",logout:"Dconnexion",myOrders:"Mes commandes",profile:"Mon profil",profileUpdated:"Profil mis  jour avec succs !",loginRequired:"Veuillez vous connecter pour accder  votre profil",passwordUpdated:"Mot de passe mis  jour avec succs !"},profile:{title:"Mon Profil",addresses:"Mes adresses",addAddress:"Ajouter une adresse",noAddresses:"Aucune adresse enregistre",noOrders:"Aucune commande pour le moment",changePassword:"Changer le mot de passe",memberSince:"Membre depuis",edit:"Modifier",save:"Enregistrer",cancel:"Annuler",type:"Type",shipping:"Livraison",billing:"Facturation",label:"Libell",home:"Maison",address:"Adresse",city:"Ville",postalCode:"Code postal",country:"Pays",defaultAddress:"Dfinir comme adresse par dfaut",default:"Par dfaut",currentPassword:"Mot de passe actuel",newPassword:"Nouveau mot de passe",confirmNewPassword:"Confirmer le nouveau mot de passe",completed:"Termine"},admin:{backToSite:" RETOURNER AU SITE",backToDashboard:" RETOUR",logout:"Dconnexion",sync:"SYNC",title:"Panneau d'Administration",subtitle:"Gestion du site",sections:{products:{title:"PRODUITS",description:"Ajouter, supprimer ou modifier les prix des produits"},categories:{title:"CATGORIES",description:"Gestion des catgories et sous-catgories"},brands:{title:"MARQUES",description:"Ajout et modification des marques"},clients:{title:"CLIENTS",description:"Gestion de la base de donnes clients"},translations:{title:"TRADUCTIONS",description:"dition des textes et traductions de l'interface"},services:{title:"SERVICES",description:"Gestion des services et prestations"},calculators:{title:"CALCULATEURS",description:"Paramtres des formules et calculs",addNew:"Nouveau Calculateur"},slogans:{title:"SLOGANS",description:"Gestion des slogans et bannires du site",slideTitle:"PREMIER SLIDE - TEXTE PRINCIPAL",slideSubtitle:"Modifiez les 3 lignes du premier slide",savedToMain:"Modifications sauvegardes !",slide1:"Slide 1",slide2:"Slide 2",slide3:"Slide 3",pageDesc:"dition des 3 diapositives de la page d'accueil : badge, titre et description"},settings:{title:"PARAMTRES",description:"Paramtres gnraux et Cloud",general:"Paramtres Gnraux",siteConfig:"Configuration du site",uploadMedia:"Upload Media",mediaManagement:"Gestion des images et fichiers",backup:"Backup & Restore",backupDesc:"Sauvegarde des donnes",notifications:"Notifications",notificationsDesc:"WhatsApp, Email et Telegram - Notifications de commandes",integrations:"Intgrations",integrationsDesc:"Connexion des services externes et API",database:"Base de donnes",databaseDesc:"Gestion des donnes et migrations",security:"Scurit",securityDesc:"Paramtres de scurit et d'accs",orderNotifications:"Notifications de commandes",whatsapp:"WhatsApp (Green-API)",whatsappDesc:"Notifications via WhatsApp Business API Green-API",phone:"Numro de tlphone",idInstance:"ID Instance",apiTokenInstance:"Token API Instance",telegram:"Telegram",telegramDesc:"Notifications via Telegram Bot",botToken:"Token du bot",chatId:"ID du chat",email:"Email",emailDesc:"Notifications par email",smtpHost:"Hte SMTP",smtpPort:"Port SMTP",smtpPassword:"Mot de passe SMTP",saveSettings:"Enregistrer les paramtres",connected:"Connect",comingSoon:"Bientt disponible",test:"TEST",testSuccess:"Test russi! Configuration valide.",testError:"Erreur de test. Vrifiez les paramtres.",systemCheck:"Vrification du systme",systemCheckDesc:"tat complet de la base de donnes et du stockage",sendSystemReport:"Envoyer le rapport",systemReportSent:"Rapport envoy avec succs!",tables:"Tables",records:"Enregistrements",dbSize:"Taille de la BDD",exportData:"Exporter les donnes",importData:"Importer les donnes",clearCache:"Vider le cache",resetData:"Rinitialiser les donnes",twoFactor:"Authentification  deux facteurs",sessionTimeout:"Dlai d'expiration de la session",activityLog:"Journal d'activit",hour:"heure",hours:"heures",days:"jours"},preview:"APERU",previewSubtitle:"Voyez les changements en temps rel",saveAndUpdate:"SAUVEGARDER & METTRE  JOUR",previewNote:"Les changements sont appliqus immdiatement aprs la sauvegarde",content:{title:"Gestion du Contenu",backToDashboard:" Retour au tableau de bord",loading:"Chargement...",slidesHero:"Slides Hero",materialsCalculator:"Matriaux Calculateur",siteConfig:"Configuration du Site",slogans:"Slogans",addSlide:"Ajouter un Slide",editSlide:"Modifier le Slide",newSlide:"Nouveau Slide",addMaterial:"Ajouter un Matriau",editMaterial:"Modifier le Matriau",newMaterial:"Nouveau Matriau",addSlogan:"Ajouter un Slogan",editSlogan:"Modifier le Slogan",newSlogan:"Nouveau Slogan",badge:"Badge",labelTitle:"Titre",subtitle:"Sous-titre",content:"Contenu",image:"Image",order:"Ordre",active:"Actif",actions:"Actions",save:"Enregistrer",cancel:"Annuler",yes:"Oui",no:"Non",languageFr:"Franais",languageEn:"Anglais",languageRu:"Russe",confirmDeleteSlide:"tes-vous sr de vouloir supprimer ce slide ?",confirmDeleteMaterial:"tes-vous sr de vouloir supprimer ce matriau ?",confirmDeleteSlogan:"tes-vous sr de vouloir supprimer ce slogan ?",configSaved:"Configuration enregistre avec succs !",saveConfig:"Enregistrer la configuration"}},quickActions:{title:"Actions Rapides",newProduct:"Nouveau Produit",importCsv:"Importer CSV",exportData:"Exporter Donnes",syncCloud:"Sync Cloud"},recentActivity:{title:"Activit Rcente",items:{productModified:"Produit modifi",categoryAdded:"Nouvelle catgorie ajoute",syncComplete:"Sync Cloud termin",translationUpdated:"Traduction mise  jour"}},footer:{rights:"Tous droits rservs.",version:"Version",copyright:" 2026 created by Andrey Barsukov"},products:{title:"Gestion des Produits",addNew:"Ajouter un Produit",edit:"Modifier",delete:"Supprimer",view:"Voir",price:"Prix",stock:"Stock",active:"Actif",inactive:"Inactif",search:"Rechercher un produit...",noProducts:"Aucun produit trouv",confirmDelete:"tes-vous sr de vouloir supprimer ce produit ?",save:"Enregistrer",cancel:"Annuler",name:"Nom du produit",description:"Description",category:"Catgorie",brand:"Marque",sku:"Rf. produit",quantity:"Quantit",images:"Images",specifications:"Caractristiques",actions:"Actions"},categories:{title:"Gestion des Catgories",addNew:"Ajouter une Catgorie",edit:"Modifier",delete:"Supprimer",view:"Voir les produits",parent:"Catgorie parente",order:"Ordre d'affichage",icon:"Icne",noCategories:"Aucune catgorie trouve"},brands:{title:"Gestion des Marques",addNew:"Ajouter une Marque",edit:"Modifier",delete:"Supprimer",logo:"Logo",website:"Site web",noBrands:"Aucune marque trouve"},services:{title:"Gestion des Services",manageServices:"Grer les services affichs sur le site",addNew:"Ajouter un Service",addService:"AJOUTER UN SERVICE",edit:"Modifier",delete:"Supprimer",noServices:"Aucun service trouv",noDescription:"Aucune description",subtitle:"Sous-titre",description:"Description",active:"Actif",hide:"Masquer",show:"Afficher",deleteConfirm:"tes-vous sr de vouloir supprimer ce service ?",updated:"Service mis  jour avec succs",created:"Service cr avec succs",deleted:"Service supprim avec succs"},translations:{title:"Gestion des Traductions",addNew:"Ajouter une Traduction",edit:"Modifier",sourceLanguage:"Langue source",targetLanguage:"Langue cible",key:"Cl de traduction",value:"Valeur",syncAll:"Synchroniser toutes les traductions",noTranslations:"Aucune traduction trouve",searchPlaceholder:"Rechercher une cl ou une valeur...",deleteConfirm:"tes-vous sr de vouloir supprimer cette traduction ?",active:"Actif",namespace:"Espace de noms",russian:"Russe",translate:"Traduire",fillSourceField:"Remplissez d'abord le champ source (titre, sous-titre ou description)",success:"Traduction russie"},save:"Enregistrer",cancel:"Annuler",cloud:{title:"Paramtres Cloud",status:"Statut de la connexion",connected:"Connect",disconnected:"Dconnect",lastSync:"Dernire synchronisation",syncNow:"Synchroniser maintenant",upload:"Tlcharger vers le cloud",download:"Rcuprer du cloud",autoSync:"Synchronisation automatique",settings:"Paramtres Cloud"},theme:{light:"Mode clair",dark:"Mode sombre"}},checkout:{title:"Finaliser ma commande",yourOrder:"Votre commande",information:"Coordonnes",delivery:"Livraison",summary:"Rcapitulatif",firstName:"Prnom",lastName:"Nom",address:"Adresse",apartment:"Appartement, suite, etc.",apartmentOptional:"Appartement, suite, etc. (optionnel)",city:"Ville",postalCode:"Code postal",country:"Pays",notes:"Notes",notesPlaceholder:"Instructions de livraison spciales...",deliveryMethod:"Mode de livraison",homeDelivery:"Livraison  domicile",deliveryInfo:"Livraison sous 2-5 jours ouvrs",storePickup:"Retrait en magasin",free:"GRATUIT",continueDelivery:"Continuer vers la livraison",toSummary:"Vers le rcapitulatif",back:"Retour",edit:"Modifier",confirmOrder:"Confirmer la commande",orderSummary:"Rcapitulatif de la commande",fillAllFields:"Veuillez remplir tous les champs obligatoires",orderFailed:"Une erreur est survenue. Veuillez ressayer.",orderConfirmed:"Commande confirme !",orderNumber:"Numro de commande",confirmationEmail:"Vous recevrez un email de confirmation sous peu.",continueShopping:"Continuer vos achats",useSavedAddress:"Utiliser une adresse enregistre",enterManually:"Saisir manuellement",loginPrompt:"Connectez-vous pour suivre vos commandes et bnficier d'avantages."},stock:{warehouseTerminal:"Terminal de Stock",warehouseSubtitle:"Gestion des mouvements de stock par scan de codes-barres",reception:"Rception",cashSale:"Vente Comptoir",quantity:"Quantit",currentStock:"Stock actuel",willBe:"Sera",price:"Prix",addStock:"Ajouter au stock",sellCash:"Vente au comptoir",scanTitle:"Scanner le code-barres",scanSubtitle:"Pointer la camra sur le code-barres du produit",positionCode:"Positionnez le code dans le cadre",scanHint:"Utilisez la lampe de poche si ncessaire pour un meilleur clairage",scan_success:"Produit identifi avec succs",scanAgain:"Scanner  nouveau",scanProduct:"Scanner un produit",productNotFound:"Produit non trouv avec ce code-barres",scanError:"Erreur lors du scan",retry:"Ressayer",receptionSuccess:"Stock ajout avec succs",cashSaleSuccess:"Vente comptoir enregistre",operationError:"Erreur lors de l'opration",adminRequired:"Accs administrateur requis pour les ventes au comptoir",help:"Aide",helpScan:"Scannez le code-barres du produit pour le slectionner",helpReception:"En mode Rception, entrez la quantit reue et validez",helpCash:"Pour les ventes au comptoir, scannez et validez la vente",recentOperations:"Oprations rcentes",newStock:"Nouveau stock",pcs:"pcs",product:"Produit"}},v_={header:{phone1:"+33 1 23 45 67 89",phone2:"+33 6 12 34 56 78",connexion:"Login",menu:"MENU"},nav:{home:"Home",catalogue:"Catalogue",brands:"Brands",services:"Services",calculators:"Calculators",contact:"Contact"},home:{popular:" Popular",comingSoon:"Products coming soon",cta:{calculate:"Calculate my needs",quote:"Request a quote"}},footer:{tagline:"The partner for your construction projects",quickLinks:"Quick Links",copyright:" 2026 YAN'S DECO",location:"Groslay  Montmorency  le-de-France"},catalogue:{title:"Our Departments",subtitle:"From construction to renovation, a full range of materials, tools and accessories for professionals and individuals.",back:" BACK",products:"SEE ALL PRODUCTS",products_count:"products"},brands:{title:"Our partners",subtitle:"We work with the biggest brands in the industry to guarantee you quality and reliability.",viewAll:"See all products",back:" Back to partners",productsTitle:"Products of this brand",noProducts:"No products available at the moment"},services:{title:"OUR SERVICES",subtitle:"Complete services to support all your construction and renovation projects.",livraison:{title:"Fast Delivery",desc:"Express delivery on Groslay and surroundings"},retrait:{title:"In-Store Pickup",desc:"Order online and pickup on site"},conseils:{title:"Technical Advice",desc:"Qualified team to guide you in your choices"},devis:{title:"Professional Quotes",desc:"Free quote within 24h"}},contact:{title:"WHERE TO FIND US",subtitle:"Come discover our products and get personalized advice in our stores.",localisation:"Our location",address:"1 Rue Magnier Bdu, 95410 Groslay",openMaps:"Open in Google Maps",hours:"Opening hours",mondayFriday:"Monday - Saturday",saturday:"Saturday",sunday:"Sunday",closed:"Closed",contacts:"Contacts",email:"YANS.DECO95@GMAIL.COM",addressTitle:"Address",seeMap:"See on map ",contactForm:"Contact us",name:"Name",emailLabel:"Email",message:"Message",send:"Send",sending:"Sending...",success:"Message sent successfully!",viewProduct:"View product",addToCart:"Add to cart",features:"Features",notFound:"Product not found.",stock:"in stock"},cart:{title:"Cart",empty:"Your cart is empty",addItems:"Add products to continue",total:"Total",checkout:"Checkout",remove:"Remove",quantity:"Quantity",unitPrice:"Unit price",subtotal:"Subtotal",added:"Added!"},auth:{login:"Sign In",register:"Sign Up",welcomeBack:"Welcome back!",createAccount:"Create your account",name:"Full Name",phone:"Phone",email:"Email",password:"Password",confirmPassword:"Confirm Password",noAccount:"Don't have an account?",haveAccount:"Already have an account?",or:"or",google:"Continue with Google",forgotPassword:"Forgot password?",invalidEmail:"Invalid email",passwordTooShort:"Password must be at least 6 characters",passwordsNotMatch:"Passwords do not match",emailAlreadyExists:"Email already registered",invalidCredentials:"Invalid email or password",accountCreated:"Account created successfully!",logout:"Logout",myOrders:"My Orders",profile:"My Profile",profileUpdated:"Profile updated successfully!",loginRequired:"Please sign in to access your profile",passwordUpdated:"Password updated successfully!"},profile:{title:"My Profile",addresses:"My Addresses",addAddress:"Add Address",noAddresses:"No addresses saved",noOrders:"No orders yet",changePassword:"Change Password",memberSince:"Member since",edit:"Edit",save:"Save",cancel:"Cancel",type:"Type",shipping:"Shipping",billing:"Billing",label:"Label",home:"Home",address:"Address",city:"City",postalCode:"Postal Code",country:"Country",defaultAddress:"Set as default address",default:"Default",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",completed:"Completed"},admin:{backToSite:" RETURN TO SITE",backToDashboard:" BACK",logout:"Logout",sync:"SYNC",title:"Admin Panel",subtitle:"Site Management",sections:{products:{title:"PRODUCTS",description:"Add, delete or modify product prices"},categories:{title:"CATEGORIES",description:"Category and subcategory management"},brands:{title:"BRANDS",description:"Add and modify brands"},clients:{title:"CLIENTS",description:"Customer database management"},translations:{title:"TRANSLATIONS",description:"Edit interface texts and translations"},services:{title:"SERVICES",description:"Manage services displayed on the site"},calculators:{title:"CALCULATORS",description:"Formula and calculation settings",addNew:"New Calculator"},slogans:{title:"SLOGANS",description:"Management of site slogans and banners",slideTitle:"FIRST SLIDE - MAIN TEXT",slideSubtitle:"Edit the 3 lines of the first slide",savedToMain:"Changes saved!",slide1:"Slide 1",slide2:"Slide 2",slide3:"Slide 3",pageDesc:"Editing 3 slides of the homepage: badge, title and description"},settings:{title:"SETTINGS",description:"General settings and Cloud",general:"General Settings",siteConfig:"Site Configuration",uploadMedia:"Upload Media",mediaManagement:"Image and file management",backup:"Backup & Restore",backupDesc:"Data backup",notifications:"Notifications",notificationsDesc:"WhatsApp, Email and Telegram - Order notifications",integrations:"Integrations",integrationsDesc:"External services and API connections",database:"Database",databaseDesc:"Data management and migrations",security:"Security",securityDesc:"Security and access settings",orderNotifications:"Order notifications",whatsapp:"WhatsApp (Green-API)",whatsappDesc:"Notifications via WhatsApp Business API Green-API",phone:"Phone number",idInstance:"ID Instance",apiTokenInstance:"API Token Instance",telegram:"Telegram",telegramDesc:"Notifications via Telegram Bot",botToken:"Bot Token",chatId:"Chat ID",email:"Email",emailDesc:"Email notifications",smtpHost:"SMTP Host",smtpPort:"SMTP Port",smtpPassword:"SMTP Password",saveSettings:"Save settings",connected:"Connected",comingSoon:"Coming soon",test:"TEST",testSuccess:"Test successful! Configuration is valid.",testError:"Test error. Check your parameters.",systemCheck:"System Check",systemCheckDesc:"Complete database and storage status",sendSystemReport:"Send Report",systemReportSent:"Report sent successfully!",tables:"Tables",records:"Records",dbSize:"DB Size",exportData:"Export data",importData:"Import data",clearCache:"Clear cache",resetData:"Reset data",twoFactor:"Two-factor authentication",sessionTimeout:"Session timeout",activityLog:"Activity log",hour:"hour",hours:"hours",days:"days"},preview:"PREVIEW",previewSubtitle:"See changes in real time",saveAndUpdate:"SAVE & UPDATE",previewNote:"Changes are applied immediately after saving",content:{title:"Content Management",backToDashboard:" Back to dashboard",loading:"Loading...",slidesHero:"Hero Slides",materialsCalculator:"Calculator Materials",siteConfig:"Site Configuration",slogans:"Slogans",addSlide:"Add Slide",editSlide:"Edit Slide",newSlide:"New Slide",addMaterial:"Add Material",editMaterial:"Edit Material",newMaterial:"New Material",addSlogan:"Add Slogan",editSlogan:"Edit Slogan",newSlogan:"New Slogan",badge:"Badge",labelTitle:"Title",subtitle:"Subtitle",content:"Content",image:"Image",order:"Order",active:"Active",actions:"Actions",save:"Save",cancel:"Cancel",yes:"Yes",no:"No",languageFr:"French",languageEn:"English",languageRu:"Russian",confirmDeleteSlide:"Are you sure you want to delete this slide?",confirmDeleteMaterial:"Are you sure you want to delete this material?",confirmDeleteSlogan:"Are you sure you want to delete this slogan?",configSaved:"Configuration saved successfully!",saveConfig:"Save configuration"}},quickActions:{title:"Quick Actions",newProduct:"New Product",importCsv:"Import CSV",exportData:"Export Data",syncCloud:"Sync Cloud"},recentActivity:{title:"Recent Activity",items:{productModified:"Product modified",categoryAdded:"New category added",syncComplete:"Sync Cloud completed",translationUpdated:"Translation updated"}},footer:{rights:"All rights reserved.",version:"Version",copyright:" 2026 created by Andrey Barsukov"},products:{title:"Product Management",addNew:"Add Product",edit:"Edit",delete:"Delete",view:"View",price:"Price",stock:"Stock",active:"Active",inactive:"Inactive",search:"Search product...",noProducts:"No product found",confirmDelete:"Are you sure you want to delete this product?",save:"Save",cancel:"Cancel",name:"Product name",description:"Description",category:"Category",brand:"Brand",sku:"Product ref.",quantity:"Quantity",images:"Images",specifications:"Specifications",actions:"Actions"},categories:{title:"Category Management",addNew:"Add Category",edit:"Edit",delete:"Delete",view:"View products",parent:"Parent category",order:"Display order",icon:"Icon",noCategories:"No category found"},brands:{title:"Brand Management",addNew:"Add Brand",edit:"Edit",delete:"Delete",logo:"Logo",website:"Website",noBrands:"No brand found"},translations:{title:"Translation Management",addNew:"Add Translation",edit:"Edit",sourceLanguage:"Source language",targetLanguage:"Target language",key:"Translation key",value:"Value",syncAll:"Sync all translations",noTranslations:"No translation found",searchPlaceholder:"Search by key or value...",deleteConfirm:"Are you sure you want to delete this translation?",active:"Active",namespace:"Namespace",russian:"Russian",translate:"Translate",fillSourceField:"Please fill in the source field first (title, subtitle or description)",success:"Translation successful"},services:{title:"Service Management",manageServices:"Manage services displayed on the site",addNew:"Add Service",addService:"ADD SERVICE",edit:"Edit",delete:"Delete",noServices:"No service found",noDescription:"No description",subtitle:"Subtitle",description:"Description",active:"Active",hide:"Hide",show:"Show",deleteConfirm:"Are you sure you want to delete this service?",updated:"Service updated successfully",created:"Service created successfully",deleted:"Service deleted successfully"},save:"Save",cancel:"Cancel",cloud:{title:"Cloud Settings",status:"Connection status",connected:"Connected",disconnected:"Disconnected",lastSync:"Last synchronization",syncNow:"Sync now",upload:"Upload to cloud",download:"Download from cloud",autoSync:"Automatic synchronization",settings:"Cloud settings"},theme:{light:"Light mode",dark:"Dark mode"}},checkout:{title:"Checkout",yourOrder:"Your Order",information:"Information",delivery:"Delivery",summary:"Summary",firstName:"First Name",lastName:"Last Name",address:"Address",apartment:"Apartment, suite, etc.",apartmentOptional:"Apartment, suite, etc. (optional)",city:"City",postalCode:"Postal Code",country:"Country",notes:"Notes",notesPlaceholder:"Special delivery instructions...",deliveryMethod:"Delivery Method",homeDelivery:"Home Delivery",deliveryInfo:"Delivery within 2-5 business days",storePickup:"Store Pickup",free:"FREE",continueDelivery:"Continue to Delivery",toSummary:"To Summary",back:"Back",edit:"Edit",confirmOrder:"Confirm Order",orderSummary:"Order Summary",fillAllFields:"Please fill in all required fields",orderFailed:"An error occurred. Please try again.",orderConfirmed:"Order Confirmed!",orderNumber:"Order Number",confirmationEmail:"You will receive a confirmation email shortly.",continueShopping:"Continue Shopping",useSavedAddress:"Use saved address",enterManually:"Enter manually",loginPrompt:"Sign in to track your orders and enjoy benefits."},stock:{warehouseTerminal:"Warehouse Terminal",warehouseSubtitle:"Stock movements management via barcode scanning",reception:"Reception",cashSale:"Cash Sale",quantity:"Quantity",currentStock:"Current stock",willBe:"Will be",price:"Price",addStock:"Add to stock",sellCash:"Cash sale",scanTitle:"Scan barcode",scanSubtitle:"Point camera at product barcode",positionCode:"Position code in frame",scanHint:"Use flashlight if needed for better lighting",scan_success:"Product identified successfully",scanAgain:"Scan again",scanProduct:"Scan product",productNotFound:"Product not found with this barcode",scanError:"Error during scan",retry:"Retry",receptionSuccess:"Stock added successfully",cashSaleSuccess:"Cash sale recorded",operationError:"Error during operation",adminRequired:"Admin access required for cash sales",help:"Help",helpScan:"Scan the product barcode to select it",helpReception:"In Reception mode, enter quantity received and confirm",helpCash:"For cash sales, scan and confirm the sale",recentOperations:"Recent operations",newStock:"New stock",pcs:"pcs",product:"Product"}},N_={header:{phone1:"+33 1 23 45 67 89",phone2:"+33 6 12 34 56 78",connexion:"",menu:""},nav:{home:"",catalogue:"",brands:"",services:"",calculators:"",contact:""},home:{popular:" ",comingSoon:"  ",cta:{calculate:" ",quote:" "}},footer:{tagline:"   ",quickLinks:" ",copyright:" 2026 YAN'S DECO",location:"    --"},catalogue:{title:" ",subtitle:"    -   ,   .",back:" ",products:"  ",products_count:""},brands:{title:" ",subtitle:"     ,      .",viewAll:"  ",back:"   ",productsTitle:"  ",noProducts:"  "},services:{title:" ",subtitle:"          .",livraison:{title:" ",desc:"-    "},retrait:{title:"",desc:"     "},conseils:{title:" ",desc:"     "},devis:{title:" ",desc:"    24"}},contact:{title:"  ",subtitle:"             .",localisation:" ",address:"1 Rue Magnier Bdu, 95410 Groslay",openMaps:"  Google Maps",hours:" ",mondayFriday:" - ",saturday:"",sunday:"",closed:"",contacts:"",email:"YANS.DECO95@GMAIL.COM",addressTitle:"",seeMap:"   ",contactForm:"  ",name:"",emailLabel:"Email",message:"",send:"",sending:"...",success:"  !",viewProduct:" ",addToCart:" ",features:"",notFound:"  .",stock:" "},cart:{title:"",empty:"  ",addItems:"   ",total:"",checkout:" ",remove:"",quantity:"",unitPrice:"  ",subtotal:"",added:"!"},auth:{login:"",register:"",welcomeBack:"   ",createAccount:"  ",name:" ",phone:"",email:"Email",password:"",confirmPassword:" ",noAccount:"  ?",haveAccount:"  ?",:"",google:"  Google",forgotPassword:" ?",invalidEmail:" email",passwordTooShort:"    6 ",passwordsNotMatch:"  ",emailAlreadyExists:" email  ",invalidCredentials:" email  ",accountCreated:"  !",logout:"",myOrders:" ",profile:" ",profileUpdated:"  !",loginRequired:",     ",passwordUpdated:"  !"},profile:{title:" ",addresses:" ",addAddress:" ",noAddresses:"  ",noOrders:"  ",changePassword:" ",memberSince:" ",edit:"",save:"",cancel:"",type:"",shipping:"",billing:"",label:"",home:"",address:"",city:"",postalCode:" ",country:"",defaultAddress:"   ",default:" ",currentPassword:" ",newPassword:" ",confirmNewPassword:"  ",completed:""},admin:{backToSite:"   ",backToDashboard:" ",logout:"",sync:"",title:" ",subtitle:" ",sections:{products:{title:"",description:",     "},categories:{title:"",description:"   "},brands:{title:"",description:"   "},clients:{title:"",description:"  "},translations:{title:"",description:"    "},services:{title:"",description:"   "},calculators:{title:"",description:"   ",addNew:" "},slogans:{title:"",description:"    ",slideTitle:"  -  ",slideSubtitle:" 3   ",savedToMain:" !",slide1:" 1",slide2:" 2",slide3:" 3"},settings:{title:"",description:"   ",general:" ",siteConfig:" ",uploadMedia:" ",mediaManagement:"   ",backup:" ",backupDesc:" ",notifications:"",notificationsDesc:"WhatsApp, Email  Telegram -   ",integrations:"",integrationsDesc:"    API",database:" ",databaseDesc:"   ",security:"",securityDesc:"   ",orderNotifications:"  ",whatsapp:"WhatsApp (Green-API)",whatsappDesc:"  WhatsApp Business API Green-API",phone:" ",idInstance:"ID Instance",apiTokenInstance:"API Token Instance",telegram:"Telegram",telegramDesc:"  Telegram Bot",botToken:"Bot Token",chatId:"Chat ID",email:"Email",emailDesc:"  ",smtpHost:"SMTP Host",smtpPort:"SMTP Port",smtpPassword:"SMTP ",saveSettings:" ",connected:"",comingSoon:"",test:"",testSuccess:" !  .",testError:" .  .",systemCheck:" ",systemCheckDesc:"     ",sendSystemReport:" ",systemReportSent:"  !",tables:"",records:"",dbSize:" ",exportData:" ",importData:" ",clearCache:" ",resetData:" ",twoFactor:" ",sessionTimeout:" ",activityLog:" ",hour:"",hours:"",days:""},preview:"",previewSubtitle:"    ",saveAndUpdate:"  ",previewNote:"    ",content:{title:" ",backToDashboard:"   ",loading:"...",slidesHero:" Hero",materialsCalculator:" ",siteConfig:" ",slogans:"",slideTitle:"  -  ",slideSubtitle:" 3   ",savedToMain:" !",addSlide:" ",editSlide:" ",newSlide:" ",addMaterial:" ",editMaterial:" ",newMaterial:" ",addSlogan:" ",editSlogan:" ",newSlogan:" ",badge:"",labelTitle:"",subtitle:"",content:"",image:"",order:"",active:"",actions:"",save:"",cancel:"",yes:"",no:"",languageFr:"",languageEn:"",languageRu:"",confirmDeleteSlide:" ,     ?",confirmDeleteMaterial:" ,     ?",confirmDeleteSlogan:" ,     ?",configSaved:"  !",saveConfig:" "}},quickActions:{title:" ",newProduct:" ",importCsv:" CSV",exportData:" ",syncCloud:""},recentActivity:{title:" ",items:{productModified:" ",categoryAdded:" ",syncComplete:" ",translationUpdated:" "}},footer:{rights:"  .",version:"",copyright:" 2026 created by Andrey Barsukov"},products:{title:" ",addNew:" ",edit:"",delete:"",view:"",price:"",stock:"",active:"",inactive:"",search:" ...",noProducts:"  ",confirmDelete:"      ?",save:"",cancel:"",name:" ",description:"",category:"",brand:"",sku:"",quantity:"",images:"",specifications:"",actions:""},categories:{title:" ",addNew:" ",edit:"",delete:"",view:" ",parent:" ",order:" ",icon:"",noCategories:"  "},brands:{title:" ",addNew:" ",edit:"",delete:"",logo:"",website:"",noBrands:"  "},translations:{title:" ",addNew:" ",edit:"",sourceLanguage:" ",targetLanguage:" ",key:" ",value:"",syncAll:"  ",noTranslations:"  ",searchPlaceholder:"    ...",deleteConfirm:" ,     ?",active:"",namespace:" ",russian:"",translate:"",fillSourceField:"    (,   )",success:" "},services:{title:" ",manageServices:" ,   ",addNew:" ",addService:" ",edit:"",delete:"",noServices:"  ",noDescription:" ",subtitle:"",description:"",active:"",hide:"",show:"",deleteConfirm:" ,     ?",updated:"  ",created:"  ",deleted:"  "},save:"",cancel:"",cloud:{title:" ",status:" ",connected:"",disconnected:"",lastSync:" ",syncNow:"",upload:"  ",download:"  ",autoSync:" ",settings:" "},theme:{light:" ",dark:" "}},checkout:{title:" ",yourOrder:" ",information:"",delivery:"",summary:"",firstName:"",lastName:"",address:"",apartment:",   ..",apartmentOptional:",   .. ()",city:"",postalCode:" ",country:"",notes:"",notesPlaceholder:"   ...",deliveryMethod:" ",homeDelivery:"  ",deliveryInfo:"   2-5  ",storePickup:"  ",free:"",continueDelivery:" ",toSummary:" ",back:"",edit:"",confirmOrder:" ",orderSummary:" ",fillAllFields:",    ",orderFailed:" .   .",orderConfirmed:" !",orderNumber:" ",confirmationEmail:"    .",continueShopping:" ",useSavedAddress:"  ",enterManually:" ",loginPrompt:",      ."},stock:{warehouseTerminal:" ",warehouseSubtitle:"     ",reception:"",cashSale:"  ",quantity:"",currentStock:" ",willBe:"",price:"",addStock:"  ",sellCash:"  ",scanTitle:" ",scanSubtitle:"    ",positionCode:"   ",scanHint:"      ",scan_success:"  ",scanAgain:" ",scanProduct:" ",productNotFound:"     ",scanError:"  ",retry:"",receptionSuccess:"    ",cashSaleSuccess:"   ",operationError:"   ",adminRequired:"   ",help:"",helpScan:"     ",helpReception:"      ",helpCash:"    -   ",recentOperations:" ",newStock:" ",pcs:"",product:""}};js.use(Cv).use(r6).init({resources:{fr:{translation:w_},en:{translation:v_},ru:{translation:N_}},supportedLngs:["fr","en","ru"],fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});const C_=({theme:s})=>{const{t:i}=Ot(),l=Sn(),u=s==="light",{items:f,isCartOpen:p,setIsCartOpen:g,updateQuantity:v,removeItem:S,totalItems:w,totalPrice:A}=bd(),j=u?"text-zinc-900":"text-white",T=u?"text-zinc-600":"text-gray-400",R=u?"bg-white":"bg-zinc-900",B=u?"border-zinc-200":"border-zinc-700",D=$=>$.name;return t.jsx(rs,{children:p&&t.jsxs(t.Fragment,{children:[t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60]",onClick:()=>g(!1)}),t.jsxs(qe.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:`fixed right-0 top-0 bottom-0 w-full max-w-[100%] sm:max-w-md z-[70] ${R} shadow-2xl flex flex-col`,children:[t.jsxs("div",{className:`p-4 border-b ${B} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Xo,{className:`w-5 h-5 ${j}`}),t.jsx("h2",{className:`font-bold italic text-lg sm:text-xl uppercase tracking-wide ${j}`,children:i("cart.title")}),t.jsxs("span",{className:`text-sm ${T}`,children:["(",w,")"]})]}),t.jsx("button",{onClick:()=>g(!1),className:`p-2 rounded-lg transition-colors ${u?"hover:bg-gray-100":"hover:bg-white/10"}`,children:t.jsx(qn,{className:`w-5 h-5 ${j}`})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:f.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[t.jsx(Xo,{className:`w-16 h-16 ${T} opacity-30 mb-4`}),t.jsx("p",{className:`text-lg ${T}`,children:i("cart.empty")}),t.jsx("p",{className:`text-sm ${T} mt-2 mb-6`,children:i("cart.addItems")}),t.jsx("button",{onClick:()=>{g(!1),l("/catalogue")},className:"bg-[#FF6B00] text-black px-8 py-3 rounded-xl font-bold uppercase tracking-wide hover:bg-[#FF8533] transition-colors",children:i("catalogue.products")})]}):t.jsx("div",{className:"space-y-4",children:f.map($=>t.jsxs(qe.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:`p-3 sm:p-4 rounded-xl border ${B}`,children:[t.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[t.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0 ${u?"bg-gray-100":"bg-white/5"}`,children:$.image_url?t.jsx("img",{src:$.image_url,alt:D($),className:"w-full h-full object-contain"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Xo,{className:`w-6 h-6 sm:w-8 sm:h-8 ${T} opacity-30`})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:`font-bold italic text-[11px] sm:text-sm uppercase tracking-wide truncate ${j}`,children:D($)}),t.jsxs("p",{className:`text-[9px] sm:text-xs ${T} mt-0.5`,children:["Rf: ",$.sku]}),t.jsxs("p",{className:"text-base sm:text-lg font-bold text-[#FF6B00] mt-1",children:[$.price.toFixed(2)," "]})]})]}),t.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-dashed border-gray-300 dark:border-gray-700",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>v($.id,$.quantity-1),className:`p-1.5 sm:p-2.5 rounded-lg transition-colors ${u?"bg-gray-100 hover:bg-gray-200":"bg-white/10 hover:bg-white/20"}`,children:t.jsx(ov,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${j}`})}),t.jsx("span",{className:`w-6 sm:w-8 text-center font-bold text-xs sm:text-sm ${j}`,children:$.quantity}),t.jsx("button",{onClick:()=>v($.id,$.quantity+1),className:`p-1.5 sm:p-2.5 rounded-lg transition-colors ${u?"bg-gray-100 hover:bg-gray-200":"bg-white/10 hover:bg-white/20"}`,children:t.jsx(ks,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 ${j}`})})]}),t.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[t.jsxs("span",{className:`font-bold text-sm sm:text-base ${j}`,children:[($.price*$.quantity).toFixed(2)," "]}),t.jsx("button",{onClick:()=>S($.id),className:`p-1.5 sm:p-2 rounded-lg transition-colors ${u?"bg-red-50 text-red-500 hover:bg-red-100":"bg-red-500/20 text-red-400 hover:bg-red-500/30"}`,children:t.jsx(Ca,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})]})]},$.id))})}),f.length>0&&t.jsxs("div",{className:`p-4 border-t ${B} bg-inherit`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-dashed border-gray-300 dark:border-gray-700",children:[t.jsx("span",{className:`text-xs sm:text-sm uppercase tracking-wide ${T}`,children:i("cart.total")}),t.jsxs("span",{className:"text-xl sm:text-2xl font-black italic text-[#FF6B00]",children:[A.toFixed(2)," "]})]}),t.jsxs("button",{onClick:()=>{g(!1),l("/checkout")},className:"w-full bg-[#FF6B00] text-black py-4 text-sm font-bold uppercase tracking-wider rounded-xl hover:bg-[#FF8533] transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-[#FF6B00]/20",children:[t.jsx(Xo,{className:"w-5 h-5"}),i("cart.checkout")]})]})]})]})})},S_=()=>{const{t:s}=Ot(),i=Sn(),[l,u]=_.useState(""),[f,p]=_.useState([]),[g,v]=_.useState(!0),[S,w]=_.useState(()=>localStorage.getItem("site-theme")==="light");_.useEffect(()=>{const L=()=>{w(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",L),()=>window.removeEventListener("themechange",L)},[]),_.useEffect(()=>{A()},[]);const A=async()=>{v(!0);try{const W=await(await fetch("https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/clients")).json();W.success&&p(W.data.clients)}catch(L){console.error("Failed to fetch clients:",L)}finally{v(!1)}},j=f.filter(L=>L.name.toLowerCase().includes(l.toLowerCase())||L.email.toLowerCase().includes(l.toLowerCase())),T=S?"text-zinc-900":"text-zinc-100",R=S?"text-zinc-600":"text-zinc-400",B=S?"border-black":"border-[#FF6B00]/20",D=S?"bg-white":"bg-black/50",$=S?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",P=[{id:"products",label:s("admin.sections.products.title"),icon:t.jsx(Cn,{className:"w-4 h-4"}),path:"/admin/products"},{id:"categories",label:s("admin.sections.categories.title"),icon:t.jsx(Ys,{className:"w-4 h-4"}),path:"/admin/categories"},{id:"brands",label:s("admin.sections.brands.title"),icon:t.jsx(ni,{className:"w-4 h-4"}),path:"/admin/brands"},{id:"clients",label:"CLIENTS",icon:t.jsx(id,{className:"w-4 h-4"}),path:"/admin/clients"},{id:"translations",label:s("admin.sections.translations.title"),icon:t.jsx(Ws,{className:"w-4 h-4"}),path:"/admin/translations"},{id:"calculators",label:s("admin.sections.calculators.title"),icon:t.jsx($a,{className:"w-4 h-4"}),path:"/admin/calculators"},{id:"settings",label:s("admin.sections.settings.title"),icon:t.jsx(za,{className:"w-4 h-4"}),path:"/admin/settings"}],O=L=>L?new Date(L).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${$}`,children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${S?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),s("admin.backToSite")]}),t.jsx("div",{className:`h-4 w-px ${S?"bg-gray-300":"bg-white/10"}`}),t.jsx("nav",{className:"hidden md:flex items-center gap-1",children:P.map(L=>t.jsxs(Bn,{to:L.path,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all duration-200 ${location.pathname===L.path?"bg-[#FF6B00] text-black":S?"text-gray-600 hover:bg-gray-100 hover:text-[#FF6B00]":"text-zinc-400 hover:bg-white/5 hover:text-[#FF6B00]"}`,children:[L.icon,L.label]},L.id))})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${S?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})})]}),t.jsx("main",{className:"pt-24 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:`font-black italic text-3xl md:text-4xl uppercase tracking-tight ${T}`,children:"CLIENTS"}),t.jsx("p",{className:`text-sm ${R} mt-1`,children:"Gestion de la base de donnes clients"})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(wd,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 ${R}`}),t.jsx("input",{type:"text",value:l,onChange:L=>u(L.target.value),placeholder:"Rechercher un client...",className:`w-full pl-10 pr-4 py-3 border ${B} rounded-lg text-sm focus:outline-none focus:border-[#FF6B00] ${T} ${D}`})]}),t.jsxs("button",{onClick:A,className:`px-4 py-3 border ${B} rounded-lg text-sm font-bold uppercase tracking-wide transition-colors ${T} hover:border-[#FF6B00] flex items-center gap-2`,children:[t.jsx(Nt,{className:`w-4 h-4 ${g?"animate-spin":""}`}),"Actualiser"]})]})}),g?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})}):j.length===0?t.jsxs("div",{className:`text-center py-12 border ${B} rounded-xl ${R}`,children:[t.jsx(id,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),t.jsx("p",{children:"Aucun client trouv"})]}):t.jsx("div",{className:"grid gap-4",children:j.map((L,W)=>t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:W*.05},onClick:()=>i(`/admin/clients/${L.id}`),className:`p-6 border ${B} rounded-xl cursor-pointer transition-all duration-200 hover:border-[#FF6B00] hover:bg-[#FF6B00]/5`,children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${S?"bg-gray-100":"bg-white/10"}`,children:t.jsx(Cs,{className:`w-6 h-6 ${R}`})}),t.jsxs("div",{children:[t.jsx("h3",{className:`font-bold italic text-lg uppercase tracking-wide ${T}`,children:L.name}),t.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[t.jsxs("span",{className:`flex items-center gap-1 text-sm ${R}`,children:[t.jsx(Ul,{className:"w-4 h-4"}),L.email]}),L.phone&&t.jsxs("span",{className:`flex items-center gap-1 text-sm ${R}`,children:[t.jsx(Pl,{className:"w-4 h-4"}),L.phone]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:`text-2xl font-bold ${T}`,children:L.order_count}),t.jsxs("p",{className:`text-xs ${R}`,children:[t.jsx(Vl,{className:"w-3 h-3 inline mr-1"}),"Commandes"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-2xl font-bold text-[#FF6B00]",children:[L.total_spent?L.total_spent.toFixed(2):"0.00"," "]}),t.jsx("p",{className:`text-xs ${R}`,children:"Total dpens"})]}),t.jsx(Ft,{className:`w-5 h-5 ${R}`})]})]}),t.jsxs("div",{className:`flex items-center gap-4 mt-4 pt-4 border-t border-dashed ${S?"border-gray-200":"border-white/10"}`,children:[t.jsxs("span",{className:`flex items-center gap-1 text-xs ${R}`,children:[t.jsx(ev,{className:"w-3 h-3"}),"Inscrit: ",O(L.created_at)]}),L.last_login&&t.jsxs("span",{className:`flex items-center gap-1 text-xs ${R}`,children:[t.jsx(km,{className:"w-3 h-3"}),"Dernire connexion: ",O(L.last_login)]})]})]},L.id))})]})})]})},j_=()=>{const{t:s}=Ot(),{id:i}=ti(),l=Sn(),[u,f]=_.useState(null),[p,g]=_.useState(!0),[v,S]=_.useState(()=>localStorage.getItem("site-theme")==="light");_.useEffect(()=>{const P=()=>{S(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",P),()=>window.removeEventListener("themechange",P)},[]),_.useEffect(()=>{i&&w(i)},[i]);const w=async P=>{g(!0);try{const L=await(await fetch(`https://yasndeco-api.andrey-gaffer.workers.dev/api/admin/clients/${P}`)).json();L.success&&f(L.data)}catch(O){console.error("Failed to fetch client:",O)}finally{g(!1)}},A=P=>P?new Date(P).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",j=v?"text-zinc-900":"text-zinc-100",T=v?"text-zinc-600":"text-zinc-400",R=v?"border-black":"border-[#FF6B00]/20",B=v?"bg-white/95 border-gray-200":"bg-black/95 border-white/10";if(p)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})});if(!u)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("p",{className:T,children:"Client non trouv"})});const{client:D,orders:$}=u;return t.jsxs("div",{className:"min-h-screen",children:[t.jsxs("header",{className:`w-full flex items-center justify-between px-4 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${B}`,children:[t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("button",{onClick:()=>l("/admin/clients"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${v?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`,children:[t.jsx(Ft,{className:"w-3.5 h-3.5 rotate-180"}),"Retour aux clients"]})}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center",children:t.jsx(Cs,{className:"w-3.5 h-3.5 text-black"})}),t.jsxs("button",{onClick:()=>l("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${v?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`,children:[t.jsx(ja,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"hidden sm:inline",children:s("admin.logout")})]})]})})]}),t.jsx("main",{className:"pt-20 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:()=>l("/admin/clients"),className:`mb-4 flex items-center gap-2 text-sm uppercase tracking-wide transition-colors ${T} hover:text-[#FF6B00]`,children:[t.jsx(Ft,{className:"w-4 h-4 rotate-180"}),"Retour  la liste"]}),t.jsx("h1",{className:`font-black italic text-3xl md:text-4xl uppercase tracking-tight ${j}`,children:D.name})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-6 border ${R} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-4 ${j}`,children:"Informations"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${v?"bg-gray-100":"bg-white/10"}`,children:t.jsx(Cs,{className:`w-5 h-5 ${T}`})}),t.jsxs("div",{children:[t.jsx("p",{className:`text-sm font-bold uppercase tracking-wide ${j}`,children:D.name}),t.jsx("p",{className:`text-xs ${T}`,children:"Client"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${v?"bg-gray-100":"bg-white/10"}`,children:t.jsx(Ul,{className:`w-5 h-5 ${T}`})}),t.jsxs("div",{children:[t.jsx("p",{className:`text-sm ${j}`,children:D.email}),t.jsx("p",{className:`text-xs ${T}`,children:"Email"})]})]}),D.phone&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${v?"bg-gray-100":"bg-white/10"}`,children:t.jsx(Pl,{className:`w-5 h-5 ${T}`})}),t.jsxs("div",{children:[t.jsx("p",{className:`text-sm ${j}`,children:D.phone}),t.jsx("p",{className:`text-xs ${T}`,children:"Tlphone"})]})]})]}),t.jsx("div",{className:`mt-6 pt-6 border-t ${v?"border-gray-200":"border-white/10"}`,children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:`text-2xl font-bold ${j}`,children:D.order_count}),t.jsx("p",{className:`text-xs ${T}`,children:"Commandes"})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold text-[#FF6B00]",children:[D.total_spent?D.total_spent.toFixed(2):"0.00"," "]}),t.jsx("p",{className:`text-xs ${T}`,children:"Total dpens"})]})]})})]}),t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:`p-6 border ${R} rounded-xl`,children:[t.jsx("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-4 ${j}`,children:"Activit"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:`flex items-center gap-2 text-sm ${T}`,children:[t.jsx(ev,{className:"w-4 h-4"}),t.jsxs("span",{children:["Inscrit le ",A(D.created_at)]})]}),D.last_login&&t.jsxs("div",{className:`flex items-center gap-2 text-sm ${T}`,children:[t.jsx(km,{className:"w-4 h-4"}),t.jsxs("span",{children:["Dernire connexion: ",A(D.last_login)]})]})]})]})]}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`p-6 border ${R} rounded-xl`,children:[t.jsxs("h2",{className:`font-bold italic text-xl uppercase tracking-wide mb-6 ${j}`,children:["Historique des commandes (",$.length,")"]}),$.length===0?t.jsxs("div",{className:`text-center py-8 ${T}`,children:[t.jsx(Vl,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),t.jsx("p",{children:"Aucune commande"})]}):t.jsx("div",{className:"space-y-4",children:$.map(P=>t.jsxs("div",{className:`p-4 border ${R} rounded-xl ${v?"bg-gray-50":"bg-white/5"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:`font-bold uppercase tracking-wide ${j}`,children:["Commande #",P.id]}),t.jsx("p",{className:`text-xs ${T}`,children:A(P.created_at)})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-xl font-bold text-[#FF6B00]",children:[P.total_price.toFixed(2)," "]}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${P.status==="completed"?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:P.status==="completed"?"Termine":P.status})]})]}),t.jsx("div",{className:"space-y-2",children:P.items.map((O,L)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${v?"bg-gray-200":"bg-white/10"} ${T}`,children:O.quantity}),t.jsx("span",{className:j,children:O.name})]}),t.jsxs("span",{className:`${T}`,children:[(O.price*O.quantity).toFixed(2)," "]})]},L))}),P.notes&&t.jsx("div",{className:`mt-3 pt-3 border-t ${v?"border-gray-200":"border-white/10"}`,children:t.jsxs("p",{className:`text-xs ${T}`,children:[t.jsx("span",{className:"font-bold",children:"Note:"})," ",P.notes]})})]},P.id))})]})})]})]})})]})},zr={label_size:"text-xs",label_weight:"font-bold",label_transform:"uppercase",label_tracking:"tracking-widest",label_color:"#FF6B00",title_size:"text-4xl",title_weight:"font-black",title_italic:!0,title_transform:"uppercase",title_color:"#FFFFFF",content_size:"text-sm",content_weight:"font-normal",content_color:"#9CA3AF"},E_=()=>{const{t:s}=Ot(),i=Sn(),[l,u]=_.useState(()=>localStorage.getItem("site-theme")==="light"),[f,p]=_.useState([]),[g,v]=_.useState(!0),[S,w]=_.useState(""),[A,j]=_.useState(""),[T,R]=_.useState(null),[B,D]=_.useState(!1),[$,P]=_.useState(!1),[O,L]=_.useState({key:"",slide_index:1,label_ru:"",label_fr:"",label_en:"",title_ru:"",title_fr:"",title_en:"",content_ru:"",content_fr:"",content_en:"",is_active:!0,label_size:"text-xs",label_weight:"font-bold",label_transform:"uppercase",label_tracking:"tracking-widest",label_color:"#FF6B00",title_size:"text-4xl",title_weight:"font-black",title_italic:!0,title_transform:"uppercase",title_color:"#FFFFFF",content_size:"text-sm",content_weight:"font-normal",content_color:"#9CA3AF"}),W="https://yasndeco-api.andrey-gaffer.workers.dev/api";_.useEffect(()=>{const ne=()=>{u(localStorage.getItem("site-theme")==="light")};return window.addEventListener("themechange",ne),()=>window.removeEventListener("themechange",ne)},[]),_.useEffect(()=>{de()},[]);const de=async()=>{v(!0),w("");const ne=[{id:1,key:"slide1",slide_index:1,label_ru:"-",label_fr:"LIVRAISON EXPRESS DISPONIBLE",label_en:"EXPRESS DELIVERY",title_ru:"    ",title_fr:"MATERIAUX DE CONSTRUCTION AVEC LIVRAISON RAPIDE",title_en:"CONSTRUCTION MATERIALS WITH FAST DELIVERY",content_ru:"  ,            --.  ,  .     .",content_fr:"Bas  Groslay, nous servons les professionnels et particuliers  Montmorency et dans toute l'le-de-France. Qualit industrielle, service local. Nos prix vous surprendront agrablement.",content_en:"Based in Groslay, we serve professionals and individuals in Montmorency and throughout le-de-France. Industrial quality, local service. Our prices will pleasantly surprise you.",is_active:!0,styles:{...zr}},{id:2,key:"slide2",slide_index:2,label_ru:" ",label_fr:"QUALIT PROFESSIONNELLE",label_en:"PROFESSIONAL QUALITY",title_ru:"   --",title_fr:"SERVICE LOCAL EN LE-DE-FRANCE",title_en:"LOCAL SERVICE IN LE-DE-FRANCE",content_ru:"      ",content_fr:"Prix comptitifs pour les pros et les particuliers",content_en:"Competitive prices for pros and individuals",is_active:!0,styles:{...zr}},{id:3,key:"slide3",slide_index:3,label_ru:" ",label_fr:"CONSEIL EXPERT",label_en:"EXPERT ADVICE",title_ru:"  ",title_fr:"TOUTE GAMME DE MATRIAUX",title_en:"FULL RANGE OF MATERIALS",content_ru:"    -    ",content_fr:"Des revtements aux outils, tout pour vos projets",content_en:"From coatings to tools, everything for your projects",is_active:!0,styles:{...zr}}];try{const U=await(await fetch(`${W}/admin/slides`)).json();U.success&&U.data&&U.data.length>0?p(U.data):p(ne)}catch{p(ne)}finally{v(!1)}},ae=(ne,ee)=>{const U=js.language||"fr",G=`${ee}_${U}`,ie=`${ee}_fr`;return ne[G]||ne[ie]||""},X=(ne,ee)=>{L(U=>({...U,[ne]:ee}))},ue=async()=>{const ne=O.label_fr?.trim()?"fr":O.label_ru?.trim()?"ru":O.label_en?.trim()?"en":null;if(!ne){w("   ");return}const ee=O[`label_${ne}`],U=O[`title_${ne}`],G=O[`content_${ne}`];if(!ee||ee.trim().length<3){w("    ( 3 )");return}P(!0),w("");const ie=["ru","fr","en"].filter(V=>V!==ne),be={text:`${ee}|||${U}|||${G}`,description:"",sourceLang:ne,targetLangs:ie,tags:"slide_text"};try{const te=await(await fetch(`${W}/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(be)})).json();if(te.success&&te.data){const se={...O};["ru","fr","en"].forEach(xe=>{if(xe===ne)return;const we=te.data[xe];if(we&&we.description){const Me=we.description.split("|||");se[`label_${xe}`]=Me[0]?.trim()||"",se[`title_${xe}`]=Me[1]?.trim()||"",se[`content_${xe}`]=Me[2]?.trim()||""}}),L(se),j(" "),setTimeout(()=>j(""),3e3)}else w(" ")}catch(V){w("  "),console.error("Translation error:",V)}finally{P(!1)}},q=ne=>{L({key:ne.key,slide_index:ne.slide_index,label_ru:ne.label_ru||"",label_fr:ne.label_fr||"",label_en:ne.label_en||"",title_ru:ne.title_ru||"",title_fr:ne.title_fr||"",title_en:ne.title_en||"",content_ru:ne.content_ru||"",content_fr:ne.content_fr||"",content_en:ne.content_en||"",is_active:ne.is_active,...ne.styles||zr}),R(ne),D(!0)},Y=()=>{D(!1),R(null),w("")},Ce=()=>{if(w(""),!O.key.trim()){w("Key is required");return}p(ne=>ne.map(ee=>ee.id===T?.id?{...ee,label_ru:O.label_ru,label_fr:O.label_fr,label_en:O.label_en,title_ru:O.title_ru,title_fr:O.title_fr,title_en:O.title_en,content_ru:O.content_ru,content_fr:O.content_fr,content_en:O.content_en,is_active:O.is_active,styles:{label_size:O.label_size,label_weight:O.label_weight,label_transform:O.label_transform,label_tracking:O.label_tracking,label_color:O.label_color,title_size:O.title_size,title_weight:O.title_weight,title_italic:O.title_italic,title_transform:O.title_transform,title_color:O.title_color,content_size:O.content_size,content_weight:O.content_weight,content_color:O.content_color}}:ee)),j("Saved!"),Y(),setTimeout(()=>j(""),3e3)},he=async()=>{w(""),j(""),p(ne=>ne.map(ee=>({...ee,styles:ee.styles||zr})));try{for(const ne of f)await fetch(`${W}/admin/slides`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ne,styles:ne.styles||zr})});j(s("admin.slogans.savedToMain")),qu()}catch{w("Failed to save")}setTimeout(()=>j(""),3e3)},oe=l?"text-zinc-600":"text-zinc-400",ge=l?"text-zinc-900":"text-white",Z=l?"border-zinc-200":"border-zinc-700/50",re=l?"bg-white":"bg-black/50",J=l?"bg-white/95 border-gray-200":"bg-black/95 border-white/10",ke=l?"bg-white":"bg-zinc-900";return g?Ze.createElement("div",{className:"min-h-screen flex items-center justify-center bg-transparent"},Ze.createElement(Nt,{className:"w-8 h-8 text-[#FF6B00] animate-spin"})):Ze.createElement("div",{className:"min-h-screen"},Ze.createElement("header",{className:`w-full flex items-center justify-between px-3 sm:px-6 lg:px-10 py-3 border-b fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${J}`},Ze.createElement("div",{className:"flex items-center gap-3 sm:gap-4"},Ze.createElement("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${l?"text-gray-500 hover:text-[#FF6B00]":"text-zinc-500 hover:text-[#FF6B00]"}`},Ze.createElement(Ft,{className:"w-3.5 h-3.5 rotate-180"}),Ze.createElement("span",{className:"hidden sm:inline"},s("admin.backToSite")))),Ze.createElement("div",{className:"flex items-center gap-3 sm:gap-4"},Ze.createElement("div",{className:"w-7 h-7 rounded-full bg-[#FF6B00] flex items-center justify-center"},Ze.createElement(Cs,{className:"w-3.5 h-3.5 text-black"})),Ze.createElement("button",{onClick:()=>i("/"),className:`flex items-center gap-1.5 text-xs font-bold uppercase tracking-wider transition-colors ${l?"text-gray-600 hover:text-[#FF6B00]":"text-zinc-400 hover:text-[#FF6B00]"}`},Ze.createElement(ja,{className:"w-3.5 h-3.5"}),Ze.createElement("span",{className:"hidden sm:inline"},s("admin.logout"))))),Ze.createElement("main",{className:"pt-20 pb-12"},Ze.createElement("div",{className:"max-w-full mx-auto px-3 sm:px-6 lg:px-8"},Ze.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8"},Ze.createElement("div",null,Ze.createElement("h1",{className:`font-black italic text-2xl sm:text-3xl uppercase tracking-tight ${ge}`},s("admin.slogans.title")),Ze.createElement("p",{className:`text-xs sm:text-sm ${oe}`},s("admin.slogans.pageDesc"))),Ze.createElement("button",{onClick:he,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-[#FF6B00] text-black text-xs sm:text-sm font-bold uppercase tracking-wide rounded-lg hover:bg-[#FF8533] transition-colors"},Ze.createElement(Xs,{className:"w-4 h-4"}),s("admin.saveAndUpdate"))),S&&Ze.createElement("div",{className:"mb-6 p-3 sm:p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-500 text-xs sm:text-sm"},S),A&&Ze.createElement("div",{className:"mb-6 p-3 sm:p-4 bg-green-500/20 border border-green-500/50 rounded-lg text-green-500 text-xs sm:text-sm flex items-center gap-2"},Ze.createElement(Dn,{className:"w-4 h-4"}),A),Ze.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6"},f.map(ne=>{const ee=ne.styles||zr;return Ze.createElement("div",{key:ne.id,className:"flex flex-col"},Ze.createElement("div",{className:"mb-4 flex items-center gap-2"},Ze.createElement("div",{className:"w-10 h-10 rounded-xl bg-[#FF6B00]/20 flex items-center justify-center"},Ze.createElement(ei,{className:"w-5 h-5 text-[#FF6B00]"})),Ze.createElement("div",null,Ze.createElement("h3",{className:`font-bold italic uppercase tracking-wide ${ge}`},ae(ne,"label")||s(`admin.slide${ne.slide_index}.title`)),Ze.createElement("p",{className:`text-xs ${oe}`},`Slide ${ne.slide_index}`))),Ze.createElement("div",{className:`border ${Z} rounded-xl overflow-hidden ${ke} flex-grow flex flex-col h-[280px] sm:h-[300px]`},Ze.createElement("div",{className:`flex-grow p-4 sm:p-6 ${l?"bg-gray-50":"bg-white/5"}`},Ze.createElement("div",{className:"flex flex-col h-full"},Ze.createElement("span",{className:`${ee.label_size} ${ee.label_weight} ${ee.label_transform} ${ee.label_tracking} mb-1 sm:mb-2`,style:{color:ee.label_color}},ae(ne,"label")||"LABEL"),Ze.createElement("h1",{className:`${ee.title_size} ${ee.title_weight} ${ee.title_italic?"italic":""} ${ee.title_transform} leading-none tracking-tight mb-2 sm:mb-3`,style:{color:ee.title_color}},ae(ne,"title")||"TITLE"),Ze.createElement("p",{className:`${ee.content_size} ${ee.content_weight} flex-grow leading-relaxed line-clamp-3 sm:line-clamp-4`,style:{color:ee.content_color}},ae(ne,"content")||"Description..."))),Ze.createElement("div",{className:`px-3 py-3 border-t ${Z} flex items-center justify-between`},Ze.createElement("span",{className:`text-xs ${oe}`},`ID: ${ne.id}`),Ze.createElement("button",{onClick:()=>q(ne),className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#FF6B00] text-black text-xs font-bold uppercase rounded hover:bg-[#FF8533]"},Ze.createElement(ei,{className:"w-3 h-3"}),s("admin.slogans.edit")))))})))),B&&Ze.createElement(rs,null,Ze.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]",onClick:Y}),Ze.createElement("div",{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl max-h-[90vh] z-[70] ${ke} rounded-2xl shadow-2xl overflow-hidden flex flex-col`},Ze.createElement("div",{className:`p-4 sm:p-6 border-b ${Z} flex items-center justify-between`},Ze.createElement("h2",{className:`font-bold italic text-lg sm:text-xl uppercase tracking-wide ${ge}`},s(T?`admin.slide${T.slide_index}.title`:"admin.slogans.title")),Ze.createElement("button",{onClick:Y,className:`p-1.5 sm:p-2 rounded-lg transition-colors ${l?"hover:bg-gray-100":"hover:bg-white/10"}`},Ze.createElement(qn,{className:`w-5 h-5 ${ge}`}))),Ze.createElement("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4"},Ze.createElement("div",{className:"flex justify-end"},Ze.createElement("button",{onClick:ue,disabled:$,className:`flex items-center gap-2 px-4 py-2 text-xs sm:text-sm font-bold uppercase rounded-lg transition-colors ${$?"bg-[#FF6B00]/50 text-black cursor-not-allowed":"bg-[#FF6B00] text-black hover:bg-[#FF8533]"}`},Ze.createElement(GE,{className:"w-4 h-4"}),$?"...":"AI ")),["ru","fr","en"].map(ne=>Ze.createElement("div",{key:ne,className:`p-3 sm:p-4 border ${Z} rounded-xl ${l?"bg-gray-50":"bg-white/5"}`},Ze.createElement("h4",{className:`font-bold uppercase text-xs ${oe} mb-3`},ne==="ru"?"RU":ne==="en"?"EN":"FR"),["label","title","content"].map(ee=>Ze.createElement("div",{key:ee,className:"mb-4"},Ze.createElement("div",{className:"flex items-center justify-between mb-2"},Ze.createElement("label",{className:`block text-[10px] font-bold uppercase tracking-wide ${oe}`},ee),ee==="label"&&Ze.createElement("div",{className:"flex gap-1"},Ze.createElement("select",{value:O.label_size,onChange:U=>X("label_size",U.target.value),className:`px-2 py-1 border ${Z} rounded text-xs ${ge} ${re}`},Ze.createElement("option",{value:"text-xs"},"xs"),Ze.createElement("option",{value:"text-sm"},"sm"),Ze.createElement("option",{value:"text-base"},"base")),Ze.createElement("select",{value:O.label_weight,onChange:U=>X("label_weight",U.target.value),className:`px-2 py-1 border ${Z} rounded text-xs ${ge} ${re}`},Ze.createElement("option",{value:"font-normal"},"N"),Ze.createElement("option",{value:"font-bold"},"B")),Ze.createElement("input",{type:"color",value:O.label_color,onChange:U=>X("label_color",U.target.value),className:"w-7 h-6 rounded border cursor-pointer"})),ee==="title"&&Ze.createElement("div",{className:"flex gap-1"},Ze.createElement("select",{value:O.title_size,onChange:U=>X("title_size",U.target.value),className:`px-2 py-1 border ${Z} rounded text-xs ${ge} ${re}`},Ze.createElement("option",{value:"text-3xl"},"3xl"),Ze.createElement("option",{value:"text-4xl"},"4xl"),Ze.createElement("option",{value:"text-5xl"},"5xl")),Ze.createElement("select",{value:O.title_weight,onChange:U=>X("title_weight",U.target.value),className:`px-2 py-1 border ${Z} rounded text-xs ${ge} ${re}`},Ze.createElement("option",{value:"font-bold"},"B"),Ze.createElement("option",{value:"font-black"},"BL")),Ze.createElement("button",{onClick:()=>X("title_italic",!O.title_italic),className:`px-2 py-1 border ${Z} rounded text-xs ${O.title_italic?"bg-[#FF6B00] text-black":ge} ${re}`},"I"),Ze.createElement("input",{type:"color",value:O.title_color,onChange:U=>X("title_color",U.target.value),className:"w-7 h-6 rounded border cursor-pointer"})),ee==="content"&&Ze.createElement("div",{className:"flex gap-1"},Ze.createElement("select",{value:O.content_size,onChange:U=>X("content_size",U.target.value),className:`px-2 py-1 border ${Z} rounded text-xs ${ge} ${re}`},Ze.createElement("option",{value:"text-sm"},"sm"),Ze.createElement("option",{value:"text-base"},"base")),Ze.createElement("select",{value:O.content_weight,onChange:U=>X("content_weight",U.target.value),className:`px-2 py-1 border ${Z} rounded text-xs ${ge} ${re}`},Ze.createElement("option",{value:"font-normal"},"N")),Ze.createElement("input",{type:"color",value:O.content_color,onChange:U=>X("content_color",U.target.value),className:"w-7 h-6 rounded border cursor-pointer"}))),Ze.createElement("input",{type:"text",value:O[`${ee}_${ne}`],onChange:U=>X(`${ee}_${ne}`,U.target.value),className:`w-full px-3 py-2 border ${Z} rounded-lg text-xs ${ge} ${re}`})))))),Ze.createElement("div",{className:`p-4 sm:p-6 border-t ${Z} flex justify-end gap-3`},Ze.createElement("button",{onClick:Y,className:`px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold uppercase border ${Z} rounded-lg ${ge}`},s("admin.cancel")),Ze.createElement("button",{onClick:Ce,className:"flex items-center gap-1.5 px-4 sm:px-6 py-2 sm:py-2.5 bg-[#FF6B00] text-black text-xs sm:text-sm font-bold uppercase rounded-lg hover:bg-[#FF8533]"},Ze.createElement(Xs,{className:"w-4 h-4"}),s("admin.save"))))))},A_="/assets/bg/bg-dark.png",__="/assets/bg/bg-light.png",T_=({theme:s})=>{const i=Ss();return _.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),requestAnimationFrame(()=>{window.scrollTo(0,0)})},[i.pathname,i.search]),t.jsx(rs,{mode:"popLayout",children:t.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"easeOut"},className:"will-change-transform w-full",children:t.jsxs(Z3,{location:i,children:[t.jsx(pt,{path:"/",element:t.jsx(YA,{theme:s})}),t.jsx(pt,{path:"/catalogue",element:t.jsx(Lb,{theme:s})}),t.jsx(pt,{path:"/catalogue/:categoryId",element:t.jsx(Lb,{theme:s})}),t.jsx(pt,{path:"/catalogue/:categoryId/:subcategoryId",element:t.jsx(JA,{theme:s})}),t.jsx(pt,{path:"/catalogue/:categoryId/:subcategoryId/:productId",element:t.jsx(Pb,{theme:s})}),t.jsx(pt,{path:"/product/:id",element:t.jsx(Pb,{theme:s})}),t.jsx(pt,{path:"/marques",element:t.jsx(WA,{theme:s})}),t.jsx(pt,{path:"/marques/:id",element:t.jsx(Z8,{theme:s})}),t.jsx(pt,{path:"/services",element:t.jsx(KA,{theme:s})}),t.jsx(pt,{path:"/calculateurs",element:t.jsx(ZA,{theme:s})}),t.jsx(pt,{path:"/contact",element:t.jsx(QA,{theme:s})}),t.jsx(pt,{path:"/legal",element:t.jsx(n8,{theme:s})}),t.jsx(pt,{path:"/profile",element:t.jsx(e8,{})}),t.jsx(pt,{path:"/checkout",element:t.jsx(t8,{})}),t.jsxs(pt,{path:"/admin",element:t.jsx($b,{}),children:[t.jsx(pt,{index:!0,element:t.jsx($b,{})}),t.jsx(pt,{path:"products",element:t.jsx(zb,{})}),t.jsx(pt,{path:"products/:id",element:t.jsx(A2,{})}),t.jsx(pt,{path:"products/:id/edit",element:t.jsx(_2,{})}),t.jsx(pt,{path:"add-product",element:t.jsx(w2,{})}),t.jsx(pt,{path:"categories",element:t.jsx(v2,{})}),t.jsx(pt,{path:"categories/:id",element:t.jsx(R2,{})}),t.jsx(pt,{path:"categories/:id/edit",element:t.jsx(O2,{})}),t.jsx(pt,{path:"add-category",element:t.jsx(B2,{})}),t.jsx(pt,{path:"brands",element:t.jsx(N2,{})}),t.jsx(pt,{path:"brands/:id",element:t.jsx(C2,{})}),t.jsx(pt,{path:"translations",element:t.jsx(S2,{})}),t.jsx(pt,{path:"clients",element:t.jsx(S_,{})}),t.jsx(pt,{path:"clients/:id",element:t.jsx(j_,{})}),t.jsx(pt,{path:"services",element:t.jsx(k2,{})}),t.jsx(pt,{path:"calculators",element:t.jsx(j2,{})}),t.jsx(pt,{path:"settings",element:t.jsx(E2,{})}),t.jsx(pt,{path:"content",element:t.jsx(F2,{})}),t.jsx(pt,{path:"warehouse",element:t.jsx("div",{className:"p-8 text-center text-zinc-400",children:"Warehouse Terminal -   "})})]}),t.jsx(pt,{path:"/admin/products",element:t.jsx(zb,{})}),t.jsx(pt,{path:"/admin/products/:id",element:t.jsx(A2,{})}),t.jsx(pt,{path:"/admin/products/:id/edit",element:t.jsx(_2,{})}),t.jsx(pt,{path:"/admin/add-product",element:t.jsx(w2,{})}),t.jsx(pt,{path:"/admin/categories",element:t.jsx(v2,{})}),t.jsx(pt,{path:"/admin/categories/:id",element:t.jsx(R2,{})}),t.jsx(pt,{path:"/admin/categories/:id/edit",element:t.jsx(O2,{})}),t.jsx(pt,{path:"/admin/add-category",element:t.jsx(B2,{})}),t.jsx(pt,{path:"/admin/brands",element:t.jsx(N2,{})}),t.jsx(pt,{path:"/admin/brands/:id",element:t.jsx(C2,{})}),t.jsx(pt,{path:"/admin/translations",element:t.jsx(S2,{})}),t.jsx(pt,{path:"/admin/services",element:t.jsx(k2,{})}),t.jsx(pt,{path:"/admin/calculators",element:t.jsx(j2,{})}),t.jsx(pt,{path:"/admin/settings",element:t.jsx(E2,{})}),t.jsx(pt,{path:"/admin/content",element:t.jsx(F2,{})}),t.jsx(pt,{path:"/admin/slogans",element:t.jsx(E_,{})}),t.jsx(pt,{path:"/admin/warehouse",element:t.jsx("div",{className:"p-8 text-center text-zinc-400",children:"Warehouse Terminal -   "})}),t.jsx(pt,{path:"/v-terminal",element:t.jsx("div",{className:"p-8 text-center text-zinc-400",children:"Warehouse Terminal -   "})})]},i.pathname)},i.pathname)})},k_=()=>{const[s,i]=_.useState(()=>localStorage.getItem("site-theme")||"dark"),l=Ss(),u=l.pathname.startsWith("/admin")||l.pathname.startsWith("/v-terminal");_.useEffect(()=>{localStorage.setItem("site-theme",s),document.documentElement.classList.toggle("light",s==="light")},[s]),_.useEffect(()=>{const p=()=>{i(localStorage.getItem("site-theme")||"dark")};return window.addEventListener("themechange",p),()=>window.removeEventListener("themechange",p)},[]);const f=s==="dark"?A_:__;return t.jsx(m6,{i18n:js,children:t.jsx(K5,{children:t.jsx(Z5,{children:t.jsxs("div",{className:"relative w-full min-h-screen",children:[t.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat transition-all duration-700",style:{backgroundImage:`url(${f})`}}),!u&&t.jsx(HA,{theme:s,onToggleTheme:()=>{const p=s==="dark"?"light":"dark";localStorage.setItem("site-theme",p),i(p),window.dispatchEvent(new Event("themechange"))}}),u&&t.jsx(GA,{}),t.jsx(XA,{}),t.jsx("main",{className:`relative z-10 w-full ${u?"pt-16 sm:pt-20":""}`,children:t.jsx(T_,{theme:s})}),!u&&t.jsx(qA,{theme:s}),t.jsx(C_,{theme:s}),t.jsx(fv,{isOpen:!1,onClose:()=>{},theme:s})]})})})})};QN.createRoot(document.getElementById("root")).render(t.jsx(Ze.StrictMode,{children:t.jsx(v4,{children:t.jsx(k_,{})})}));
